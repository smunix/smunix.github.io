<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  
<!-- Mirrored from ghc.haskell.org/trac/ghc/wiki/ReportABug by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 31 Dec 2016 05:03:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>
      ReportABug – GHC
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="https://ghc.haskell.org/trac/ghc/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="https://ghc.haskell.org/trac/ghc/wiki/ReportABug?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="https://ghc.haskell.org/trac/ghc/wiki" />
        <link rel="stylesheet" href="https://ghc.haskell.org/trac-1.0.7-htdocs/css/trac.css" type="text/css" /><link rel="stylesheet" href="https://ghc.haskell.org/trac-1.0.7-htdocs/css/wiki.css" type="text/css" /><link rel="stylesheet" href="https://ghc.haskell.org/trac/ghc/chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="https://ghc.haskell.org/trac/ghc/chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="https://ghc.haskell.org/trac/ghc/wikiextras/dynamicboxes.css" type="text/css" />
        <link rel="shortcut icon" href="https://ghc.haskell.org/trac/ghc/chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="https://ghc.haskell.org/trac/ghc/chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="https://ghc.haskell.org/trac/ghc/search/opensearch" title="Search GHC" />
      <script type="text/javascript" charset="utf-8" src="https://ghc.haskell.org/trac-1.0.7-htdocs/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="https://ghc.haskell.org/trac-1.0.7-htdocs/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="https://ghc.haskell.org/trac-1.0.7-htdocs/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="https://ghc.haskell.org/trac-1.0.7-htdocs/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="https://ghc.haskell.org/trac-1.0.7-htdocs/js/folding.js"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.haskell.org/ghc/"><img src="https://ghc.haskell.org/trac/ghc/chrome/site/ghc_logo.png" alt="Trac" height="73" width="584" /></a>
      </div>
      <form id="search" action="https://ghc.haskell.org/trac/ghc/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://ghc.haskell.org/trac/ghc/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="https://ghc.haskell.org/trac/ghc/about">About Trac</a></li><li><a href="https://ghc.haskell.org/trac/ghc/prefs">Preferences</a></li><li class="last"><a href="https://ghc.haskell.org/trac/ghc/register">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="https://ghc.haskell.org/trac/ghc/wiki">Wiki</a></li><li><a href="https://ghc.haskell.org/trac/ghc/timeline">Timeline</a></li><li><a href="https://ghc.haskell.org/trac/ghc/roadmap">Roadmap</a></li><li><a href="https://ghc.haskell.org/trac/ghc/browser">Browse Source</a></li><li><a href="https://ghc.haskell.org/trac/ghc/report">View Tickets</a></li><li><a href="https://ghc.haskell.org/trac/ghc/search">Search</a></li><li class="last"><a href="https://ghc.haskell.org/trac/ghc/blog">Blog</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="https://ghc.haskell.org/trac/ghc/wiki">wiki:</a><a class="pathentry" href="ReportABug.html" title="View ReportABug">ReportABug</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="https://ghc.haskell.org/trac/ghc/wiki/ReportABug?action=history">History</a></li>
        </ul>
        <hr />
      </div>
    <div id="ghc-wrap" style="padding: 0; margin 0; width: 100%; border: 0; min-height: 45em;">
      <div id="ghc-sidebar" style="border: 1px solid #bbb; margin-top: 0px; width: 136px; border-radius: 0.5em; position: absolute; background-color: #D6F3D6; box-shadow: 1px 1px 10px #aaa;">
  <ul style="list-style: none; padding: 9px; font-size: 85%; margin: 0;">
    <li><a href="http://ghc.haskell.org/trac/ghc">GHC Trac Home</a></li>
    <li><a href="http://www.haskell.org/ghc/">GHC Home</a></li>
    <li> </li>
    <li><b>Joining In</b></li>
    <li><a href="ReportABug.html">Report a bug</a></li>
    <li><a href="Newcomers.html">Newcomers info</a></li>
    <li><a href="MailingListsAndIRC.html">Mailing Lists &amp; IRC</a></li>
    <li><a href="TeamGHC.html">The GHC Team</a></li>
    <li> </li>
    <li><b>Documentation</b></li>
    <li><a href="Status.html">GHC Status Info</a></li>
    <li><a href="Building.html">Building Guide</a></li>
    <li><a href="WorkingConventions.html">Working conventions</a></li>
    <li><a href="Commentary.html">Commentary</a></li>
    <li><a href="Debugging.html">Debugging</a></li>
    <li><a href="Infrastructure.html">Infrastructure</a></li>
    <li> </li>
    <li><b>View Tickets</b></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/query?status=infoneeded&amp;status=new&amp;status=patch&amp;order=priority&amp;owner=$USER">My Tickets</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/query?status=infoneeded&amp;status=new&amp;status=patch&amp;order=priority&amp;reporter=$USER">Tickets I Created</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/query?status=new&amp;status=assigned&amp;status=reopened&amp;group=milestone&amp;order=priority">By Milestone</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/query?status=new&amp;status=assigned&amp;status=reopened&amp;group=os&amp;order=priority">By OS</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/query?status=new&amp;status=assigned&amp;status=reopened&amp;group=architecture&amp;order=priority">By Architecture</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/query?status=patch&amp;ol=id&amp;col=summary&amp;col=owner&amp;col=type&amp;col=priority&amp;col=milestone&amp;col=component&amp;order=priority&amp;differential=">Patches for review</a></li>
    <li> </li>
    <li><b>Create Ticket</b></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/newticket?type=bug">New Bug</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/newticket?type=task">New Task</a></li>
    <li><a href="https://ghc.haskell.org/trac/ghc/newticket?type=feature+request">New Feature Req</a></li>
    <li> </li>
    <li><b>Wiki</b></li>
    <li><a href="TitleIndex.html">Title Index</a></li>
    <li><a href="RecentChanges.html">Recent Changes</a></li>
    <li><a href="TracWikiMisc.html">Wiki Notes</a></li>
  </ul>
</div>
      <div id="ghc-content" style="margin-left: 150px;">
        <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="ReportingbugsinGHC">Reporting bugs in GHC</h1>
<p>
Glasgow Haskell is a changing system so there are sure to be bugs in it.
</p>
<p>
To report a bug, either:
</p>
<ul><li>Preferred:
<ul><li><a href="https://ghc.haskell.org/trac/ghc/register">register</a> an account on this Trac
</li><li>Create a <a href="https://ghc.haskell.org/trac/ghc/newticket?type=bug">new bug</a>, and enter your bug report. You can also search the bug database here to make sure your bug hasn't already been reported (if it has, it might still help to add information from your experience to the existing report).
</li></ul></li><li>Less preferred:
<ul><li>To submit an anonymous bug: use login "guest", password "guest"
</li></ul></li></ul><h2 id="HowdoItellifIshouldreportmybug">How do I tell if I should report my bug?</h2>
<ul><li>Take a look at the <a class="ext-link" href="http://haskell.org/haskellwiki/GHC/FAQ"><span class="icon">​</span>FAQ</a> and <a href="http://www.haskell.org/ghc/docs/latest/html/users_guide/gone_wrong.html">What to do when something goes wrong</a> from the GHC User's Guide, which will give you some guidance as to whether the behaviour you're seeing is really a bug or not.
</li></ul><ul><li>Please search for existing tickets on the <a class="ext-link" href="http://hackage.haskell.org/trac/ghc"><span class="icon">​</span>bug tracker</a> or <a class="ext-link" href="http://www.google.com/?q=site:ghc.haskell.org/trac/ghc/ticket%20"><span class="icon">​</span>Google</a>.  It saves time to have all the manifestations of the same bug gathered together.  If you get an error message from GHC, a good search key is usually the non-program-specific part of the error message.  
</li></ul><ul><li>If you do find an existing ticket that seems to describe the same problem, then
<ul><li>Add a comment that explains how it manifests for you, and add your description of how to reproduce it (see below)
</li><li>Add yourself to the CC list for the bug. We will try to prioritise bugs that affect a lot of people, and the length of the CC list is how we are currently determining this.  Use a comma or space (but not semicolon) to separate your email address from the next one.
</li></ul></li></ul><ul><li>However, if you encounter a crash from the runtime system, then don't bother searching for existing tickets - <strong>just create a new ticket</strong>.  These indicate a general RTS failure of some kind, and can arise due to a wide range of causes, so it is easier for us to track each failure in a separate ticket.  
</li></ul><blockquote>
<p>
Runtime system errors usually manifest as one of the following error messages:
</p>
<pre class="wiki">internal error: evacuate: strange closure type ...
internal error: scavenge: unimplemented/strange closure type ...
internal error: update_fwd: unknown/strange object ...
internal error: stg_ap_v_ret
</pre></blockquote>
<ul><li><strong>If in doubt, just report your bug</strong>.
</li></ul><h2 id="Whattoputinabugreport">What to put in a bug report</h2>
<p>
The Trac bug report system has various fields. Here's how to fill them in:
</p>
<ul><li><strong>Short summary</strong>.  This is what appears in one-bug-per line lists, so try to make it as informative as you can. A snippet of the error message, if there is one, usually makes a good summary.
</li></ul><ul><li><strong>Type</strong> says what kind of Trac ticket this is:
<ul><li><strong>bug</strong>: incorrect behaviour by GHC
</li><li><strong>feature request</strong>: something you would like GHC to do
</li><li><strong>task</strong> (for use by GHC developers only): something we intend to do sometime
</li></ul></li></ul><ul><li><strong>Full description</strong>.  This is where you describe your bug in details.  See "What information to provide" below.  Use the <a class="wiki" href="TracWikiMisc.html">wiki markup</a> in your description, especially <tt>{{{</tt> ... <tt>}}}</tt> brackets to mark up literal code.
</li></ul><ul><li><strong>CC</strong>.  If you are only logged in as <em>guest</em> then please consider including your email address (using a comma or space as separator, not a semicolon). That way we can ask you questions, and you'll get email from Trac when something happens to your bug.
</li></ul><ul><li><strong>Operating system</strong> and <strong>Architecture</strong>. Only fill these in if you think the bug is platform dependent. Otherwise, use <tt>Unknown/Multiple</tt>.
</li></ul><ul><li><strong>Component</strong> and <strong>Version</strong>. Please pay particular attention to <strong>version</strong>, which is the version of GHC that you are running. Ideally, the version field is used to denote the first version a bug/issue is known to exist in (regardless whether that version is "supported" or not). 
</li></ul><ul><li><strong>Priority</strong>, <strong>Milestone</strong>, <strong>Assign to</strong>, <strong>Difficulty</strong>, <strong>Test case</strong>, <strong>Blocking</strong>, <strong>Blocked by</strong>:  these are all for use by GHC developers; please don't fill these in.
</li></ul><p>
See also <a class="wiki" href="WorkingConventions.html">GHC working conventions</a>.
 
</p>
<h2 id="Fulldescription:whatinformationtoprovideinthebodyofyourbugreport">Full description: what information to provide in the body of your bug report</h2>
<p>
The name of the bug-reporting game is: facts, facts, facts. Don't omit them because "Oh, they won't be interested…".
</p>
<p>
<strong>The absolutely key thing is that we must be able to reproduce the bug</strong>.  Without this, we are virtually helpless; we know there's a problem but we usually can make no progress with fixing it.  The easiest way to help us reproduce the bug is to provide us with a program that elicits it:
</p>
<ul><li><strong>As small as possible</strong>.  It costs you real work to "boil down" the bug from a big program to a small one, but the plain truth is that the easier the bug is to reproduce, and the smaller the test program (= smaller debug output), the less time it costs us to fix it. Also, as you are familiar with the code, it is generally easier for you to boil it down than for us to.
</li><li><strong>Zero dependencies</strong>.  If we have to run <tt>cabal install</tt>, we can't put it in the testsuite <em>as is</em>.  
</li></ul><p>
One way to cut down programs is to replace library functions with definitions like
</p>
<pre class="wiki">  displayWidget :: This -&gt; IO That
  displayWidget = undefined
</pre><p>
and thereby avoid the necessity for the supporting library.  
</p>
<p>
Here is a check-list of things to cover in your description:
</p>
<ol><li>The source code of the program that shows the bug.  You can give the code inline, or attach a file, or attach a tarball.
</li><li>[Only if you think the bug is platform dependent]: what kind of machine are you running on, and exactly what version of the operating system are you using? (on a Unix system, <tt>uname -a</tt> or <tt>cat /etc/motd</tt> will show the desired information.) In the bug tracker, this information can be given in the "Architecture" and "Operating system" fields.
</li><li>What version of GCC are you using? <tt>gcc -v</tt> will tell you.
</li><li>Run the sequence of compiles/runs that caused the offending behaviour, cut-and-paste the whole session into the bug report. We'd prefer to see the whole thing.
</li><li>Add the <tt>-v</tt> flag when running GHC, so we can see exactly what was run, what versions of things you have, etc.
</li><li>Add the <tt>-dcore-lint</tt> flag when running GHC.  This adds some significant internal consistency-checking, which often nails bugs early.
</li><li>What is the program behaviour that is wrong, in your opinion?
</li></ol><p>
If you are a Hero and track down the problem in the compilation-system sources, please <a class="wiki" href="https://ghc.haskell.org/trac/ghc/wiki/WorkingConventions/FixingBugs">send us patches</a>.
</p>
</div>
          
          <div class="trac-modifiedby">
            <span><a href="https://ghc.haskell.org/trac/ghc/wiki/ReportABug?action=diff&amp;version=38" title="Version 38 by antalsz: Fixed pointer to &#34;What to do when something goes wrong&#34; for GHC 8.0.1">Last modified</a> <a class="timeline" href="https://ghc.haskell.org/trac/ghc/timeline?from=2016-05-23T18%3A06%3A51Z&amp;precision=second" title="See timeline at May 23, 2016 6:06:51 PM">7 months ago</a></span>
            <span class="trac-print">Last modified on May 23, 2016 6:06:51 PM</span>
          </div>
        
        
      </div>
        </div>
      </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="https://ghc.haskell.org/trac/ghc/wiki/ReportABug?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="https://ghc.haskell.org/trac-1.0.7-htdocs/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="https://ghc.haskell.org/trac/ghc/about"><strong>Trac 1.0.9</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>

<!-- Mirrored from ghc.haskell.org/trac/ghc/wiki/ReportABug by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 31 Dec 2016 05:03:54 GMT -->
</html>