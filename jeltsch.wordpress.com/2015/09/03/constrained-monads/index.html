<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en">
<!--<![endif]-->

Providence Salumu
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Constrained monads &laquo; Wolfgang Jeltsch</title>

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="https://jeltsch.wordpress.com/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="https://s0.wp.com/wp-content/themes/pub/quintus/js/html5.js" type="text/javascript"></script>
<![endif]-->

<link rel='dns-prefetch' href='http://s2.wp.com/' />
<link rel='dns-prefetch' href='http://s0.wp.com/' />
<link rel='dns-prefetch' href='http://s1.wp.com/' />
<link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel="alternate" type="application/rss+xml" title="Wolfgang Jeltsch &raquo; Feed" href="https://jeltsch.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Wolfgang Jeltsch &raquo; Comments Feed" href="https://jeltsch.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Wolfgang Jeltsch &raquo; Constrained monads Comments Feed" href="feed/index.html" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1473172720h&ver=4.6.1-RC1-38499"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='all-css-0-1' href='https://s1.wp.com/_static/??-eJx9UNEOwjAI/CErUafxxfgtbYcTLW0dNMv+3k5jTJzZCwFyx90BQzY+RcWowMXkUDqKAkP2iY0wBRx/prUXWcF/WqA7CtxQs/V385pmcBdS99VJfWtbgS4kZ8PSaYoXiqQj6BW5iuTi4FEoall05FOPdc/Z6oRgbMliqBeiLtE4Hz6sqb3WOIsy7w85l3sUMbUyFTZvqzPePAGIjgEn4JlPm+a4bXb7XXO4PQGmoZt9' type='text/css' media='all' />
<link rel='stylesheet' id='lato-css'  href='https://fonts.googleapis.com/css?family=Lato%3A100%2C400%2C700&amp;v2&amp;subset=latin%2Clatin-ext&amp;ver=4.6.1-RC1-38499' type='text/css' media='all' />
<link rel='stylesheet' id='all-css-2-1' href='https://s2.wp.com/_static/??-eJx9i8sKgCAQAH8oWwSjOkTfYmLLhrrig34/u0Rdus3ADBAELmQ45Ad6k3MHZxRNig0FfBXRVaTWoGXh2OhCHD4idqcp/a3Jbo6xIUKrXnpPq1+kGmalplGq4wKxyTcd' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-3-1' href='https://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-4-1' href='https://s0.wp.com/_static/??-eJx9i0EKQjEMBS9kDUpRuxDPkl9qG0mT0uTj9cWFiCiu3jyYgfsIWcWLOPQ1DF4riQFmJ5UF55u22WwDv/Wh5uHKSBOs4SSpr/1XmWZCDqxVP89X5K30YtAiVNYF+Slc+nkXjynt0ykebg/FyknH' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFzt0KwjAMBeAXsiv+Tb0Qn6WrcaQuaW1Shz69HeiFMBQCgZyPQ+yYDLIfyhnEhjq3AvnxXk2Qhf0FDGGfnUJDyB/sIyuwTpZihwOYIpBdX2+16BJnXIqiBCIVzaTfLyHfEca/LIAm568mg+Bzaj3Rcblp2+1qfdjtwws0V1vd'></script>
<link rel='stylesheet' id='all-css-0-2' href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621h' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://jeltsch.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='MIU in Curry' href='https://jeltsch.wordpress.com/2015/08/30/miu-in-curry/' />
<link rel='next' title='Generic programming in&nbsp;Haskell' href='../../../../2016/02/22/generic-programming-in-haskell/index.html' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='http://wp.me/p2ijIR-a3' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/1.0/?format=json&amp;url=https%3A%2F%2Fjeltsch.wordpress.com%2F2015%2F09%2F03%2Fconstrained-monads%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/1.0/?format=xml&amp;url=https%3A%2F%2Fjeltsch.wordpress.com%2F2015%2F09%2F03%2Fconstrained-monads%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Constrained monads" />
<meta property="og:url" content="https://jeltsch.wordpress.com/2015/09/03/constrained-monads/" />
<meta property="og:description" content="There are Haskell types that have an associated monad structure, but cannot be made instances of the Monad class. The reason is typically that the return or the bind operation of such a type m has …" />
<meta property="article:published_time" content="2015-09-03T19:53:34+00:00" />
<meta property="article:modified_time" content="2015-09-23T13:47:30+00:00" />
<meta property="og:site_name" content="Wolfgang Jeltsch" />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:card" content="summary" />
<meta property="fb:app_id" content="249643311490" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />
<link rel="shortcut icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="https://s0.wp.com/i/webclip.png" />
<link rel='openid.server' href='https://jeltsch.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://jeltsch.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://jeltsch.wordpress.com/osd.xml" title="Wolfgang Jeltsch" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
<meta name="application-name" content="Wolfgang Jeltsch" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Mathematics, computer science, and computers" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://jeltsch.wordpress.com/feed/;icon-uri=https://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico" /><meta name="title" content="Constrained monads | Wolfgang Jeltsch on WordPress.com" />
<meta name="description" content="There are Haskell types that have an associated monad structure, but cannot be made instances of the Monad class. The reason is typically that the return or the bind operation of such a type m has a constraint on the type parameter of m. As a result, all the nice library support for monads is&hellip;" />

	<style type="text/css">
		#ie7 .blog-header .site-branding {
			display: block;
		}
	</style>
			<script type="text/javascript" src="http://c.amazon-adsystem.com/aax2/amzn_ads.js"></script>
		<script type="text/javascript">
		try { amznads.getAds("3033"); } catch(e) { /* ignore */ }
		</script>
		<script type="text/javascript">
		try {
			var a9_p = amznads.getKeys(),
			_ipw_custom = {
				wordAds: '0',
				adSafe: '0',
				domain: 'jeltsch.wordpress.com',
				pageURL: 'https://jeltsch.wordpress.com/2015/09/03/constrained-monads/'
			};
			if("undefined"!=typeof a9_p&&""!=a9_p&&null!==a9_p&&"[object Array]"===Object.prototype.toString.call(a9_p)){var a="",b=0,c=a9_p.length;a9_p.sort();for(var d=0;d<c;d++){a9_p[d-b]=a9_p[d-b].replace(/a1x6p/,"a160x600p");var e=a9_p[d-b].split("p");e[0]==a&&(a9_p.splice(d-b,1),b++);a=e[0]}_ipw_custom.amznPay=a9_p};document.close();
		} catch(e) {}
		</script> 		<script type="text/javascript" src="https://static.criteo.net/js/ld/publishertag.js"></script>
 		<script type="text/javascript" src="http://s.pubmine.com/head.js"></script>
		<script type="text/javascript">
		jQuery(window).ready(function () {
			jQuery("a.wpa-about").text("About these ads");
		});
		</script><link rel="amphtml" href="amp/index.html" /><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s1.wp.com/?custom-css=1&amp;csblog=2ijIR&amp;cscache=6&amp;csrev=37" />
		<script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script>
</head>

<body class="single single-post postid-623 single-format-standard mp6 customizer-styles-applied color-default highlander-enabled highlander-light">

<div id="page" class="hfeed">
		<header class="blog-header" role="banner">
		<div class="site-branding">
			<h1 id="site-title"><a href="https://jeltsch.wordpress.com/" title="Wolfgang Jeltsch" rel="home">Wolfgang Jeltsch</a></h1>
			<h2 id="site-description">Mathematics, computer science, and computers</h2>
		</div>
	</header>

	<nav id="access" role="navigation">
		<form method="get" id="searchform" action="https://jeltsch.wordpress.com/">
	<input type="text" class="field" name="s" id="s" placeholder="Search" />
	<label for="s" class="assistive-text">Search</label>
	<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
</form>		<div class="menu"><ul><li ><a href="https://jeltsch.wordpress.com/">Home</a></li><li class="page_item page-item-2"><a href="https://jeltsch.wordpress.com/about/">About</a></li></ul></div>
	</nav>

	<div id="main">
		<div id="primary">
			<div class="content" id="content" role="main">

			
				<nav id="nav-above">
					<span class="permalink">
					Bookmark the <a href="index.html" title="Permalink to Constrained monads" rel="bookmark">permalink</a>.					</span>
				</nav><!-- #nav-above -->

				
<article id="post-623" class="post-623 post type-post status-publish format-standard hentry category-uncategorized tag-andy-gill tag-constrained-normal-haskell-package tag-constraint-kind tag-containers-haskell-package tag-functional-programming tag-gadt tag-george-giorgidze tag-ghc tag-haskell tag-institute-of-cybernetics tag-jan-bracker tag-literate-programming tag-monad tag-natural-numbers-haskell-package tag-neil-sculthorpe tag-normal-form tag-talk tag-theory-lunch">
	<header class="entry-header">
		<h1 class="entry-title">Constrained monads</h1>
		<div class="entry-meta">
			<a class="entry-date" title="September 3 2015" href="index.html">
				<time datetime="2015-09-03T19:53:34+00:00">Sep<b>3</b></time>
			</a>
			<span class="entry-byline">
			by <span class="author vcard"><a class="url fn n" href="https://jeltsch.wordpress.com/author/jeltsch/" title="View all posts by Wolfgang Jeltsch">Wolfgang Jeltsch</a></span>			</span>
		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>There are Haskell types that have an associated monad structure, but cannot be made instances of the <code>Monad</code> class. The reason is typically that the <em>return</em> or the <em>bind</em> operation of such a type <code>m</code> has a constraint on the type parameter of <code>m</code>. As a result, all the nice library support for monads is unusable for such types. This problem is called the constrained-monad problem.</p>
<p>In my article <a title="The Constraint kind" href="../../../../2013/02/14/the-constraint-kind/index.html"><em>The <code>Constraint</code> kind</em></a>, I described a solution to this problem, which involved changing the <code>Monad</code> class. In this article, I present a solution that works with the standard <code>Monad</code> class. This solution has been developed by Neil Sculthorpe, Jan Bracker, George Giorgidze, and Andy Gill. It is described in their paper <a title="The Constrained-Monad Problem" href="http://cs.swansea.ac.uk/~csnas/papers_and_talks/constrained-monad-problem.pdf"><em>The Constrained-Monad Problem</em></a> and implemented in the <a title="constrained-normal" href="http://hackage.haskell.org/package/constrained-normal"><em>constrained-normal</em></a> package.<span id="more-623"></span></p>
<p>This article is a write-up of a <a title="Theory Lunch" href="http://theorylunch.wordpress.com/">Theory Lunch</a> talk I gave quite some time ago. As usual, the source of this article is a literate Haskell file, which you can <a title="Constrained monads" href="http://darcs.wolfgang.jeltsch.info/blog/2015/09/03/constrained-monads.lhs">download</a>, load into GHCi, and play with.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>We have to enable a couple of language extensions:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="co">{-# LANGUAGE ConstraintKinds,</span>
<span class="co">             ExistentialQuantification,</span>
<span class="co">             FlexibleInstances,</span>
<span class="co">             GADTSyntax,</span>
<span class="co">             Rank2Types #-}</span></code></pre>
</div>
<p>Furthermore, we need to import some modules:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">import </span><span class="dt">Data.Set</span>     <span class="kw">hiding</span> (fold, map)
<span class="kw">import </span><span class="dt">Data.Natural</span> <span class="kw">hiding</span> (fold)</code></pre>
</div>
<p>These imports require the packages <a title="containers" href="http://hackage.haskell.org/package/containers"><em>containers</em></a> and <a title="natural-numbers" href="http://hackage.haskell.org/package/natural-numbers"><em>natural-numbers</em></a> to be installed.</p>
<h2 id="the-set-monad">The set monad</h2>
<p>The <code>Set</code> type has an associated monad structure, consisting of a <em>return</em> and a <em>bind</em> operation:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">returnSet ::</span> a <span class="ot">-&gt;</span> <span class="dt">Set</span> a
returnSet <span class="fu">=</span> singleton

<span class="ot">bindSet ::</span> <span class="dt">Ord</span> b <span class="ot">=&gt;</span> <span class="dt">Set</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Set</span> b) <span class="ot">-&gt;</span> <span class="dt">Set</span> b
bindSet sa g <span class="fu">=</span> unions (map g (toList sa))</code></pre>
</div>
<p>We cannot make <code>Set</code> an instance of <code>Monad</code> though, since <code>bindSet</code> has an <code>Ord</code> constraint on the element type of the result set, which is caused by the use of <code>unions</code>.</p>
<p>For a solution, let us first look at how monadic computations on sets would be expressed if <code>Set</code> was an instance of <code>Monad</code>. A monadic expression would be built from non-monadic expressions and applications of <code>return</code> and <code>(&gt;&gt;=)</code>. For every such expression, there would be a normal form of the shape</p>
<p style="text-align:center;"><em>s<sub>1</sub></em><code> &gt;&gt;= \ </code><em>x<sub>1</sub></em><code> -&gt; </code><em>s<sub>2</sub></em><code> &gt;&gt;= \ </code><em>x<sub>2</sub></em><code> -&gt; </code>…<code> -&gt; </code><em>s<sub>n</sub></em><code> &gt;&gt;= \ </code><em>x<sub>n</sub></em><code> -&gt; return </code><em>r</em></p>
<p>where the <em>s<sub>i</sub></em> would be non-monadic expressions of type <code>Set</code>. The existence of a normal form would follow from the monad laws.</p>
<p>We define a type <code>UniSet</code> of such normal forms:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">UniSet</span> a <span class="kw">where</span>

    <span class="dt">ReturnSet</span><span class="ot">  ::</span> a <span class="ot">-&gt;</span> <span class="dt">UniSet</span> a

    <span class="dt">AtmBindSet</span><span class="ot"> ::</span> <span class="dt">Set</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">UniSet</span> b) <span class="ot">-&gt;</span> <span class="dt">UniSet</span> b</code></pre>
</div>
<p>We can make <code>UniSet</code> an instance of <code>Monad</code> where the monad operations build expressions and normalize them on the fly:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Monad</span> <span class="dt">UniSet</span> <span class="kw">where</span>

    return a <span class="fu">=</span> <span class="dt">ReturnSet</span> a

    <span class="dt">ReturnSet</span> a     <span class="fu">&gt;&gt;=</span> f <span class="fu">=</span> f a
    <span class="dt">AtmBindSet</span> sa h <span class="fu">&gt;&gt;=</span> f <span class="fu">=</span> <span class="dt">AtmBindSet</span> sa h' <span class="kw">where</span>

        h' a <span class="fu">=</span> h a <span class="fu">&gt;&gt;=</span> f</code></pre>
</div>
<p>Note that these monad operations are analogous to operations on lists, with <code>return</code> corresponding to singleton construction and <code>(&gt;&gt;=)</code> corresponding to concatenation. Normalization happens in <code>(&gt;&gt;=)</code> by applying the left-identity and the associativity law for monads.</p>
<p>We can use <code>UniSet</code> as an alternative set type, representing a set by a normal form that evaluates to this set. This way, we get a set type that is an instance of <code>Monad</code>. For this to be sane, we have to hide the data constructors of <code>UniSet</code>, so that different normal forms that evaluate to the same set cannot be distinguished.</p>
<p>Now we need functions that convert between <code>Set</code> and <code>UniSet</code>. Conversion from <code>Set</code> to <code>UniSet</code> is simple:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">toUniSet ::</span> <span class="dt">Set</span> a <span class="ot">-&gt;</span> <span class="dt">UniSet</span> a
toUniSet sa <span class="fu">=</span> <span class="dt">AtmBindSet</span> sa <span class="dt">ReturnSet</span></code></pre>
</div>
<p>Conversion from <code>UniSet</code> to <code>Set</code> is expression evaluation:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">fromUniSet ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> <span class="dt">UniSet</span> a <span class="ot">-&gt;</span> <span class="dt">Set</span> a
fromUniSet (<span class="dt">ReturnSet</span> a)     <span class="fu">=</span> returnSet a
fromUniSet (<span class="dt">AtmBindSet</span> sa h) <span class="fu">=</span> bindSet sa g <span class="kw">where</span>

    g a <span class="fu">=</span> fromUniSet (h a)</code></pre>
</div>
<p>The type of <code>fromUniSet</code> constrains the element type to be an instance of <code>Ord</code>. This single constraint is enough to make all invocations of <code>bindSet</code> throughout the conversion legal. The reason is our use of normal forms. Since normal forms are “right-leaning”, all applications of <code>(&gt;&gt;=)</code> in them have the same result type as the whole expression.</p>
<h2 id="the-multiset-monad">The multiset monad</h2>
<p>Let us now look at a different monad, the multiset monad.</p>
<p>We represent a multiset as a function that maps each value of the element type to its multiplicity in the multiset, with a multiplicity of zero denoting absence of this value:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">newtype</span> <span class="dt">MSet</span> a <span class="fu">=</span> <span class="dt">MSet</span> {<span class="ot"> mult ::</span> a <span class="ot">-&gt;</span> <span class="dt">Natural</span> }</code></pre>
</div>
<p>Now we define the <em>return</em> operation:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">returnMSet ::</span> <span class="dt">Eq</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">MSet</span> a
returnMSet a <span class="fu">=</span> <span class="dt">MSet</span> ma <span class="kw">where</span>

    ma b <span class="fu">|</span> a <span class="fu">==</span> b    <span class="fu">=</span> <span class="dv">1</span>
         <span class="fu">|</span> otherwise <span class="fu">=</span> <span class="dv">0</span></code></pre>
</div>
<p>For defining the <em>bind</em> operation, we need to define a class <code>Finite</code> of finite types whose sole method enumerates all the values of the respective type:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">class</span> <span class="dt">Finite</span> a <span class="kw">where</span>

<span class="ot">    values ::</span> [a]</code></pre>
</div>
<p>The implementation of the <em>bind</em> operation is as follows:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">bindMSet ::</span> <span class="dt">Finite</span> a <span class="ot">=&gt;</span> <span class="dt">MSet</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">MSet</span> b) <span class="ot">-&gt;</span> <span class="dt">MSet</span> b
bindMSet msa g <span class="fu">=</span> <span class="dt">MSet</span> mb <span class="kw">where</span>

    mb b <span class="fu">=</span> sum [mult msa a <span class="fu">*</span> mult (g a) b <span class="fu">|</span> a <span class="ot">&lt;-</span> values]</code></pre>
</div>
<p>Note that the multiset monad differs from the set monad in its use of constraints. The set monad imposes a constraint on the result element type of <em>bind</em>, while the multiset monad imposes a constraint on the first argument element type of <em>bind</em> and another constraint on the result element type of <em>return</em>.</p>
<p>Like in the case of sets, we define a type of monadic normal forms:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">UniMSet</span> a <span class="kw">where</span>

    <span class="dt">ReturnMSet</span><span class="ot">  ::</span> a <span class="ot">-&gt;</span> <span class="dt">UniMSet</span> a

    <span class="dt">AtmBindMSet</span><span class="ot"> ::</span> <span class="dt">Finite</span> a <span class="ot">=&gt;</span>
                   <span class="dt">MSet</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">UniMSet</span> b) <span class="ot">-&gt;</span> <span class="dt">UniMSet</span> b</code></pre>
</div>
<p>The key difference to <code>UniSet</code> is that <code>UniMSet</code> involves the constraint of the <em>bind</em> operation, so that normal forms must respect this constraint. Without this restriction, it would not be possible to evaluate normal forms later.</p>
<p>The <code>Monad</code>–<code>UniMSet</code> instance declaration is analogous to the <code>Monad</code>–<code>UniSet</code> instance declaration:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Monad</span> <span class="dt">UniMSet</span> <span class="kw">where</span>

    return a <span class="fu">=</span> <span class="dt">ReturnMSet</span> a

    <span class="dt">ReturnMSet</span> a      <span class="fu">&gt;&gt;=</span> f <span class="fu">=</span> f a
    <span class="dt">AtmBindMSet</span> msa h <span class="fu">&gt;&gt;=</span> f <span class="fu">=</span> <span class="dt">AtmBindMSet</span> msa h' <span class="kw">where</span>

        h' a <span class="fu">=</span> h a <span class="fu">&gt;&gt;=</span> f</code></pre>
</div>
<p>Now we define conversion from <code>MSet</code> to <code>UniMSet</code>:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">toUniMSet ::</span> <span class="dt">Finite</span> a <span class="ot">=&gt;</span> <span class="dt">MSet</span> a <span class="ot">-&gt;</span> <span class="dt">UniMSet</span> a
toUniMSet msa <span class="fu">=</span> <span class="dt">AtmBindMSet</span> msa <span class="dt">ReturnMSet</span></code></pre>
</div>
<p>Note that we need to constrain the element type in order to fulfill the constraint incorporated into the <code>UniMSet</code> type.</p>
<p>Finally, we define conversion from <code>UniMSet</code> to <code>MSet</code>:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">fromUniMSet ::</span> <span class="dt">Eq</span> a <span class="ot">=&gt;</span> <span class="dt">UniMSet</span> a <span class="ot">-&gt;</span> <span class="dt">MSet</span> a
fromUniMSet (<span class="dt">ReturnMSet</span> a)      <span class="fu">=</span> returnMSet a
fromUniMSet (<span class="dt">AtmBindMSet</span> msa h) <span class="fu">=</span> bindMSet msa g <span class="kw">where</span>

    g a <span class="fu">=</span> fromUniMSet (h a)</code></pre>
</div>
<p>Here we need to impose an <code>Eq</code> constraint on the element type. Note that this single constraint is enough to make all invocations of <code>returnMSet</code> throughout the conversion legal. The reason is again our use of normal forms.</p>
<h2 id="a-generic-solution">A generic solution</h2>
<p>The solutions to the constrained-monad problem for sets and multisets are very similar. It is certainly not good if we have to write almost the same code for every new constrained monad that we want to make accessible via the <code>Monad</code> class. Therefore, we define a generic type that covers all such monads:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">UniMonad</span> c t a <span class="kw">where</span>

    <span class="dt">Return</span><span class="ot">  ::</span> a <span class="ot">-&gt;</span> <span class="dt">UniMonad</span> c t a

    <span class="dt">AtmBind</span><span class="ot"> ::</span> c a <span class="ot">=&gt;</span>
               t a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">UniMonad</span> c t b) <span class="ot">-&gt;</span> <span class="dt">UniMonad</span> c t b</code></pre>
</div>
<p>The parameter <code>t</code> of <code>UniMonad</code> is the underlying data type, like <code>Set</code> or <code>MSet</code>, and the parameter <code>c</code> is the constraint that has to be imposed on the type parameter of the first argument of the <em>bind</em> operation.</p>
<p>For every <code>c</code> and <code>t</code>, we make <code>UniMonad c t</code> an instance of <code>Monad</code>:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Monad</span> (<span class="dt">UniMonad</span> c t) <span class="kw">where</span>

    return a <span class="fu">=</span> <span class="dt">Return</span> a

    <span class="dt">Return</span> a     <span class="fu">&gt;&gt;=</span> f <span class="fu">=</span> f a
    <span class="dt">AtmBind</span> ta h <span class="fu">&gt;&gt;=</span> f <span class="fu">=</span> <span class="dt">AtmBind</span> ta h' <span class="kw">where</span>

        h' a <span class="fu">=</span> h a <span class="fu">&gt;&gt;=</span> f</code></pre>
</div>
<p>We define a function <code>lift</code> that converts from the underlying data type to <code>UniMonad</code> and thus generalizes <code>toUniSet</code> and <code>toUniMSet</code>:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">lift ::</span> c a <span class="ot">=&gt;</span> t a <span class="ot">-&gt;</span> <span class="dt">UniMonad</span> c t a
lift ta <span class="fu">=</span> <span class="dt">AtmBind</span> ta <span class="dt">Return</span></code></pre>
</div>
<p>Evaluation of normal forms is just folding with the <em>return</em> and <em>bind</em> operations of the underlying data type. Therefore, we implement a fold operator for <code>UniMonad</code>:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">fold ::</span> (a <span class="ot">-&gt;</span> r)
     <span class="ot">-&gt;</span> (forall a <span class="fu">.</span> c a <span class="ot">=&gt;</span> t a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> r) <span class="ot">-&gt;</span> r)
     <span class="ot">-&gt;</span> <span class="dt">UniMonad</span> c t a
     <span class="ot">-&gt;</span> r
fold return _       (<span class="dt">Return</span> a)     <span class="fu">=</span> return a
fold return atmBind (<span class="dt">AtmBind</span> ta h) <span class="fu">=</span> atmBind ta g <span class="kw">where</span>

    g a <span class="fu">=</span> fold return atmBind (h a)</code></pre>
</div>
<p>Note that <code>fold</code> does not need to deal with constraints, neither with constraints on the result type parameter of <em>return</em> (like <code>Eq</code> in the case of <code>MSet</code>), nor with constraints on the result type parameter of <em>bind</em> (like <code>Ord</code> in the case of <code>Set</code>). This is because <code>fold</code> works with any result type <code>r</code>.</p>
<p>Now let us implement <code>Monad</code>-compatible sets and multisets based on <code>UniMonad</code>.</p>
<p>In the case of sets, we face the problem that <code>UniMonad</code> takes a constraint for the type parameter of the first <em>bind</em> argument, but <code>bindSet</code> does not have such a constraint. To solve this issue, we introduce a type class <code>Unconstrained</code> of which every type is an instance:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">class</span> <span class="dt">Unconstrained</span> a

<span class="kw">instance</span> <span class="dt">Unconstrained</span> a</code></pre>
</div>
<p>The implementation of <code>Monad</code>-compatible sets is now straightforward:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">type</span> <span class="dt">UniMonadSet</span> <span class="fu">=</span> <span class="dt">UniMonad</span> <span class="dt">Unconstrained</span> <span class="dt">Set</span>

<span class="ot">toUniMonadSet ::</span> <span class="dt">Set</span> a <span class="ot">-&gt;</span> <span class="dt">UniMonadSet</span> a
toUniMonadSet <span class="fu">=</span> lift

<span class="ot">fromUniMonadSet ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> <span class="dt">UniMonadSet</span> a <span class="ot">-&gt;</span> <span class="dt">Set</span> a
fromUniMonadSet <span class="fu">=</span> fold returnSet bindSet</code></pre>
</div>
<p>The implementation of <code>Monad</code>-compatible multisets does not need any utility definitions, but can be given right away:</p>
<div class="sourceCode">
<pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">type</span> <span class="dt">UniMonadMSet</span> <span class="fu">=</span> <span class="dt">UniMonad</span> <span class="dt">Finite</span> <span class="dt">MSet</span>

<span class="ot">toUniMonadMSet ::</span> <span class="dt">Finite</span> a <span class="ot">=&gt;</span> <span class="dt">MSet</span> a <span class="ot">-&gt;</span> <span class="dt">UniMonadMSet</span> a
toUniMonadMSet <span class="fu">=</span> lift

<span class="ot">fromUniMonadMSet ::</span> <span class="dt">Eq</span> a <span class="ot">=&gt;</span> <span class="dt">UniMonadMSet</span> a <span class="ot">-&gt;</span> <span class="dt">MSet</span> a
fromUniMonadMSet <span class="fu">=</span> fold returnMSet bindMSet</code></pre>
</div>
		<div class="wpcnt">
			<div class="wpa wpmrec">
				<a class="wpa-about" href="https://en.support.wordpress.com/about-these-ads/" rel="nofollow"></a>
				        <div id="crt-1968553978" style="width:300px;height:250px;"></div>
        <script type="text/javascript">
        var o = document.getElementById('crt-1968553978');
        if ("undefined"!=typeof Criteo) {
            var p = o.parentNode;
            p.style.setProperty('display', 'inline-block', 'important');
            o.style.setProperty('display', 'block', 'important');
            Criteo.DisplayAcceptableAdIfAdblocked({zoneid:388248,containerid:"crt-1968553978",collapseContainerIfNotAdblocked:true});
        } else {
            o.style.setProperty('display', 'none', 'important');
        }
        </script>
				<div class="u">
					<script type='text/javascript'>
					(function(g){if("undefined"!=typeof g.__ATA){g.__ATA.initAd({sectionId:26942, width:300, height:250});}})(window);
					</script>
				</div>
			</div>
		</div><div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon" href="index1ea5.html?share=reddit" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-623" class="share-facebook sd-button share-icon" href="index5a58.html?share=facebook" target="_blank" title="Share on Facebook"><span>Facebook</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-623" class="share-google-plus-1 sd-button share-icon" href="index386f.html?share=google-plus-1" target="_blank" title="Click to share on Google+"><span>Google</span></a></li><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-623" class="share-twitter sd-button share-icon" href="index9a7b.html?share=twitter" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-623" class="share-linkedin sd-button share-icon" href="index9f21.html?share=linkedin" target="_blank" title="Click to share on LinkedIn"><span>LinkedIn</span></a></li><li class="share-tumblr"><a rel="nofollow" data-shared="" class="share-tumblr sd-button share-icon" href="indexcce0.html?share=tumblr" target="_blank" title="Click to share on Tumblr"><span>Tumblr</span></a></li><li class="share-pocket"><a rel="nofollow" data-shared="" class="share-pocket sd-button share-icon" href="index27bb.html?share=pocket" target="_blank" title="Click to share on Pocket"><span>Pocket</span></a></li><li class="share-end"></li></ul></div></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-33918393-623-587abbdee4d38' data-src='//widgets.wp.com/likes/#blog_id=33918393&amp;post_id=623&amp;origin=jeltsch.wordpress.com&amp;obj_id=33918393-623-587abbdee4d38' data-name='like-post-frame-33918393-623-587abbdee4d38'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height: 55px;'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div></div>			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in <a href="https://jeltsch.wordpress.com/category/uncategorized/" rel="category tag">Uncategorized</a> and tagged <a href="https://jeltsch.wordpress.com/tag/andy-gill/" rel="tag">Andy Gill</a>, <a href="https://jeltsch.wordpress.com/tag/constrained-normal-haskell-package/" rel="tag">constrained-normal (Haskell package)</a>, <a href="https://jeltsch.wordpress.com/tag/constraint-kind/" rel="tag">Constraint (kind)</a>, <a href="https://jeltsch.wordpress.com/tag/containers-haskell-package/" rel="tag">containers (Haskell package)</a>, <a href="https://jeltsch.wordpress.com/tag/functional-programming/" rel="tag">functional programming</a>, <a href="https://jeltsch.wordpress.com/tag/gadt/" rel="tag">GADT</a>, <a href="https://jeltsch.wordpress.com/tag/george-giorgidze/" rel="tag">George Giorgidze</a>, <a href="https://jeltsch.wordpress.com/tag/ghc/" rel="tag">GHC</a>, <a href="https://jeltsch.wordpress.com/tag/haskell/" rel="tag">Haskell</a>, <a href="https://jeltsch.wordpress.com/tag/institute-of-cybernetics/" rel="tag">Institute of Cybernetics</a>, <a href="https://jeltsch.wordpress.com/tag/jan-bracker/" rel="tag">Jan Bracker</a>, <a href="https://jeltsch.wordpress.com/tag/literate-programming/" rel="tag">literate programming</a>, <a href="https://jeltsch.wordpress.com/tag/monad/" rel="tag">monad</a>, <a href="https://jeltsch.wordpress.com/tag/natural-numbers-haskell-package/" rel="tag">natural-numbers (Haskell package)</a>, <a href="https://jeltsch.wordpress.com/tag/neil-sculthorpe/" rel="tag">Neil Sculthorpe</a>, <a href="https://jeltsch.wordpress.com/tag/normal-form/" rel="tag">normal form</a>, <a href="https://jeltsch.wordpress.com/tag/talk/" rel="tag">talk</a>, <a href="https://jeltsch.wordpress.com/tag/theory-lunch/" rel="tag">Theory Lunch</a>.
			</footer><!-- .entry-meta -->
</article><!-- #post-## -->

				<nav id="nav-below">
					<h1 class="section-heading">Post navigation</h1>
					<div class="nav-previous"><a href="https://jeltsch.wordpress.com/2015/08/30/miu-in-curry/" rel="prev"><span class="meta-nav">&larr;</span> MIU in Curry</a></div>
					<div class="nav-next"><a href="../../../../2016/02/22/generic-programming-in-haskell/index.html" rel="next">Generic programming in&nbsp;Haskell <span class="meta-nav">&rarr;</span></a></div>
				</nav><!-- #nav-below -->

				
<div id="comments">

	
	
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">When replying to another comment, please press that comment’s “Reply” button first. <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="https://jeltsch.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="a3d7097c82" /><input type="hidden" name="_wp_http_referer" value="/2015/09/03/constrained-monads/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=https%3A%2F%2Fjeltsch.wordpress.com" width="24" height="24" scrolling="no" allowtransparency="true" seamless="seamless" frameborder="0"></iframe>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url" value="" /></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google+ photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
				<p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog"  style="display: inline;">Notify me of new posts via email.</label></p></div>




<p class="form-submit"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='623' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="d387428a0c" /></p>
<input type="hidden" name="genseq" value="1484438494" />
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="211"/></p>				</form>
					</div><!-- #respond -->
		<div style="clear: both"></div>
</div><!-- #comments -->
			
			</div><!-- #content -->
		</div><!-- #primary -->

<div id="secondary" class="widget-area" role="complementary">
		<aside id="rss_links-2" class="widget widget_rss_links"><h1 class="widget-title">Feeds</h1><ul><li><a href="https://jeltsch.wordpress.com/feed/" title="Subscribe to Posts">RSS - Posts</a></li><li><a href="https://jeltsch.wordpress.com/comments/feed/" title="Subscribe to Comments">RSS - Comments</a></li></ul>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
					<li>
				<a href="../../../../2016/02/22/generic-programming-in-haskell/index.html">Generic programming in&nbsp;Haskell</a>
						</li>
					<li>
				<a href="index.html">Constrained monads</a>
						</li>
					<li>
				<a href="https://jeltsch.wordpress.com/2015/08/30/miu-in-curry/">MIU in Curry</a>
						</li>
					<li>
				<a href="https://jeltsch.wordpress.com/2014/10/31/grapefruit-updated/">Grapefruit updated</a>
						</li>
					<li>
				<a href="https://jeltsch.wordpress.com/2014/09/30/list-of-publications-and-talks-updated/">List of publications and talks&nbsp;updated</a>
						</li>
				</ul>
		</aside>		<aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archive</h1>		<ul>
			<li><a href='https://jeltsch.wordpress.com/2016/02/'>February 2016</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2015/09/'>September 2015</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2015/08/'>August 2015</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2014/10/'>October 2014</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2014/09/'>September 2014</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2014/02/'>February 2014</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2013/05/'>May 2013</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2013/04/'>April 2013</a>&nbsp;(2)</li>
	<li><a href='https://jeltsch.wordpress.com/2013/02/'>February 2013</a>&nbsp;(2)</li>
	<li><a href='https://jeltsch.wordpress.com/2013/01/'>January 2013</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/11/'>November 2012</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/10/'>October 2012</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/08/'>August 2012</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/07/'>July 2012</a>&nbsp;(1)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/05/'>May 2012</a>&nbsp;(2)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/04/'>April 2012</a>&nbsp;(3)</li>
	<li><a href='https://jeltsch.wordpress.com/2012/03/'>March 2012</a>&nbsp;(3)</li>
		</ul>
		</aside><aside id="wp_tag_cloud-2" class="widget wp_widget_tag_cloud"><h1 class="widget-title">Tags</h1><div style="overflow:hidden"><a href='https://jeltsch.wordpress.com/tag/abraham-fraenkel/' class='tag-link-83324874 tag-link-position-1' title='1 topic' style='font-size: 8pt;'>Abraham Fraenkel</a>
<a href='https://jeltsch.wordpress.com/tag/agda/' class='tag-link-700599 tag-link-position-2' title='2 topics' style='font-size: 10.709677419355pt;'>Agda</a>
<a href='https://jeltsch.wordpress.com/tag/axiom-of-choice/' class='tag-link-229457 tag-link-position-3' title='1 topic' style='font-size: 8pt;'>axiom of choice</a>
<a href='https://jeltsch.wordpress.com/tag/base-haskell-package/' class='tag-link-83588072 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>base (Haskell package)</a>
<a href='https://jeltsch.wordpress.com/tag/breadth-first-search/' class='tag-link-2505122 tag-link-position-5' title='2 topics' style='font-size: 10.709677419355pt;'>breadth-first search</a>
<a href='https://jeltsch.wordpress.com/tag/categorical-logic/' class='tag-link-49335706 tag-link-position-6' title='6 topics' style='font-size: 16.279569892473pt;'>categorical logic</a>
<a href='https://jeltsch.wordpress.com/tag/category-theory/' class='tag-link-15333 tag-link-position-7' title='9 topics' style='font-size: 18.537634408602pt;'>category theory</a>
<a href='https://jeltsch.wordpress.com/tag/constraint-kind/' class='tag-link-145053212 tag-link-position-8' title='2 topics' style='font-size: 10.709677419355pt;'>Constraint (kind)</a>
<a href='https://jeltsch.wordpress.com/tag/containers-haskell-package/' class='tag-link-143278847 tag-link-position-9' title='3 topics' style='font-size: 12.516129032258pt;'>containers (Haskell package)</a>
<a href='https://jeltsch.wordpress.com/tag/ctan/' class='tag-link-1663157 tag-link-position-10' title='3 topics' style='font-size: 12.516129032258pt;'>CTAN</a>
<a href='https://jeltsch.wordpress.com/tag/curry/' class='tag-link-22787 tag-link-position-11' title='2 topics' style='font-size: 10.709677419355pt;'>Curry</a>
<a href='https://jeltsch.wordpress.com/tag/curry-howard-correspondence/' class='tag-link-88797812 tag-link-position-12' title='6 topics' style='font-size: 16.279569892473pt;'>Curry–Howard correspondence</a>
<a href='https://jeltsch.wordpress.com/tag/denis-firsov/' class='tag-link-164836353 tag-link-position-13' title='2 topics' style='font-size: 10.709677419355pt;'>Denis Firsov</a>
<a href='https://jeltsch.wordpress.com/tag/dependent-type/' class='tag-link-2218400 tag-link-position-14' title='2 topics' style='font-size: 10.709677419355pt;'>dependent type</a>
<a href='https://jeltsch.wordpress.com/tag/douglas-hofstadter/' class='tag-link-1098140 tag-link-position-15' title='2 topics' style='font-size: 10.709677419355pt;'>Douglas Hofstadter</a>
<a href='https://jeltsch.wordpress.com/tag/einleitung-in-die-mengenlehre-book/' class='tag-link-83324877 tag-link-position-16' title='1 topic' style='font-size: 8pt;'>Einleitung in die Mengenlehre (book)</a>
<a href='https://jeltsch.wordpress.com/tag/elementary-set-theory-with-a-universal-set-book/' class='tag-link-83327673 tag-link-position-17' title='1 topic' style='font-size: 8pt;'>Elementary Set Theory with a Universal Set (book)</a>
<a href='https://jeltsch.wordpress.com/tag/ernst-specker/' class='tag-link-16219016 tag-link-position-18' title='1 topic' style='font-size: 8pt;'>Ernst Specker</a>
<a href='https://jeltsch.wordpress.com/tag/ernst-zermelo/' class='tag-link-16086177 tag-link-position-19' title='1 topic' style='font-size: 8pt;'>Ernst Zermelo</a>
<a href='https://jeltsch.wordpress.com/tag/frp/' class='tag-link-168466 tag-link-position-20' title='8 topics' style='font-size: 17.784946236559pt;'>FRP</a>
<a href='https://jeltsch.wordpress.com/tag/functional-logic-programming/' class='tag-link-164836340 tag-link-position-21' title='2 topics' style='font-size: 10.709677419355pt;'>functional logic programming</a>
<a href='https://jeltsch.wordpress.com/tag/functional-pattern/' class='tag-link-29649109 tag-link-position-22' title='2 topics' style='font-size: 10.709677419355pt;'>functional pattern</a>
<a href='https://jeltsch.wordpress.com/tag/functional-programming/' class='tag-link-116486 tag-link-position-23' title='16 topics' style='font-size: 22pt;'>functional programming</a>
<a href='https://jeltsch.wordpress.com/tag/gadt/' class='tag-link-2130436 tag-link-position-24' title='2 topics' style='font-size: 10.709677419355pt;'>GADT</a>
<a href='https://jeltsch.wordpress.com/tag/georg-cantor/' class='tag-link-1733490 tag-link-position-25' title='1 topic' style='font-size: 8pt;'>Georg Cantor</a>
<a href='https://jeltsch.wordpress.com/tag/ghc/' class='tag-link-933422 tag-link-position-26' title='5 topics' style='font-size: 15.225806451613pt;'>GHC</a>
<a href='https://jeltsch.wordpress.com/tag/haskell/' class='tag-link-37144 tag-link-position-27' title='11 topics' style='font-size: 19.741935483871pt;'>Haskell</a>
<a href='https://jeltsch.wordpress.com/tag/institute-of-cybernetics/' class='tag-link-391909038 tag-link-position-28' title='12 topics' style='font-size: 20.193548387097pt;'>Institute of Cybernetics</a>
<a href='https://jeltsch.wordpress.com/tag/intuitionistic-logic/' class='tag-link-6040641 tag-link-position-29' title='5 topics' style='font-size: 15.225806451613pt;'>intuitionistic logic</a>
<a href='https://jeltsch.wordpress.com/tag/john-von-neumann/' class='tag-link-1965561 tag-link-position-30' title='1 topic' style='font-size: 8pt;'>John von Neumann</a>
<a href='https://jeltsch.wordpress.com/tag/kics2/' class='tag-link-164836346 tag-link-position-31' title='2 topics' style='font-size: 10.709677419355pt;'>KiCS2</a>
<a href='https://jeltsch.wordpress.com/tag/kind/' class='tag-link-286395 tag-link-position-32' title='2 topics' style='font-size: 10.709677419355pt;'>kind</a>
<a href='https://jeltsch.wordpress.com/tag/kurt-godel/' class='tag-link-1771802 tag-link-position-33' title='1 topic' style='font-size: 8pt;'>Kurt Gödel</a>
<a href='https://jeltsch.wordpress.com/tag/latex/' class='tag-link-8800 tag-link-position-34' title='3 topics' style='font-size: 12.516129032258pt;'>LaTeX</a>
<a href='https://jeltsch.wordpress.com/tag/literate-programming/' class='tag-link-10005432 tag-link-position-35' title='9 topics' style='font-size: 18.537634408602pt;'>literate programming</a>
<a href='https://jeltsch.wordpress.com/tag/logic/' class='tag-link-2550 tag-link-position-36' title='8 topics' style='font-size: 17.784946236559pt;'>logic</a>
<a href='https://jeltsch.wordpress.com/tag/logic-programming/' class='tag-link-101583 tag-link-position-37' title='2 topics' style='font-size: 10.709677419355pt;'>logic programming</a>
<a href='https://jeltsch.wordpress.com/tag/ltl/' class='tag-link-373086 tag-link-position-38' title='5 topics' style='font-size: 15.225806451613pt;'>LTL</a>
<a href='https://jeltsch.wordpress.com/tag/mfps/' class='tag-link-1728258 tag-link-position-39' title='4 topics' style='font-size: 14.021505376344pt;'>MFPS</a>
<a href='https://jeltsch.wordpress.com/tag/modal-logic/' class='tag-link-277729 tag-link-position-40' title='6 topics' style='font-size: 16.279569892473pt;'>modal logic</a>
<a href='https://jeltsch.wordpress.com/tag/monad/' class='tag-link-75140 tag-link-position-41' title='3 topics' style='font-size: 12.516129032258pt;'>monad</a>
<a href='https://jeltsch.wordpress.com/tag/multi-parameter-type-class/' class='tag-link-143278843 tag-link-position-42' title='2 topics' style='font-size: 10.709677419355pt;'>multi-parameter type class</a>
<a href='https://jeltsch.wordpress.com/tag/mu-puzzle/' class='tag-link-12310010 tag-link-position-43' title='2 topics' style='font-size: 10.709677419355pt;'>MU puzzle</a>
<a href='https://jeltsch.wordpress.com/tag/natural-numbers-haskell-package/' class='tag-link-83588073 tag-link-position-44' title='4 topics' style='font-size: 14.021505376344pt;'>natural-numbers (Haskell package)</a>
<a href='https://jeltsch.wordpress.com/tag/natural-number/' class='tag-link-27408365 tag-link-position-45' title='1 topic' style='font-size: 8pt;'>natural number</a>
<a href='https://jeltsch.wordpress.com/tag/new-foundations/' class='tag-link-11478508 tag-link-position-46' title='1 topic' style='font-size: 8pt;'>New Foundations</a>
<a href='https://jeltsch.wordpress.com/tag/paul-bernays/' class='tag-link-49727967 tag-link-position-47' title='1 topic' style='font-size: 8pt;'>Paul Bernays</a>
<a href='https://jeltsch.wordpress.com/tag/publication/' class='tag-link-25503 tag-link-position-48' title='6 topics' style='font-size: 16.279569892473pt;'>publication</a>
<a href='https://jeltsch.wordpress.com/tag/randall-holmes/' class='tag-link-83327675 tag-link-position-49' title='1 topic' style='font-size: 8pt;'>Randall Holmes</a>
<a href='https://jeltsch.wordpress.com/tag/ronald-jensen/' class='tag-link-65257595 tag-link-position-50' title='1 topic' style='font-size: 8pt;'>Ronald Jensen</a>
<a href='https://jeltsch.wordpress.com/tag/s4/' class='tag-link-525460 tag-link-position-51' title='4 topics' style='font-size: 14.021505376344pt;'>S4</a>
<a href='https://jeltsch.wordpress.com/tag/semantics/' class='tag-link-13218 tag-link-position-52' title='6 topics' style='font-size: 16.279569892473pt;'>semantics</a>
<a href='https://jeltsch.wordpress.com/tag/sergei-tupailo/' class='tag-link-83324878 tag-link-position-53' title='1 topic' style='font-size: 8pt;'>Sergei Tupailo</a>
<a href='https://jeltsch.wordpress.com/tag/set-comprehension/' class='tag-link-83326352 tag-link-position-54' title='1 topic' style='font-size: 8pt;'>set comprehension</a>
<a href='https://jeltsch.wordpress.com/tag/set-theory/' class='tag-link-229458 tag-link-position-55' title='2 topics' style='font-size: 10.709677419355pt;'>set theory</a>
<a href='https://jeltsch.wordpress.com/tag/software-release/' class='tag-link-652222 tag-link-position-56' title='3 topics' style='font-size: 12.516129032258pt;'>software release</a>
<a href='https://jeltsch.wordpress.com/tag/string-rewriting/' class='tag-link-163046845 tag-link-position-57' title='2 topics' style='font-size: 10.709677419355pt;'>string rewriting</a>
<a href='https://jeltsch.wordpress.com/tag/talk/' class='tag-link-739 tag-link-position-58' title='14 topics' style='font-size: 21.247311827957pt;'>talk</a>
<a href='https://jeltsch.wordpress.com/tag/temporal-logic/' class='tag-link-2813990 tag-link-position-59' title='6 topics' style='font-size: 16.279569892473pt;'>temporal logic</a>
<a href='https://jeltsch.wordpress.com/tag/tex/' class='tag-link-19748 tag-link-position-60' title='4 topics' style='font-size: 14.021505376344pt;'>TeX</a>
<a href='https://jeltsch.wordpress.com/tag/theory-lunch/' class='tag-link-115217623 tag-link-position-61' title='9 topics' style='font-size: 18.537634408602pt;'>Theory Lunch</a>
<a href='https://jeltsch.wordpress.com/tag/this-blog/' class='tag-link-721 tag-link-position-62' title='1 topic' style='font-size: 8pt;'>this blog</a>
<a href='https://jeltsch.wordpress.com/tag/type-level-programming/' class='tag-link-83589110 tag-link-position-63' title='2 topics' style='font-size: 10.709677419355pt;'>type-level programming</a>
<a href='https://jeltsch.wordpress.com/tag/type-class/' class='tag-link-40776253 tag-link-position-64' title='4 topics' style='font-size: 14.021505376344pt;'>type class</a>
<a href='https://jeltsch.wordpress.com/tag/type-family/' class='tag-link-16518856 tag-link-position-65' title='4 topics' style='font-size: 14.021505376344pt;'>type family</a>
<a href='https://jeltsch.wordpress.com/tag/type-theory/' class='tag-link-150581 tag-link-position-66' title='2 topics' style='font-size: 10.709677419355pt;'>type theory</a>
<a href='https://jeltsch.wordpress.com/tag/ucs-latex-package/' class='tag-link-89344798 tag-link-position-67' title='3 topics' style='font-size: 12.516129032258pt;'>ucs (LaTeX package)</a>
<a href='https://jeltsch.wordpress.com/tag/unicode/' class='tag-link-34880 tag-link-position-68' title='4 topics' style='font-size: 14.021505376344pt;'>Unicode</a>
<a href='https://jeltsch.wordpress.com/tag/universal-set/' class='tag-link-54164511 tag-link-position-69' title='1 topic' style='font-size: 8pt;'>universal set</a>
<a href='https://jeltsch.wordpress.com/tag/urelement/' class='tag-link-83327492 tag-link-position-70' title='1 topic' style='font-size: 8pt;'>urelement</a>
<a href='https://jeltsch.wordpress.com/tag/vim/' class='tag-link-18060 tag-link-position-71' title='1 topic' style='font-size: 8pt;'>Vim</a>
<a href='https://jeltsch.wordpress.com/tag/von-neumann-bernays-godel-set-theory/' class='tag-link-83327493 tag-link-position-72' title='1 topic' style='font-size: 8pt;'>von Neumann–Bernays–Gödel set theory</a>
<a href='https://jeltsch.wordpress.com/tag/willard-van-orman-quine/' class='tag-link-2874572 tag-link-position-73' title='1 topic' style='font-size: 8pt;'>Willard Van Orman Quine</a>
<a href='https://jeltsch.wordpress.com/tag/zermelo-set-theory/' class='tag-link-83325626 tag-link-position-74' title='1 topic' style='font-size: 8pt;'>Zermelo set theory</a>
<a href='https://jeltsch.wordpress.com/tag/zermelo-fraenkel-set-theory/' class='tag-link-64913428 tag-link-position-75' title='1 topic' style='font-size: 8pt;'>Zermelo–Fraenkel set theory</a></div></aside><aside id="linkcat-1356" class="widget widget_links"><h1 class="widget-title">Blogroll</h1>
	<ul class='xoxo blogroll'>
<li><a href="http://apfelmus.nfshost.com/blog.html" title="blog with a focus on FRP">apfeλmus</a></li>
<li><a href="http://ro-che.info/ccc" title="funny comics for fans of functional programming and related theory">Cartesian Closed Comic</a></li>
<li><a href="http://conal.net/blog" title="blog of the inventor of FRP">Conal Elliott</a></li>
<li><a href="http://lambda-the-ultimate.org/" title="one of the most important blogs on programming languages">Lambda the Ultimate</a></li>
<li><a href="http://www.luatex.de/" title="German-language blog about the latest and greatest TeX engine">LuaTeX</a></li>
<li><a href="http://patternsinfp.wordpress.com/" title="blog about the topics of a book of the same name, which is currently under development">Patterns in Functional Programming</a></li>
<li><a href="http://wadler.blogspot.com/" title="blog of the man who brought monads to Haskell">Philip Wadler</a></li>
<li><a href="http://theorylunch.wordpress.com/" title="informal discussions about theoretical computer science">Theory Lunch</a></li>

	</ul>
</aside>
<aside id="linkcat-676" class="widget widget_links"><h1 class="widget-title">Websites</h1>
	<ul class='xoxo blogroll'>
<li><a href="http://wiki.portal.chalmers.se/agda/" title="functional programming language with dependent types">Agda</a></li>
<li><a href="https://grapefruit-project.org/" title="research and development in the area of functional reactive programming">Grapefruit</a></li>
<li><a href="http://www.haskell.org/" title="purely functional programming language">Haskell</a></li>
<li><a href="http://ncatlab.org/" title="mathematics, physics, and philosophy from a category theory perspective">nLab</a></li>
<li><a href="http://plato.stanford.edu/" title="philosophical encyclopedia with good articles about logic">Stanford Encyclopedia of Philosophy</a></li>
<li><a href="https://wolfgang.jeltsch.info/" title="myself">Wolfgang Jeltsch</a></li>

	</ul>
</aside>
<aside id="text-2" class="widget widget_text"><h1 class="widget-title">License</h1>			<div class="textwidget"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0;" src="https://i2.wp.com/i.creativecommons.org/l/by/3.0/88x31.png" /></a><br />This blog is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.</div>
		</aside></div><!-- #secondary .widget-area -->

	</div><!-- #main -->

	<footer class="blog-footer" id="colophon" role="contentinfo">
		<div id="site-generator">
			<a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a>		</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<!--  -->
<script type='text/javascript' src='http://0.gravatar.com/js/gprofiles.js?ver=201702y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	</div>
<script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/jeltsch.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/jeltsch.wordpress.com\/wp-login.php?action=logout&_wpnonce=61df89d9b8","homeURL":"https:\/\/jeltsch.wordpress.com\/","postID":"623","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"0","text_direction":"ltr"};
/* ]]> */
</script>
<script type='text/javascript' src='https://s2.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1479964158j'></script>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/jeltsch.wordpress.com\/2015\/09\/03\/constrained-monads\/":623};
	</script>
		<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-linkedin' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-tumblr' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomtumblr', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-pocket' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcompocket', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
		});
		</script>
		<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/akismet-3.0/_inc/form.js?m=1404442431h'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"33918393","siteName":"Wolfgang Jeltsch","siteURL":"http:\/\/jeltsch.wordpress.com","icon":"<img alt='' src='https:\/\/s1.wp.com\/i\/void.gif' class='avatar avatar-36' height='36' width='36' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/quintus","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/jeltsch.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fjeltsch.wordpress.com%2F2015%2F09%2F03%2Fconstrained-monads%2F","themeURL":"https:\/\/wordpress.com\/themes\/quintus\/","xhrURL":"https:\/\/jeltsch.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"4015c6901b","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"dc7f8bff0e\" \/>","referer":"https:\/\/jeltsch.wordpress.com\/2015\/09\/03\/constrained-monads\/","canFollow":"1","statusMessage":"","customizeLink":"https:\/\/jeltsch.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fjeltsch.wordpress.com%2F2015%2F09%2F03%2Fconstrained-monads%2F","postID":"623","shortlink":"http:\/\/wp.me\/p2ijIR-a3","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/jeltsch.wordpress.com\/623","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Quintus","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editFollows":"Manage sites I follow","editSubs":"Manage subscriptions","viewReader":"View site in the Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/jeltsch.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fjeltsch.wordpress.com%2F2015%2F09%2F03%2Fconstrained-monads%2F\">Log in now.<\/a>"}};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://s2.wp.com/_static/??-eJx9jEESgjAMRS9kiQ4OuHE8S20jBNu0pi3q7S0LGFes8ifv/wfvqEzgjJxhSmBxJoPx00zpAH/IFxVdGYgTOHpiglfBgqNm61DWMrFxxVZYRSZ4X4dKMLpv44l3jNpWru5awOuUUWpSYUYRWmTbb89gMgVeDFvaaceQsno4TQJp1EI8rLeObv56Ovdd2166/jj9AP8Kavg='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='https://jeltsch.wordpress.com/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>	<script type="text/javascript">
	var skimlinks_pub_id = "725X584219"
	var skimlinks_sitename = "jeltsch.wordpress.com";
	</script>
	<script type="text/javascript" defer src="https://s.skimresources.com/js/725X1342.skimlinks.js"></script>		<iframe src='https://widgets.wp.com/likes/master.html?ver=20160429#ver=20160429' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
		<script>
			var _comscore = _comscore || [];
			_comscore.push({
				c1: "2",
				c2: "7518284"
			});
			(function() {
				var s = document.createElement("script"),
					el = document.getElementsByTagName("script")[0];
				s.defer = true;
				s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
				el.parentNode.insertBefore(s, el);
			})();
		</script>
		<noscript>
			<p class="robots-nocontent"><img src="https://sb.scorecardresearch.com/p?c1=2&amp;c2=7518284&amp;c3=&amp;c4=&amp;c5=&amp;c6=&amp;c15=&amp;cv=2.0&amp;cj=1" alt="" style="display:none;" width="1" height="1" /></p>
		</noscript><script src="http://stats.wp.com/w.js?55" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'33918393','blog_tz':'0','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'33918393','v':'wpcom','tz':'0','user_id':'0','post':'623','subd':'jeltsch'}]);
_stq.push(['extra', {'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWtpP0NsWnVkPS9sL0ViLndld3BxTi9jQ2xTcExndThUNG5BL2x6ZVV6ZThkVmRURDJjc01OTS1YVF1qNGd6USVtXTFReHFLd2VdYnhmM21oWkk5Jkl6MlJySFlKY3Z0LEFDPy5xVzlKMDhIOFU3N1BwN0dzZWhSRU9ILTElUFF2T2JoJl1pP0NHUnJWbzUwYXU2U1lzRjlBUF9yWUQmOWlyQzkvek02OUJ8QT9MQlMvYnkuTzFMcHZ5SVdJVFkmXVBhPz8sZn5SLkRjRy81M2hwK3BReF9nUFBHNU58VkREelJ+bXpTclJzeWs3THIrSV0vT2pHUjJ0YmRFbCwra1YlTkosK2pvJls0TkJJcXN4OVlWUg=='}]);
_stq.push([ 'clickTrackerInit', '33918393', '623' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>

Providence Salumu
</html>