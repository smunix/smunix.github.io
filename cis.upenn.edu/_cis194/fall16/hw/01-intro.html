<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from cis.upenn.edu/~cis194/fall16/hw/01-intro.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Dec 2016 22:33:40 GMT -->
<head>
  <META http-equiv="Content-Type" content="text/html; charset='UTF-8'">
  <title>CIS194</title>

  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <link href="../css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>

  <div id="canvas">
    <div id="nav">
     <p><a href="../index-2.html">CIS 194</a> | <a href="../policies.html">Policies</a> | <a href="../resources.html">Resources</a> | <a href="../final.html">Final Project</a></p>
   </div>

    

    


    <div id="content">
      <h1 id="homework-1-functions-and-pictures">Homework 1: Functions and Pictures</h1>
<p>CIS 194: Homework 1<br />
Due Tuesday, September 6</p>
<h2 id="preamble">Preamble</h2>
<p>When solving the homework, strive to create not just code that works, but code that is stylish and concise. See the style guide on the website for some general guidelines. Try to write small functions which perform just a single task, and then combine those smaller pieces to create more complex functions. Don’t repeat yourself: write one function for each logical task, and reuse functions as necessary.</p>
<p>Be sure to write functions with exactly the specified name and type signature for each exercise (to help us test your code). You may create additional helper functions with whatever names and type signatures you wish.</p>
<p>In this and the next few homeworks, you will be creating lots of drawing and animations. The exercises will describe what you have to do, and maybe give an (simple) example, but you are alway welcome to make it prettier and more shiny. This is all good as long as you do not <em>simplify</em> the task this way, or make the code too convoluted. Extra effort in that direction contributes towards your participation score.</p>
<p>All homework this week can be performed within the web IDE <a href="https://code.world/haskell" class="uri">https://code.world/haskell</a>. In fact, it is recommended that you start with <a href="https://code.world/haskell#Po6Ok3j0o3TiYqZWUJ-8I-Q" class="uri">https://code.world/haskell#Po6Ok3j0o3TiYqZWUJ-8I-Q</a>.</p>
<h2 id="submitting">Submitting</h2>
<p>You will submit all exercises in one file. Every exercise results in one top-level function called <code>exercise1</code>, <code>exercise2</code> etc. of type <code>IO ()</code>. To run a specific exercise, define <code>main = exercise1</code>.</p>
<p>Only submit code that compiles. If you cannot get it to compile, ask for help!</p>
<p>On CodeWorld, after you ran a program, you can use the Share button to get a link to your code. Submit that. If you developed your code locally, submit the Haskell file.</p>
<h2 id="exercise-0-piazza">Exercise 0: Piazza</h2>
<p>Sign up on Piazza at <a href="http://piazza.com/upenn/fall2016/cis194" class="uri">http://piazza.com/upenn/fall2016/cis194</a>. We will be using Piazza for Q&amp;A and online discussions.</p>
<h2 id="exercise-1-traffic-lights">Exercise 1: Traffic lights</h2>
<p>In the class, we defined a traffic light animation. Real traffic lights have an amber light in the middle.</p>
<p>Change the code to include the yellow light, and animate a correct sequence of traffic light signalling:</p>
<ul>
<li>a long green phase</li>
<li>a short amber phase</li>
<li>a long red phase</li>
<li>a short red and amber phase<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></li>
<li>back to green</li>
</ul>
<p>The resulting program should be called <code>exercise1</code>.</p>
<iframe width="400" height="400" src="https://code.world/run.html?mode=haskell&amp;dhash=DkA91kScdnqBMXnuWMWDZTg">
</iframe>
<h2 id="exercise-2-blooming-trees">Exercise 2: Blooming trees</h2>
<p>In the class, we defined a tree, but it looks a bit dire. The code was</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">tree ::</span> <span class="dt">Integer</span> <span class="ot">-&gt;</span> <span class="dt">Picture</span>
tree <span class="dv">0</span> <span class="fu">=</span> blank
tree n <span class="fu">=</span> path [(<span class="dv">0</span>,<span class="dv">0</span>),(<span class="dv">0</span>,<span class="dv">1</span>)] <span class="fu">&amp;</span> translated <span class="dv">0</span> <span class="dv">1</span> (
  rotated (pi<span class="fu">/</span><span class="dv">10</span>) (tree (n<span class="fu">-</span><span class="dv">1</span>)) <span class="fu">&amp;</span> rotated (<span class="fu">-</span> pi<span class="fu">/</span><span class="dv">10</span>) (tree (n<span class="fu">-</span><span class="dv">1</span>)))</code></pre></div>
<p>Make the tree bloom! Create an animation that looks like the dire <code>tree 8</code> initially, and then grows blossoms at the end of each twig within 10 seconds. After 10 seconds, the tree should be in full bloom and the animation should stop.</p>
<p>A bloom could be a yellow circle growing in size, or something more intricate with petals and better colors and whatnot.</p>
<p>In your code, modify <code>tree</code> to be <em>abstact</em> in the actual shape of the blossoms. This way, the <code>tree</code> function itself is independent of time. Do <em>not</em> pass the time paramter to the <code>tree</code> function!</p>
<p>The resulting program should be called <code>exercise2</code>.</p>
<iframe width="400" height="400" src="https://code.world/run.html?mode=haskell&amp;dhash=DmGMoeJTPisJo8EfTOZA7Nw">
</iframe>
<h2 id="exercise-3-sokoban-tiles">Exercise 3: Sokoban tiles</h2>
<p>Over the next few homeworks, you will implement a game of Sokoban. The rules are simple (quoted from <a href="https://en.wikipedia.org/wiki/Sokoban" class="uri">https://en.wikipedia.org/wiki/Sokoban</a>, which also contains a nice animation that you can look at):</p>
<blockquote>
<p>The game is played on a board of squares, where each square is a floor or a wall. Some floor squares contain boxes, and some floor squares are marked as storage locations.</p>
<p>The player is confined to the board, and may move horizontally or vertically onto empty squares (never through walls or boxes). The player can also move into a box, which pushes it into the square beyond. Boxes may not be pushed into other boxes or walls, and they cannot be pulled. The puzzle is solved when all boxes are at storage locations.</p>
</blockquote>
<p>We do some preparations this week. In particular, we need the different squares that may occur:</p>
<ol style="list-style-type: decimal">
<li><p>Walls</p></li>
<li><p>Ground, i.e. empty spaces</p></li>
<li><p>Ground marked as storage</p></li>
<li><p>Boxes</p></li>
</ol>
<p>After this exercise, we will have the necessary code to draw a sokoban level.</p>
<ul>
<li><p>Create a functions <code>wall</code>, <code>ground</code>, <code>storage</code> and <code>box</code> of type <code>Picture</code>, which draw the corresponding thing, with a width and height of 1 and positioned at the center of the picture.</p>
<p>The example picture below is very much on the dull side. Make it prettier! You can search for screenshots of the real game for inspiration.</p></li>
<li><p>Create a function <code>drawTile :: Integer -&gt; Picture</code> that draws a tile according to the given number<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>, according to the above list. If the argument is not one of these four numbers, it should not draw anything (but should also not crash).</p></li>
<li><p>A maze can be represented as a function with the type<br />
<code>Integer -&gt; Integer -&gt; Integer</code>, which, given two coordinates, returns the kind of tile to be present there.</p>
<p>For now, we have one such maze, with the creative name <code>maze</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">maze ::</span> <span class="dt">Integer</span> <span class="ot">-&gt;</span> <span class="dt">Integer</span> <span class="ot">-&gt;</span> <span class="dt">Integer</span>
maze x y
  <span class="fu">|</span> abs x <span class="fu">&gt;</span> <span class="dv">4</span>  <span class="fu">||</span> abs y <span class="fu">&gt;</span> <span class="dv">4</span>  <span class="fu">=</span> <span class="dv">0</span>
  <span class="fu">|</span> abs x <span class="fu">==</span> <span class="dv">4</span> <span class="fu">||</span> abs y <span class="fu">==</span> <span class="dv">4</span> <span class="fu">=</span> <span class="dv">1</span>
  <span class="fu">|</span> x <span class="fu">==</span>  <span class="dv">2</span> <span class="fu">&amp;&amp;</span> y <span class="fu">&lt;=</span> <span class="dv">0</span>        <span class="fu">=</span> <span class="dv">1</span>
  <span class="fu">|</span> x <span class="fu">==</span>  <span class="dv">3</span> <span class="fu">&amp;&amp;</span> y <span class="fu">&lt;=</span> <span class="dv">0</span>        <span class="fu">=</span> <span class="dv">3</span>
  <span class="fu">|</span> x <span class="fu">&gt;=</span> <span class="fu">-</span><span class="dv">2</span> <span class="fu">&amp;&amp;</span> y <span class="fu">==</span> <span class="dv">0</span>        <span class="fu">=</span> <span class="dv">4</span>
  <span class="fu">|</span> otherwise                <span class="fu">=</span> <span class="dv">2</span></code></pre></div>
<p>Define a picture</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">pictureOfMaze ::</span> <span class="dt">Picture</span></code></pre></div>
<p>which will, for every coordinate <span class="math inline">\((x,y)\)</span> with <span class="math inline">\(x,y\in -10,\ldots,10\)</span>, uses the <code>maze</code> above to determine what tile to place there, uses <code>drawTile</code> to draw that tile, translated into the right spot.</p>
<p>Of course, do not hard-code 441 invocations of <code>drawTile</code> into your program! Instead, use recursion to traverse the positions in the grid. You will likely need one recursive function to draw one row after another, which in turn calls a second recursive function, which then draw each element in that row.</p></li>
<li><p>Define <code>exercise3</code> to be drawing of <code>pictureOfMaze</code>.</p></li>
</ul>
<iframe width="400" height="400" src="https://code.world/run.html?mode=haskell&amp;dhash=DOxforVvDsZ0V2pDubEQPwA">
</iframe>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>I know that traffic lights in the US do not have this phase, but it is the correct sequence for most of Germany, and it works better for the homework.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Using numbers here is not good style, and we will fix that next week.<a href="#fnref2">↩</a></p></li>
</ol>
</div>
    </div>

    <div id="footer"><center>
      <font size="-2">Powered
      by <a href="http://community.haskell.org/~ndm/shake/">shake</a>,
      <a href="http://jaspervdj.be/hakyll/index.html">hakyll</a>,
      <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>,
      <a href="http://projects.haskell.org/diagrams">diagrams</a>,
      and <a href="http://www.andres-loeh.de/lhs2tex/">lhs2TeX</a>.
      </center>
    </div>
  </div>
</body>


<!-- Mirrored from cis.upenn.edu/~cis194/fall16/hw/01-intro.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Dec 2016 22:33:40 GMT -->
</html>
