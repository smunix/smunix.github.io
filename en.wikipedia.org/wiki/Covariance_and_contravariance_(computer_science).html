<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

Providence Salumu
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Covariance and contravariance (computer science) - Wikipedia</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Covariance_and_contravariance_(computer_science)","wgTitle":"Covariance and contravariance (computer science)","wgCurRevisionId":753607991,"wgRevisionId":753607991,"wgArticleId":1104704,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["CS1 errors: dates","Articles with example Java code","Object-oriented programming","Type theory","Polymorphism (computer science)"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Covariance_and_contravariance_(computer_science)","wgRelevantArticleId":1104704,"wgRequestId":"WHk97QpAMFAAAIC4MhkAAABH","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgFlaggedRevsParams":{"tags":{}},"wgStableRevisionId":null,"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"preview":false,"publish":false},"wgBetaFeaturesFeatures":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","usePageImages":true,"usePageDescriptions":true},"wgPreferredVariant":"en","wgMFDisplayWikibaseDescriptions":{"search":true,"nearby":true,"watchlist":true,"tagline":false},"wgRelatedArticles":null,"wgRelatedArticlesUseCirrusSearch":true,"wgRelatedArticlesOnlyUseCirrusSearch":false,"wgULSCurrentAutonym":"English","wgNoticeProject":"wikipedia","wgCentralNoticeCookiesToDelete":[],"wgCentralNoticeCategoriesUsingLegacy":["Fundraising","fundraising"],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgWikibaseItemId":"Q362031","wgCentralAuthMobileDomain":false,"wgVisualEditorToolbarScrollOffset":0,"wgEditSubmitButtonLabelPublish":false});mw.loader.state({"ext.globalCssJs.user.styles":"ready","ext.globalCssJs.site.styles":"ready","site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.pygments":"ready","ext.cite.styles":"ready","ext.math.styles":"ready","mediawiki.page.gallery.styles":"ready","wikibase.client.init":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.wikimediaBadges":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready","ext.globalCssJs.user":"ready","ext.globalCssJs.site":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1dqfd7l",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["ext.cite.a11y","ext.math.scripts","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.legacy.wikibits","mediawiki.searchSuggest","ext.gadget.teahouse","ext.gadget.ReferenceTooltips","ext.gadget.watchlist-notice","ext.gadget.DRN-wizard","ext.gadget.charinsert","ext.gadget.refToolbar","ext.gadget.extra-toolbar-buttons","ext.gadget.switcher","ext.gadget.featured-articles-links","ext.centralauth.centralautologin","mmv.head","mmv.bootstrap.autostart","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging.subscriber","ext.wikimediaEvents","ext.navigationTiming","ext.uls.eventlogger","ext.uls.init","ext.uls.interface","ext.quicksurveys.init","ext.centralNotice.geoIP","ext.centralNotice.startUp","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://en.wikipedia.org/w/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cext.math.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.page.gallery.styles%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://en.wikipedia.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://en.wikipedia.org/w/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.29.0-wmf.7"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<link rel="alternate" href="https://en.wikipedia.org/wiki/android-app://org.wikipedia/http/en.m.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)"/>
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit"/>
<link rel="edit" title="Edit this page" href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit"/>
<link rel="apple-touch-icon" href="https://en.wikipedia.org/static/apple-touch/wikipedia.png"/>
<link rel="shortcut icon" href="https://en.wikipedia.org/static/favicon/wikipedia.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://en.wikipedia.org/w/opensearch_desc.php" title="Wikipedia (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://en.wikipedia.org/w/api.php?action=rsd"/>
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="Covariance_and_contravariance_(computer_science).html"/>
<link rel="dns-prefetch" href="http://login.wikimedia.org/"/>
<link rel="dns-prefetch" href="http://meta.wikimedia.org/" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Covariance_and_contravariance_computer_science rootpage-Covariance_and_contravariance_computer_science skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

							<div id="siteNotice"><!-- CentralNotice --></div>
						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Covariance and contravariance (computer science)</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Wikipedia, the free encyclopedia</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>The <a href="https://en.wikipedia.org/wiki/Type_system" title="Type system">type system</a> of many <a href="https://en.wikipedia.org/wiki/Programming_language" title="Programming language">programming languages</a> supports <a href="https://en.wikipedia.org/wiki/Subtyping" title="Subtyping">subtyping</a>. For instance, if <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code> is subtype of <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code>, then an expression of type <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code> can be used whenever an expression of type <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code> could. <b>Variance</b> refers to how subtyping between more complex types (list of <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code>s versus list of <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code>s, function returning <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code> versus function returning <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code>, ...) relates to subtyping between their components. Depending on the variance of the <a href="https://en.wikipedia.org/wiki/Type_constructor" title="Type constructor">type constructor</a>, the subtyping relation may be either preserved, reversed, or ignored. For example in <a href="https://en.wikipedia.org/wiki/OCaml" title="OCaml">OCaml</a>, "list of Cat" is a subtype of "list of Animal" because the list constructor is <b>covariant</b>, while "function from Animal to String" is a subtype of "function from Cat to String" because the function type constructor is <b>contravariant</b> in the argument type.</p>
<p>A programming language designer will consider variance when devising typing rules for e.g. arrays, inheritance, and generic datatypes. By making type constructors covariant or contravariant instead of invariant, more programs will be accepted as well-typed. On the other hand, programmers often find contravariance unintuitive, and accurately tracking variance to avoid runtime type errors can lead to complex typing rules. In order to keep the type system simple and allow useful programs, a language may treat a type constructor as invariant even if it would be safe to consider it variant, or treat it as covariant even when that can violate type safety.</p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Formal_definition"><span class="tocnumber">1</span> <span class="toctext">Formal definition</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#C.23_examples"><span class="tocnumber">1.1</span> <span class="toctext">C# examples</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Arrays"><span class="tocnumber">2</span> <span class="toctext">Arrays</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Covariant_arrays_in_Java_and_C.23"><span class="tocnumber">2.1</span> <span class="toctext">Covariant arrays in Java and C#</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Function_types"><span class="tocnumber">3</span> <span class="toctext">Function types</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Inheritance_in_object-oriented_languages"><span class="tocnumber">4</span> <span class="toctext">Inheritance in object-oriented languages</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Covariant_method_return_type"><span class="tocnumber">4.1</span> <span class="toctext">Covariant method return type</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Contravariant_method_argument_type"><span class="tocnumber">4.2</span> <span class="toctext">Contravariant method argument type</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Covariant_method_argument_type"><span class="tocnumber">4.3</span> <span class="toctext">Covariant method argument type</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Avoiding_the_need_for_covariant_argument_types"><span class="tocnumber">4.4</span> <span class="toctext">Avoiding the need for covariant argument types</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Summary_of_variance_and_inheritance"><span class="tocnumber">4.5</span> <span class="toctext">Summary of variance and inheritance</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Generic_types"><span class="tocnumber">5</span> <span class="toctext">Generic types</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Declaration-site_variance_annotations"><span class="tocnumber">5.1</span> <span class="toctext">Declaration-site variance annotations</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Interfaces"><span class="tocnumber">5.1.1</span> <span class="toctext">Interfaces</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Data"><span class="tocnumber">5.1.2</span> <span class="toctext">Data</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Inferring_variance"><span class="tocnumber">5.1.3</span> <span class="toctext">Inferring variance</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Use-site_variance_annotations_.28wildcards.29"><span class="tocnumber">5.2</span> <span class="toctext">Use-site variance annotations (wildcards)</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Comparing_declaration-site_and_use-site_annotations"><span class="tocnumber">5.3</span> <span class="toctext">Comparing declaration-site and use-site annotations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Origin_of_the_term_covariance"><span class="tocnumber">6</span> <span class="toctext">Origin of the term <i>covariance</i></span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#References"><span class="tocnumber">8</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#External_links"><span class="tocnumber">9</span> <span class="toctext">External links</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Formal_definition">Formal definition</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=1" title="Edit section: Formal definition">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Within the <a href="https://en.wikipedia.org/wiki/Type_system" title="Type system">type system</a> of a <a href="https://en.wikipedia.org/wiki/Programming_language" title="Programming language">programming language</a>, a typing rule or a type constructor is:</p>
<ul>
<li><i>covariant</i> if it preserves the <a href="https://en.wikipedia.org/wiki/Subtype" class="mw-redirect" title="Subtype">ordering of types (≤)</a>, which orders types from more specific to more generic;</li>
<li><i>contravariant</i> if it reverses this ordering;</li>
<li><i>bivariant</i> if both of these apply (i.e., both <code class="mw-highlight" dir="ltr"><span class="n">I</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;</span></code> ≤ <code class="mw-highlight" dir="ltr"><span class="n">I</span><span class="p">&lt;</span><span class="n">B</span><span class="p">&gt;</span></code> and <code class="mw-highlight" dir="ltr"><span class="n">I</span><span class="p">&lt;</span><span class="n">B</span><span class="p">&gt;</span></code> ≤ <code class="mw-highlight" dir="ltr"><span class="n">I</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;</span></code> at the same time);</li>
<li><i>invariant</i> or <i>nonvariant</i> if neither of these applies.</li>
</ul>
<p>The article considers how this applies to some common type constructors.</p>
<h3><span class="mw-headline" id="C.23_examples">C# examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=2" title="Edit section: C# examples">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>For example in <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a>, if <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code>, then:</p>
<ul>
<li><code class="mw-highlight" dir="ltr"><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Cat</span><span class="p">&gt;</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span></code>. The subtyping is preserved because <code class="mw-highlight" dir="ltr"><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> is <b>covariant</b> on <code class="mw-highlight" dir="ltr"><span class="n">T</span></code>.</li>
<li><code class="mw-highlight" dir="ltr"><span class="n">Action</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">Action</span><span class="p">&lt;</span><span class="n">Cat</span><span class="p">&gt;</span></code>. The subtyping is reversed because <code class="mw-highlight" dir="ltr"><span class="n">Action</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> is <b>contravariant</b> on <code class="mw-highlight" dir="ltr"><span class="n">T</span></code>.</li>
<li>Neither <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">Cat</span><span class="p">&gt;</span></code> nor <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span></code> is a subtype of the other, because <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> is <b>invariant</b> on <code class="mw-highlight" dir="ltr"><span class="n">T</span></code>.</li>
</ul>
<p>The variance of a C# interface is determined by <code class="mw-highlight" dir="ltr"><span class="k">in</span></code> (contravariant) and <code class="mw-highlight" dir="ltr"><span class="k">out</span></code> (covariant) annotations on its type parameters; the above interfaces are declared as <code class="mw-highlight" dir="ltr"><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">T</span><span class="p">&gt;</span></code>, <code class="mw-highlight" dir="ltr"><span class="n">Action</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">T</span><span class="p">&gt;</span></code>, and <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code>. Types with more than one type parameter may specify different variances on each type parameter. For example, the delegate type <code class="mw-highlight" dir="ltr"><span class="n">Func</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">T</span><span class="p">,</span> <span class="k">out</span> <span class="n">TResult</span><span class="p">&gt;</span></code> represents a function with a <b>contravariant</b> input parameter of type <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> and a <b>covariant</b> return value of type <code class="mw-highlight" dir="ltr"><span class="n">TResult</span></code>.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">[1]</a></sup></p>
<p>The <a href="#Interfaces">typing rules for interface variance</a> ensure type safety. For example, an <code class="mw-highlight" dir="ltr"><span class="n">Action</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> represents a first-class function expecting an argument of type <code class="mw-highlight" dir="ltr"><span class="n">T</span></code>, and a function that can handle any type of animal can always be used instead of one that can only handle cats.</p>
<h2><span class="mw-headline" id="Arrays">Arrays</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=3" title="Edit section: Arrays">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Read-only data types (sources) can be covariant; write-only data types (sinks) can be contravariant. Mutable data types which act as both sources and sinks should be invariant. To illustrate this general phenomenon, consider the <a href="https://en.wikipedia.org/wiki/Array_data_type" title="Array data type">array type</a>. For the type <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code> we can make the type <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code>, which is an "array of animals". For the purposes of this example, this array supports both reading and writing elements.</p>
<p>Should we treat this as:</p>
<ul>
<li>Covariant: a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span><span class="o">[]</span></code> is an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code></li>
<li>Contravariant: an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code> is a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span><span class="o">[]</span></code></li>
<li>Invariant: an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code> is not a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span><span class="o">[]</span></code> and a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span><span class="o">[]</span></code> is not an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code>?</li>
</ul>
<p>If we wish to avoid type errors, then only the third choice is safe. Clearly, not every <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code> can be treated as if it were a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span><span class="o">[]</span></code>, since a client reading from the array will expect a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code>, but an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code> may contain e.g. a <code class="mw-highlight" dir="ltr"><span class="n">Dog</span></code>. So the contravariant rule is not safe.</p>
<p>Conversely, a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span><span class="o">[]</span></code> cannot be treated as an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code>. It should always be possible to put a <code class="mw-highlight" dir="ltr"><span class="n">Dog</span></code> into an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span><span class="o">[]</span></code>. With covariant arrays this cannot be guaranteed to be safe, since the backing store might actually be an array of cats. So the covariant rule is also not safe—the array constructor should be <i>invariant</i>. Note that this is only an issue for mutable arrays; the covariant rule is safe for immutable (read-only) arrays.</p>
<h3><span class="mw-headline" id="Covariant_arrays_in_Java_and_C.23">Covariant arrays in Java and C#</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=4" title="Edit section: Covariant arrays in Java and C#">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Early versions of Java and C# did not include generics, also termed <a href="https://en.wikipedia.org/wiki/Parametric_polymorphism" title="Parametric polymorphism">parametric polymorphism</a>. In such a setting, making arrays invariant rules out useful polymorphic programs.</p>
<p>For example, consider writing a function to shuffle an array, or a function that tests two arrays for equality using the <code><a rel="nofollow" class="external text" href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a></code>.<code class="mw-highlight" dir="ltr"><span class="n">equals</span></code> method on the elements. The implementation does not depend on the exact type of element stored in the array, so it should be possible to write a single function that works on all types of arrays. It is easy to implement functions of type:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kt">boolean</span> <span class="nf">equalArrays</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">a1</span><span class="o">,</span> <span class="n">Object</span><span class="o">[]</span> <span class="n">a2</span><span class="o">);</span>
    <span class="kt">void</span> <span class="nf">shuffleArray</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">a</span><span class="o">);</span>
</pre></div>
<p>However, if array types were treated as invariant, it would only be possible to call these functions on an array of exactly the type <code class="mw-highlight" dir="ltr"><span class="n">Object</span><span class="o">[]</span></code>. One could not, for example, shuffle an array of strings.</p>
<p>Therefore, both Java and C# treat array types covariantly. For instance, in Java <code class="mw-highlight" dir="ltr"><span class="n">String</span><span class="o">[]</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">Object</span><span class="o">[]</span></code>, and in C# <code class="mw-highlight" dir="ltr"><span class="kt">string</span><span class="p">[]</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="kt">object</span><span class="p">[]</span></code>.</p>
<p>As discussed above, covariant arrays lead to problems with writes into the array. Java and C# deal with this by marking each array object with a type when it is created. Each time a value is stored into an array, the execution environment will check that the run-time type of the value is equal to the run-time type of the array. If there is a mismatch, an <code class="mw-highlight" dir="ltr"><span class="n">ArrayStoreException</span></code> (Java) or <code class="mw-highlight" dir="ltr"><span class="n">ArrayTypeMismatchException</span></code> (C#) is thrown:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="c1">// a is a single-element array of String</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>

    <span class="c1">// b is an array of Object</span>
    <span class="n">Object</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>

    <span class="c1">// Assign an Integer to b. This would be possible if b really were</span>
    <span class="c1">// an array of Object, but since it really is an array of String,</span>
    <span class="c1">// we will get a java.lang.ArrayStoreException.</span>
    <span class="n">b</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</pre></div>
<p>In the above example, one can <i>read</i> from the array (b) safely. It is only trying to <i>write</i> to the array that can lead to trouble.</p>
<p>One drawback to this approach is that it leaves the possibility of a run-time error that a stricter type system could have caught at compile-time. Also, it hurts performance because each write into an array requires an additional run-time check.</p>
<p>With the addition of generics, Java and C# now offer ways to write this kind of polymorphic function without relying on covariance. The array comparison and shuffling functions can be given the parameterized types</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kt">boolean</span> <span class="nf">equalArrays</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">a1</span><span class="o">,</span> <span class="n">T</span><span class="o">[]</span> <span class="n">a2</span><span class="o">);</span>
    <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">shuffleArray</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">a</span><span class="o">);</span>
</pre></div>
<p>Alternatively, to enforce that a C# method accesses a collection in a read-only way, one can use the interface <code class="mw-highlight" dir="ltr"><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span></code> instead of passing it an array <code class="mw-highlight" dir="ltr"><span class="kt">object</span><span class="p">[]</span></code>.</p>
<h2><span class="mw-headline" id="Function_types">Function types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=5" title="Edit section: Function types">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Languages with <a href="https://en.wikipedia.org/wiki/First-class_function" title="First-class function">first-class functions</a> have <a href="https://en.wikipedia.org/wiki/Function_type" title="Function type">function types</a> like "a function expecting a Cat and returning an Animal" (written <code class="mw-highlight" dir="ltr"><span class="nc">Cat</span> <span class="o">-&gt;</span> <span class="nc">Animal</span></code> in <a href="https://en.wikipedia.org/wiki/OCaml" title="OCaml">OCaml</a> syntax or <code class="mw-highlight" dir="ltr"><span class="n">Func</span><span class="p">&lt;</span><span class="n">Cat</span><span class="p">,</span><span class="n">Animal</span><span class="p">&gt;</span></code> in <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a> syntax).</p>
<p>Those languages also need to specify when one function type is a subtype of another—that is, when it is safe to use a function of one type in a context that expects a function of a different type. It is safe to substitute a function <i>f</i> for a function <i>g</i> if <i>f</i> accepts a more general type of arguments and returns a more specific type than <i>g</i>. For example, given a function of type <code class="mw-highlight" dir="ltr"><span class="nc">Cat</span> <span class="o">-&gt;</span> <span class="nc">Animal</span></code>, both functions of type <code class="mw-highlight" dir="ltr"><span class="nc">Cat</span> <span class="o">-&gt;</span> <span class="nc">Cat</span></code> and <code class="mw-highlight" dir="ltr"><span class="nc">Animal</span> <span class="o">-&gt;</span> <span class="nc">Animal</span></code> can be used wherever a <code class="mw-highlight" dir="ltr"><span class="nc">Cat</span> <span class="o">-&gt;</span> <span class="nc">Animal</span></code> was expected (One can compare this to the <a href="https://en.wikipedia.org/wiki/Robustness_principle" title="Robustness principle">robustness principle</a> of communication: "be liberal in what you accept and conservative in what you produce"). The general rule is:</p>
<blockquote>
<p><span><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" >
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mfrac>
        <mstyle displaystyle="true" scriptlevel="0">
          <msub>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>1</mn>
            </mrow>
          </msub>
          <mo>&#x2264;<!-- ≤ --></mo>
          <msub>
            <mi>S</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>1</mn>
            </mrow>
          </msub>
          <mspace width="1em" />
          <msub>
            <mi>S</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>2</mn>
            </mrow>
          </msub>
          <mo>&#x2264;<!-- ≤ --></mo>
          <msub>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>2</mn>
            </mrow>
          </msub>
        </mstyle>
        <mrow>
          <msub>
            <mi>S</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>1</mn>
            </mrow>
          </msub>
          <mo stretchy="false">&#x2192;<!-- → --></mo>
          <msub>
            <mi>S</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>2</mn>
            </mrow>
          </msub>
          <mo>&#x2264;<!-- ≤ --></mo>
          <msub>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>1</mn>
            </mrow>
          </msub>
          <mo stretchy="false">&#x2192;<!-- → --></mo>
          <msub>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>2</mn>
            </mrow>
          </msub>
        </mrow>
      </mfrac>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle T_{1}\leq S_{1}\quad S_{2}\leq T_{2} \over S_{1}\rightarrow S_{2}\leq T_{1}\rightarrow T_{2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/dddda097ae97a83ff21be040c43b7222463238bd" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.338ex; width:21.047ex; height:5.843ex;" alt="{\displaystyle T_{1}\leq S_{1}\quad S_{2}\leq T_{2} \over S_{1}\rightarrow S_{2}\leq T_{1}\rightarrow T_{2}}" /></span></p>
</blockquote>
<p>In other words, the → type constructor is <i>contravariant in the input type</i> and <i>covariant in the output type</i>. This rule was first stated formally by <a href="https://en.wikipedia.org/wiki/John_C._Reynolds" title="John C. Reynolds">John C. Reynolds</a>,<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">[2]</a></sup> and further popularized in a paper by <a href="https://en.wikipedia.org/wiki/Luca_Cardelli" title="Luca Cardelli">Luca Cardelli</a>.<sup id="cite_ref-3" class="reference"><a href="#cite_note-3">[3]</a></sup></p>
<p>When dealing with <a href="https://en.wikipedia.org/wiki/Higher-order_function" title="Higher-order function">functions that take functions as arguments</a>, this rule can be applied several times. For example, by applying the rule twice, we see that (A'→B)→B ≤ (A→B)→B if A'≤A. In other words, the type (A→B)→B is <i>covariant</i> in the A position. For complicated types it can be confusing to mentally trace why a given type specialization is or isn't type-safe, but it is easy to calculate which positions are co- and contravariant: a position is covariant if it is on the left side of an even number of arrows applying to it.</p>
<h2><span class="mw-headline" id="Inheritance_in_object-oriented_languages">Inheritance in object-oriented languages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=6" title="Edit section: Inheritance in object-oriented languages">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>When a subclass <a href="https://en.wikipedia.org/wiki/Method_overriding" title="Method overriding">overrides</a> a method in a superclass, the compiler must check that the overriding method has the right type. While some languages require that the type exactly matches the type in the superclass (invariance), it is also type safe to allow the overriding method to have a "better" type. By the usual subtyping rule for function types, this means that the overriding method should return a more specific type (return type covariance), and accept a more general argument (argument type contravariance). In <a href="https://en.wikipedia.org/wiki/Unified_Modeling_Language" title="Unified Modeling Language">UML</a> notation, the possibilities are as follows:</p>
<ul class="gallery mw-gallery-traditional" style="max-width: 815px;_width: 815px;">
<li class='gallerycaption'>Variance and method overriding: overview</li>
<li class="gallerybox" style="width: 155px">
<div style="width: 155px">
<div class="thumb" style="width: 150px;">
<div style="margin:28.5px auto;"><a href="https://en.wikipedia.org/wiki/File:Vererbung_T.svg" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Vererbung_T.svg/120px-Vererbung_T.svg.png" width="120" height="163" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Vererbung_T.svg/180px-Vererbung_T.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Vererbung_T.svg/240px-Vererbung_T.svg.png 2x" data-file-width="125" data-file-height="170" /></a></div>
</div>
<div class="gallerytext">
<p>Subtyping of the argument/return type of the method.</p>
</div>
</div>
</li>
<li class="gallerybox" style="width: 155px">
<div style="width: 155px">
<div class="thumb" style="width: 150px;">
<div style="margin:29.5px auto;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_invariant.svg" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Inheritance_invariant.svg/120px-Inheritance_invariant.svg.png" width="120" height="161" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/Inheritance_invariant.svg/180px-Inheritance_invariant.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/00/Inheritance_invariant.svg/240px-Inheritance_invariant.svg.png 2x" data-file-width="127" data-file-height="170" /></a></div>
</div>
<div class="gallerytext">
<p><i>Invariance</i>. The signature of the overriding method is unchanged.</p>
</div>
</div>
</li>
<li class="gallerybox" style="width: 155px">
<div style="width: 155px">
<div class="thumb" style="width: 150px;">
<div style="margin:29.5px auto;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_covariant_return.svg" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Inheritance_covariant_return.svg/120px-Inheritance_covariant_return.svg.png" width="120" height="161" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/27/Inheritance_covariant_return.svg/180px-Inheritance_covariant_return.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/27/Inheritance_covariant_return.svg/240px-Inheritance_covariant_return.svg.png 2x" data-file-width="127" data-file-height="170" /></a></div>
</div>
<div class="gallerytext">
<p><i>Covariant return type</i>. The subtyping relation is in the same direction as the relation between ClassA and ClassB.</p>
</div>
</div>
</li>
<li class="gallerybox" style="width: 155px">
<div style="width: 155px">
<div class="thumb" style="width: 150px;">
<div style="margin:29.5px auto;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_contravariant_argument.svg" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Inheritance_contravariant_argument.svg/120px-Inheritance_contravariant_argument.svg.png" width="120" height="161" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Inheritance_contravariant_argument.svg/180px-Inheritance_contravariant_argument.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Inheritance_contravariant_argument.svg/240px-Inheritance_contravariant_argument.svg.png 2x" data-file-width="127" data-file-height="170" /></a></div>
</div>
<div class="gallerytext">
<p><i>Contravariant argument type</i>. The subtyping relation is in the opposite direction to the relation between ClassA and ClassB.</p>
</div>
</div>
</li>
<li class="gallerybox" style="width: 155px">
<div style="width: 155px">
<div class="thumb" style="width: 150px;">
<div style="margin:29.5px auto;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_covariant_argument.svg" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Inheritance_covariant_argument.svg/120px-Inheritance_covariant_argument.svg.png" width="120" height="161" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Inheritance_covariant_argument.svg/180px-Inheritance_covariant_argument.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Inheritance_covariant_argument.svg/240px-Inheritance_covariant_argument.svg.png 2x" data-file-width="127" data-file-height="170" /></a></div>
</div>
<div class="gallerytext">
<p><i>Covariant argument type</i>. Not type safe.</p>
</div>
</div>
</li>
</ul>
<p>For a concrete example, suppose we are writing a class to model an <a href="https://en.wikipedia.org/wiki/Animal_shelter" title="Animal shelter">animal shelter</a>. We assume that <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code> is a subclass of <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code>, and that we have a base class (using Java syntax)</p>
<div class="floatright"><a href="https://en.wikipedia.org/wiki/File:AnimalShelter.svg" class="image"><img alt="UML diagram" src="http://upload.wikimedia.org/wikipedia/commons/thumb/5/55/AnimalShelter.svg/170px-AnimalShelter.svg.png" width="170" height="78" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/55/AnimalShelter.svg/255px-AnimalShelter.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/5/55/AnimalShelter.svg/340px-AnimalShelter.svg.png 2x" data-file-width="246" data-file-height="113" /></a></div>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">AnimalShelter</span> <span class="o">{</span>
        <span class="n">Animal</span> <span class="nf">getAnimalForAdoption</span><span class="o">()</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
    
        <span class="kt">void</span> <span class="nf">putAnimal</span><span class="o">(</span><span class="n">Animal</span> <span class="n">animal</span><span class="o">)</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>Now the question is: if we subclass <code class="mw-highlight" dir="ltr"><span class="n">AnimalShelter</span></code>, what types are we allowed to give to <code class="mw-highlight" dir="ltr"><span class="n">getAnimalForAdoption</span></code> and <code class="mw-highlight" dir="ltr"><span class="n">putAnimal</span></code>?</p>
<div style="clear:both;"></div>
<h3><span class="mw-headline" id="Covariant_method_return_type">Covariant method return type</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=7" title="Edit section: Covariant method return type">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In a language which allows covariant return types, a derived class can override the <code class="mw-highlight" dir="ltr"><span class="n">getAnimalForAdoption</span></code> method to return a more specific type:</p>
<div class="thumb tright">
<div class="thumbinner" style="width:172px;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_covariant_return_animalshelter.svg" class="image"><img alt="UML diagram" src="http://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Inheritance_covariant_return_animalshelter.svg/170px-Inheritance_covariant_return_animalshelter.svg.png" width="170" height="183" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Inheritance_covariant_return_animalshelter.svg/255px-Inheritance_covariant_return_animalshelter.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Inheritance_covariant_return_animalshelter.svg/340px-Inheritance_covariant_return_animalshelter.svg.png 2x" data-file-width="246" data-file-height="265" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="https://en.wikipedia.org/wiki/File:Inheritance_covariant_return_animalshelter.svg" class="internal" title="Enlarge"></a></div>
</div>
</div>
</div>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">CatShelter</span> <span class="kd">extends</span> <span class="n">AnimalShelter</span> <span class="o">{</span>
        <span class="n">Cat</span> <span class="nf">getAnimalForAdoption</span><span class="o">()</span> <span class="o">{</span>
    	    <span class="k">return</span> <span class="k">new</span> <span class="n">Cat</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>Among mainstream OO languages, <a href="https://en.wikipedia.org/wiki/Java_(Programming_language)" class="mw-redirect" title="Java (Programming language)">Java</a> and <a href="https://en.wikipedia.org/wiki/C++" title="C++">C++</a> support covariant return types, while <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a> does not. Adding the covariant return type was one of the first modifications of the C++ language approved by the standards committee in 1998.<sup id="cite_ref-4" class="reference"><a href="#cite_note-4">[4]</a></sup> <a href="https://en.wikipedia.org/wiki/Scala_(programming_language)" title="Scala (programming language)">Scala</a> and <a href="https://en.wikipedia.org/wiki/D_(programming_language)" title="D (programming language)">D</a> also support covariant return types.</p>
<div style="clear:both;"></div>
<h3><span class="mw-headline" id="Contravariant_method_argument_type">Contravariant method argument type</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=8" title="Edit section: Contravariant method argument type">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Similarly, it is type safe to allow an overriding method to accept a more general argument than the method in the base class:</p>
<div class="thumb tright">
<div class="thumbinner" style="width:172px;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_contravariant_argument_animalshelter.svg" class="image"><img alt="UML diagram" src="http://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Inheritance_contravariant_argument_animalshelter.svg/170px-Inheritance_contravariant_argument_animalshelter.svg.png" width="170" height="183" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/30/Inheritance_contravariant_argument_animalshelter.svg/255px-Inheritance_contravariant_argument_animalshelter.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/30/Inheritance_contravariant_argument_animalshelter.svg/340px-Inheritance_contravariant_argument_animalshelter.svg.png 2x" data-file-width="246" data-file-height="265" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="https://en.wikipedia.org/wiki/File:Inheritance_contravariant_argument_animalshelter.svg" class="internal" title="Enlarge"></a></div>
</div>
</div>
</div>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">CatShelter</span> <span class="kd">extends</span> <span class="n">AnimalShelter</span> <span class="o">{</span>
        <span class="kt">void</span> <span class="nf">putAnimal</span><span class="o">(</span><span class="n">Object</span> <span class="n">animal</span><span class="o">)</span> <span class="o">{</span>
           <span class="o">...</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>Not many object-oriented languages actually allow this. C++ and Java would interpret this as an unrelated method with an <a href="https://en.wikipedia.org/wiki/Function_overloading" title="Function overloading">overloaded</a> name.</p>
<p>However, <a href="https://en.wikipedia.org/wiki/Sather" title="Sather">Sather</a> supported both covariance and contravariance. Calling convention for overridden methods are covariant with <i>out</i> arguments and return values, and contravariant with normal arguments (with the mode <i>in</i>).</p>
<div style="clear:both;"></div>
<h3><span class="mw-headline" id="Covariant_method_argument_type">Covariant method argument type</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=9" title="Edit section: Covariant method argument type">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Uniquely among mainstream languages, <a href="https://en.wikipedia.org/wiki/Eiffel_(programming_language)" title="Eiffel (programming language)">Eiffel</a> allows the arguments of an overriding method to have a <i>more</i> specific type than the method in the superclass (argument type covariance). Thus, the Eiffel version of the following code would type check, with <code class="mw-highlight" dir="ltr"><span class="n">putAnimal</span></code> overriding the method in the base class:</p>
<div class="thumb tright">
<div class="thumbinner" style="width:172px;"><a href="https://en.wikipedia.org/wiki/File:Inheritance_covariant_argument_animalshelter.svg" class="image"><img alt="UML diagram" src="http://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Inheritance_covariant_argument_animalshelter.svg/170px-Inheritance_covariant_argument_animalshelter.svg.png" width="170" height="183" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Inheritance_covariant_argument_animalshelter.svg/255px-Inheritance_covariant_argument_animalshelter.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Inheritance_covariant_argument_animalshelter.svg/340px-Inheritance_covariant_argument_animalshelter.svg.png 2x" data-file-width="246" data-file-height="265" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="https://en.wikipedia.org/wiki/File:Inheritance_covariant_argument_animalshelter.svg" class="internal" title="Enlarge"></a></div>
</div>
</div>
</div>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">CatShelter</span> <span class="kd">extends</span> <span class="n">AnimalShelter</span> <span class="o">{</span>
        <span class="kt">void</span> <span class="nf">putAnimal</span><span class="o">(</span><span class="n">Cat</span> <span class="n">animal</span><span class="o">)</span> <span class="o">{</span>
           <span class="o">...</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>This is not type safe. By up-casting a <code class="mw-highlight" dir="ltr"><span class="n">CatShelter</span></code> to an <code class="mw-highlight" dir="ltr"><span class="n">AnimalShelter</span></code>, one can try to place a dog in a cat shelter. That does not meet <code class="mw-highlight" dir="ltr"><span class="n">CatShelter</span></code> argument restrictions, and will result in a runtime error. The lack of type safety (known as the "catcall problem" in the Eiffel community) has been a long-standing issue. Over the years, various combinations of global static analysis, local static analysis, and new language features have been proposed to remedy it,<sup id="cite_ref-5" class="reference"><a href="#cite_note-5">[5]</a></sup> <sup id="cite_ref-competentCompilers_6-0" class="reference"><a href="#cite_note-competentCompilers-6">[6]</a></sup> and these have been implemented in some Eiffel compilers.</p>
<p>Despite the type safety problem, the Eiffel designers consider covariant argument types crucial for modeling real world requirements.<sup id="cite_ref-competentCompilers_6-1" class="reference"><a href="#cite_note-competentCompilers-6">[6]</a></sup> The cat shelter illustrates a common phenomenon: it is <i>a kind of</i> animal shelter but has <i>additional restrictions</i>, and it seems reasonable to use inheritance and restricted argument types to model this. In proposing this use of inheritance, the Eiffel designers reject the <a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle" title="Liskov substitution principle">Liskov substitution principle</a>, which states that objects of subclasses should always be less restricted than objects of their superclass.</p>
<p>One other instance of a mainstream language allowing covariance in method arguments is PHP in regards to class constructors. In the following example, the __construct() method is accepted, despite the method argument being covariant to the parent's method argument. Were this method anything other than __construct(), an error would occur:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
	<span class="kd">interface</span> <span class="nc">AnimalInterface</span> <span class="o">{}</span>
	<span class="kd">interface</span> <span class="nc">DogInterface</span> <span class="kd">extends</span> <span class="n">AnimalInterface</span> <span class="o">{}</span>

	<span class="kd">class</span> <span class="nc">Dog</span> <span class="kd">implements</span> <span class="n">DogInterface</span> <span class="o">{}</span>

	<span class="kd">class</span> <span class="nc">Pet</span> <span class="o">{</span>
		<span class="kd">public</span> <span class="n">function</span> <span class="nf">__construct</span><span class="o">(</span><span class="n">AnimalInterface</span> <span class="n">$animal</span><span class="o">)</span> <span class="o">{}</span>
	<span class="o">}</span>

	<span class="kd">class</span> <span class="nc">PetDog</span> <span class="kd">extends</span> <span class="n">Pet</span> <span class="o">{</span>
		<span class="kd">public</span> <span class="n">function</span> <span class="nf">__construct</span><span class="o">(</span><span class="n">DogInterface</span> <span class="n">$dog</span><span class="o">)</span> <span class="o">{</span> <span class="n">parent</span><span class="o">::</span><span class="n">__construct</span><span class="o">(</span><span class="n">$dog</span><span class="o">);</span> <span class="o">}</span>
	<span class="o">}</span>
</pre></div>
<p>Another example where covariant arguments seem helpful is so-called binary methods, i.e. methods where the argument is expected to be of the same type as the object the method is called on. An example is the <code class="mw-highlight" dir="ltr"><span class="n">compareTo</span></code> method: <code class="mw-highlight" dir="ltr"><span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">b</span><span class="o">)</span></code> checks whether <code class="mw-highlight" dir="ltr"><span class="n">a</span></code> comes before or after <code class="mw-highlight" dir="ltr"><span class="n">b</span></code> in some ordering, but the way to compare, say, two rational numbers will be different from the way to compare two strings. Other common examples of binary methods include equality tests, arithmetic operations, and set operations like subset and union.</p>
<p>In older versions of Java, the comparison method was specified as an interface <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span></code>:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">interface</span> <span class="nc">Comparable</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">);</span>
    <span class="o">}</span>
</pre></div>
<p>The drawback of this is that the method is specified to take an argument of type <code class="mw-highlight" dir="ltr"><span class="n">Object</span></code>. A typical implementation would first down-cast this argument (throwing an error if it is not of the expected type):</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">RationalNumber</span> <span class="kd">implements</span> <span class="n">Comparable</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">numerator</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">denominator</span><span class="o">;</span>
    
        <span class="o">...</span>
        
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Object</span> <span class="n">other</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">RationalNumber</span> <span class="n">otherNum</span> <span class="o">=</span> <span class="o">(</span><span class="n">RationalNumber</span><span class="o">)</span><span class="n">other</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">numerator</span><span class="o">*</span><span class="n">otherNum</span><span class="o">.</span><span class="na">denominator</span><span class="o">,</span>
                                   <span class="n">otherNum</span><span class="o">.</span><span class="na">numerator</span><span class="o">*</span><span class="n">denominator</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>In a language with covariant arguments, the argument to compareTo could be directly given the desired type <code class="mw-highlight" dir="ltr"><span class="n">RationalNumber</span></code>, hiding the typecast. (Of course, this would still give a runtime error if <code class="mw-highlight" dir="ltr"><span class="n">compareTo</span></code> was then called on e.g. a <code class="mw-highlight" dir="ltr"><span class="n">String</span></code>).</p>
<h3><span class="mw-headline" id="Avoiding_the_need_for_covariant_argument_types">Avoiding the need for covariant argument types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=10" title="Edit section: Avoiding the need for covariant argument types">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Other language features can provide the apparent benefits of covariant arguments while preserving Liskov substitutability.</p>
<p>In a language with <i>generics</i> (a.k.a. <a href="https://en.wikipedia.org/wiki/Parametric_polymorphism" title="Parametric polymorphism">parametric polymorphism</a>) and <a href="https://en.wikipedia.org/wiki/Bounded_quantification" title="Bounded quantification">bounded quantification</a>, the previous examples can be written in a type-safe way.<sup id="cite_ref-7" class="reference"><a href="#cite_note-7">[7]</a></sup> Instead of defining <code class="mw-highlight" dir="ltr"><span class="n">AnimalShelter</span></code>, we define a parameterized class <code class="mw-highlight" dir="ltr"><span class="n">Shelter</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span></code>. (One drawback of this is that the implementer of the base class needs to foresee which types will need to be specialized in the subclasses).</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">Shelter</span><span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="n">T</span> <span class="nf">getAnimalForAdoption</span><span class="o">()</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
    
        <span class="kt">void</span> <span class="nf">putAnimal</span><span class="o">(</span><span class="n">T</span> <span class="n">animal</span><span class="o">)</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    
    <span class="kd">class</span> <span class="nc">CatShelter</span> <span class="kd">extends</span> <span class="n">Shelter</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="n">Cat</span> <span class="nf">getAnimalForAdoption</span><span class="o">()</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
    
        <span class="kt">void</span> <span class="nf">putAnimal</span><span class="o">(</span><span class="n">Cat</span> <span class="n">animal</span><span class="o">)</span> <span class="o">{</span>
          <span class="o">...</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>Similarly, in recent versions of Java the <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span></code> interface has been parameterized, which allows the downcast to be omitted in a type-safe way:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="kd">class</span> <span class="nc">RationalNumber</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">RationalNumber</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">numerator</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">denominator</span><span class="o">;</span>
      
        <span class="o">...</span>
         
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">RationalNumber</span> <span class="n">otherNum</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">numerator</span><span class="o">*</span><span class="n">otherNum</span><span class="o">.</span><span class="na">denominator</span><span class="o">,</span> 
                                   <span class="n">otherNum</span><span class="o">.</span><span class="na">numerator</span><span class="o">*</span><span class="n">denominator</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
<p>Another language feature that can help is <i>multiple dispatch</i>. One reason that binary methods are awkward to write is that in a call like <code class="mw-highlight" dir="ltr"><span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">b</span><span class="o">)</span></code>, selecting the correct implementation of <code class="mw-highlight" dir="ltr"><span class="n">compareTo</span></code> really depends on the runtime type of both <code class="mw-highlight" dir="ltr"><span class="n">a</span></code> and <code class="mw-highlight" dir="ltr"><span class="n">b</span></code>, but in a conventional OO language only the runtime type of <code class="mw-highlight" dir="ltr"><span class="n">a</span></code> is taken into account. In a language with <a href="https://en.wikipedia.org/wiki/Common_Lisp_Object_System" title="Common Lisp Object System">Common Lisp Object System</a> (CLOS)-style <a href="https://en.wikipedia.org/wiki/Multiple_dispatch" title="Multiple dispatch">multiple dispatch</a>, the comparison method could be written as a generic function where both arguments are used for method selection.</p>
<p>Giuseppe Castagna<sup id="cite_ref-8" class="reference"><a href="#cite_note-8">[8]</a></sup> observed that in a typed language with multiple dispatch, a generic function can have some arguments which control dispatch and some "left-over" arguments which do not. Because the method selection rule chooses the most specific applicable method, if a method overrides another method, then the overriding method will have more specific types for the controlling arguments. On the other hand, to ensure type safety the language still must require the left-over arguments to be at least as general. Using the previous terminology, types used for runtime method selection are covariant while types not used for runtime method selection of the method are contravariant. Conventional single-dispatch languages like Java also obey this rule: there only one argument is used for method selection (the receiver object, passed along to a method as the hidden argument <code class="mw-highlight" dir="ltr"><span class="k">this</span></code>), and indeed the type of <code class="mw-highlight" dir="ltr"><span class="k">this</span></code> is more specialized inside overriding methods than in the superclass.</p>
<p>Castagna suggests that examples where covariant argument types are superior, particularly binary methods, should be handled using multiple dispatch which is naturally covariant. Unfortunately, most programming languages do not support multiple dispatch.</p>
<h3><span class="mw-headline" id="Summary_of_variance_and_inheritance">Summary of variance and inheritance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=11" title="Edit section: Summary of variance and inheritance">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following table summarizes the rules for overriding methods in the languages discussed above.</p>
<table class="wikitable" border="1">
<tr>
<th></th>
<th>Argument type</th>
<th>Return type</th>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/C++" title="C++">C++</a> (since 1998), <a href="https://en.wikipedia.org/wiki/Java_(programming_language)" title="Java (programming language)">Java</a> (since <a href="https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition" title="Java Platform, Standard Edition">J2SE 5.0</a>), <a href="https://en.wikipedia.org/wiki/Scala_(programming_language)" title="Scala (programming language)">Scala</a>, <a href="https://en.wikipedia.org/wiki/D_(programming_language)" title="D (programming language)">D</a></td>
<td>Invariant</td>
<td>Covariant</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a></td>
<td>Invariant</td>
<td>Invariant</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Sather" title="Sather">Sather</a></td>
<td>Contravariant</td>
<td>Covariant</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Eiffel_(programming_language)" title="Eiffel (programming language)">Eiffel</a></td>
<td>Covariant</td>
<td>Covariant</td>
</tr>
</table>
<h2><span class="mw-headline" id="Generic_types">Generic types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=12" title="Edit section: Generic types">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In programming languages that support generics (a.k.a. <a href="https://en.wikipedia.org/wiki/Parametric_polymorphism" title="Parametric polymorphism">parametric polymorphism</a>), the programmer can extend the type system with new constructors. For example, a C# interface like <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> makes it possible to construct new types like <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span></code> or <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">Cat</span><span class="p">&gt;</span></code>. The question then arises what the variance of these type constructors should be.</p>
<p>There are two main approaches. In languages with <i>declaration-site variance annotations</i> (e.g., <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a>), the programmer annotates the definition of a generic type with the intended variance of its type parameters. With <i>use-site variance annotations</i> (e.g., <a href="https://en.wikipedia.org/wiki/Java_(programming_language)" title="Java (programming language)">Java</a>), the programmer instead annotates the places where a generic type is instantiated.</p>
<h3><span class="mw-headline" id="Declaration-site_variance_annotations">Declaration-site variance annotations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=13" title="Edit section: Declaration-site variance annotations">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The most popular languages with declaration-site variance annotations are <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a> (using the keywords <code class="mw-highlight" dir="ltr"><span class="k">out</span></code> and <code class="mw-highlight" dir="ltr"><span class="k">in</span></code>), and <a href="https://en.wikipedia.org/wiki/Scala_(programming_language)" title="Scala (programming language)">Scala</a> and <a href="https://en.wikipedia.org/wiki/OCaml" title="OCaml">OCaml</a> (using the keywords <code class="mw-highlight" dir="ltr"><span class="o">+</span></code> and <code class="mw-highlight" dir="ltr"><span class="o">-</span></code>). C# only allows variance annotations for interface types, while Scala and OCaml allows them for both interface types and concrete data types.</p>
<h4><span class="mw-headline" id="Interfaces">Interfaces</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=14" title="Edit section: Interfaces">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In C#, each type parameter of a generic interface can be marked covariant (<code class="mw-highlight" dir="ltr"><span class="k">out</span></code>), contravariant (<code class="mw-highlight" dir="ltr"><span class="k">in</span></code>), or invariant (no annotation). For example, we can define an interface <code class="mw-highlight" dir="ltr"><span class="n">IEnumerator</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> of read-only iterators, and declare it to be covariant (out) in its type parameter.</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="k">interface</span> <span class="n">IEnumerator</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">T</span><span class="p">&gt;</span>
    <span class="p">{</span>
        <span class="n">T</span> <span class="n">Current</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
        <span class="kt">bool</span> <span class="nf">MoveNext</span><span class="p">();</span>
    <span class="p">}</span>
</pre></div>
<p>With this declaration, <code class="mw-highlight" dir="ltr"><span class="n">IEnumerator</span></code> will be treated as covariant in its type argument, e.g. <code class="mw-highlight" dir="ltr"><span class="n">IEnumerator</span><span class="p">&lt;</span><span class="n">Cat</span><span class="p">&gt;</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">IEnumerator</span><span class="p">&lt;</span><span class="n">Animal</span><span class="p">&gt;</span></code>.</p>
<p>The typechecker enforces that each method declaration in an interface only mentions the type parameters in a way consistent with the <code class="mw-highlight" dir="ltr"><span class="k">in</span></code>/<code class="mw-highlight" dir="ltr"><span class="k">out</span></code> annotations. That is, a parameter that was declared covariant must not occur in any contravariant positions (where a position is contravariant if it occurs under an odd number of contravariant type constructors). The precise rule<sup id="cite_ref-9" class="reference"><a href="#cite_note-9">[9]</a></sup><sup id="cite_ref-10" class="reference"><a href="#cite_note-10">[10]</a></sup> is that the return types of all methods in the interface must be <i>valid covariantly</i> and all the method argument types must be <i>valid contravariantly</i>, where <i>valid S-ly</i> is defined as follows:</p>
<ul>
<li>Non-generic types (classes, structs, enums, etc.) are valid both co- and contravariantly.</li>
<li>A type argument <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> is valid covariantly if it was not marked <code class="mw-highlight" dir="ltr"><span class="k">in</span></code>, and valid contravariantly if it was not marked <code class="mw-highlight" dir="ltr"><span class="k">out</span></code></li>
<li>An array type <code class="mw-highlight" dir="ltr"><span class="n">A</span><span class="p">[]</span></code> is valid S-ly if <code class="mw-highlight" dir="ltr"><span class="n">A</span></code> is. (This is because C# has covariant arrays).</li>
<li>A generic type <code class="mw-highlight" dir="ltr"><span class="n">G</span><span class="p">&lt;</span><span class="n">A1</span><span class="p">,</span><span class="n">A2</span><span class="p">,...,</span><span class="n">An</span><span class="p">&gt;</span></code> is valid S-ly if for each argument <code class="mw-highlight" dir="ltr"><span class="n">Ai</span></code>,
<ul>
<li>Ai is valid S-ly, and the <i>i</i>th parameter to <code class="mw-highlight" dir="ltr"><span class="n">G</span></code> is declared covariant, or</li>
<li>Ai is valid (not S)-ly, and the <i>i</i>th parameter to <code class="mw-highlight" dir="ltr"><span class="n">G</span></code> is declared contravariant, or</li>
<li>Ai is valid both covariantly and contravariantly, and the <i>i</i>th parameter to <code class="mw-highlight" dir="ltr"><span class="n">G</span></code> is declared invariant.</li>
</ul>
</li>
</ul>
<p>As an example of how these rules apply, consider the <code class="mw-highlight" dir="ltr"><span class="n">IList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> interface.</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="k">interface</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span>
    <span class="p">{</span>
        <span class="k">void</span> <span class="nf">Insert</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="n">T</span> <span class="n">item</span><span class="p">);</span>
        <span class="n">IEnumerator</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">GetEnumerator</span><span class="p">();</span>
    <span class="p">}</span>
</pre></div>
<p>The argument type <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> of <code class="mw-highlight" dir="ltr"><span class="n">Insert</span></code> must be valid contravariantly, i.e. the type parameter <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> must not be tagged <code class="mw-highlight" dir="ltr"><span class="k">out</span></code>. Similarly, the result type <code class="mw-highlight" dir="ltr"><span class="n">IEnumerator</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></code> of <code class="mw-highlight" dir="ltr"><span class="n">GetEnumerator</span></code> must be valid covariantly, i.e. (since <code class="mw-highlight" dir="ltr"><span class="n">IEnumerator</span></code> is a covariant interface) the type <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> must be valid covariantly, i.e. the type parameter <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> must not be tagged <code class="mw-highlight" dir="ltr"><span class="k">in</span></code>. This shows that the interface <code class="mw-highlight" dir="ltr"><span class="n">IList</span></code> is not allowed to be marked either co- or contravariant.</p>
<p>In the common case of a generic data structure such as <code class="mw-highlight" dir="ltr"><span class="n">IList</span></code>, these restrictions mean that an <code class="mw-highlight" dir="ltr"><span class="k">out</span></code> parameter can only be used for methods getting data out of the structure, and an <code class="mw-highlight" dir="ltr"><span class="k">in</span></code> parameter can only be used for methods putting data into the structure, hence the choice of keywords.</p>
<h4><span class="mw-headline" id="Data">Data</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=15" title="Edit section: Data">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>C# allows variance annotations on the parameters of interfaces, but not the parameters of classes. Because fields in C# classes are always mutable, variantly parameterized classes in C# would not be very useful. But languages which emphasize immutable data can make good use of covariant data types. For example, both in <a href="https://en.wikipedia.org/wiki/Scala_(programming_language)" title="Scala (programming language)">Scala</a> and <a href="https://en.wikipedia.org/wiki/OCaml" title="OCaml">OCaml</a> the immutable list type is covariant: <code class="mw-highlight" dir="ltr"><span class="nc">List</span><span class="o">[</span><span class="kt">Cat</span><span class="o">]</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="nc">List</span><span class="o">[</span><span class="kt">Animal</span><span class="o">]</span></code>.</p>
<p>Scala's rules for checking variance annotations are essentially the same as C#'s. However, there are some idioms that apply to immutable datastructures in particular. They are illustrated by the following (excerpt from the) definition of the <code class="mw-highlight" dir="ltr"><span class="nc">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span></code> class.</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">List</span><span class="o">[</span><span class="kt">+A</span><span class="o">]</span> <span class="nc">extends</span> <span class="nc">AbstractSeq</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">head</span><span class="k">:</span> <span class="kt">A</span>
  <span class="k">def</span> <span class="n">tail</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>

  <span class="cm">/** Adds an element at the beginning of this list. */</span>
  <span class="k">def</span> <span class="o">::[</span><span class="kt">B</span> <span class="k">&gt;:</span> <span class="kt">A</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">B</span><span class="o">)</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">new</span> <span class="n">scala</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">immutable</span><span class="o">.::(</span><span class="n">x</span><span class="o">,</span> <span class="k">this</span><span class="o">)</span>

  <span class="o">...</span>
<span class="o">}</span>
</pre></div>
<p>First, class members that have a variant type must be immutable. Here, <code class="mw-highlight" dir="ltr"><span class="n">head</span></code> has the type <code class="mw-highlight" dir="ltr"><span class="n">A</span></code>, which was declared covariant (<code class="mw-highlight" dir="ltr"><span class="o">+</span></code>), and indeed <code class="mw-highlight" dir="ltr"><span class="n">head</span></code> was declared as a method (<code class="mw-highlight" dir="ltr"><span class="k">def</span></code>). Trying to declare it as a mutable field (<code class="mw-highlight" dir="ltr"><span class="k">var</span></code>) would be rejected as type error.</p>
<p>Second, even if a data structure is immutable, it will often have methods where the parameter type occurs contravariantly. For example, consider the method <code class="mw-highlight" dir="ltr"><span class="o">::</span></code> which adds an element to the front of a list. (The implementation works by creating a new object of the similarly-named <i>class</i> <code class="mw-highlight" dir="ltr"><span class="o">::</span></code>, the class of nonempty lists). The most obvious type to give it would be</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
  <span class="k">def</span> <span class="o">::</span> <span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
</pre></div>
<p>However, this would be a type error, because the covariant parameter <code class="mw-highlight" dir="ltr"><span class="n">A</span></code> appears in a contravariant position (as a function argument). But there is a trick to get around this problem. We give <code class="mw-highlight" dir="ltr"><span class="o">::</span></code> a more general type, which allows adding an element of any type <code class="mw-highlight" dir="ltr"><span class="n">B</span></code> as long as <code class="mw-highlight" dir="ltr"><span class="n">B</span></code> is a supertype of <code class="mw-highlight" dir="ltr"><span class="n">A</span></code>. Note that this relies on <code class="mw-highlight" dir="ltr"><span class="nc">List</span></code> being covariant, since <code class="mw-highlight" dir="ltr"><span class="k">this</span></code> has type <code class="mw-highlight" dir="ltr"><span class="nc">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span></code> and we treat it as having type <code class="mw-highlight" dir="ltr"><span class="nc">List</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span></code>. At first glance it may not be obvious that the generalized type is sound, but if the programmer starts out with the simpler type declaration, the type errors will point out the place that needs to be generalized.</p>
<h4><span class="mw-headline" id="Inferring_variance">Inferring variance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=16" title="Edit section: Inferring variance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>It is possible to design a type system where the compiler automatically infers the best possible variance annotations for all datatype parameters.<sup id="cite_ref-tamingCombining_11-0" class="reference"><a href="#cite_note-tamingCombining-11">[11]</a></sup> However, the analysis can get complex for several reasons. First, the analysis is nonlocal since the variance of an interface <code class="mw-highlight" dir="ltr"><span class="n">I</span></code> depends the variance of all interfaces that <code class="mw-highlight" dir="ltr"><span class="n">I</span></code> mentions. Second, in order to get unique best solutions the type system must allow <i>bivariant</i> parameters (which are simultaneously co- and contravariant). And finally, the variance of type parameters should arguably be a deliberate choice by the designer of an interface, not something that just happens.</p>
<p>For these reasons<sup id="cite_ref-12" class="reference"><a href="#cite_note-12">[12]</a></sup> most languages do very little variance inference. C# and Scala do not infer any variance annotations at all. OCaml can infer the variance of parameterized concrete datatypes, but the programmer must explicitly specify the variance of abstract types (interfaces).</p>
<p>For example, consider an OCaml datatype <code class="mw-highlight" dir="ltr"><span class="nc">T</span></code> which wraps a function</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="k">type</span> <span class="o">(</span><span class="k">'</span><span class="n">a</span><span class="o">,</span> <span class="k">'</span><span class="n">b</span><span class="o">)</span> <span class="n">t</span> <span class="o">=</span> <span class="nc">T</span> <span class="k">of</span> <span class="o">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span><span class="o">)</span>
</pre></div>
<p>The compiler will automatically infer that <code class="mw-highlight" dir="ltr"><span class="nc">T</span></code> is contravariant in the first parameter, and covariant in the second. The programmer can also provide explicit annotations, which the compiler will check are satisfied. Thus the following declaration is equivalent to the previous one:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="k">type</span> <span class="o">(-</span><span class="k">'</span><span class="n">a</span><span class="o">,</span> <span class="o">+</span><span class="k">'</span><span class="n">b</span><span class="o">)</span> <span class="n">t</span> <span class="o">=</span> <span class="nc">T</span> <span class="k">of</span> <span class="o">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span><span class="o">)</span>
</pre></div>
<p>Explicit annotations in OCaml become useful when specifying interfaces. For example, the standard library interface <code class="mw-highlight" dir="ltr"><span class="nn">Map</span><span class="p">.</span><span class="nc">S</span></code> for association tables include an annotation saying that the map type constructor is covariant in the result type.</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="k">module</span> <span class="k">type</span> <span class="nc">S</span> <span class="o">=</span>
  <span class="k">sig</span>
    <span class="k">type</span> <span class="n">key</span>
    <span class="k">type</span> <span class="o">(+</span><span class="k">'</span><span class="n">a</span><span class="o">)</span> <span class="n">t</span>
    <span class="k">val</span> <span class="n">empty</span><span class="o">:</span> <span class="k">'</span><span class="n">a</span> <span class="n">t</span>
    <span class="k">val</span> <span class="n">mem</span><span class="o">:</span> <span class="n">key</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="kt">bool</span>
    <span class="o">...</span>
  <span class="k">end</span>
</pre></div>
<p>This ensures that e.g. <code class="mw-highlight" dir="ltr"><span class="n">cat</span> <span class="nn">IntMap</span><span class="p">.</span><span class="n">t</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">animal</span> <span class="nn">IntMap</span><span class="p">.</span><span class="n">t</span></code>.</p>
<h3><span class="mw-headline" id="Use-site_variance_annotations_.28wildcards.29">Use-site variance annotations (wildcards)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=17" title="Edit section: Use-site variance annotations (wildcards)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>One drawback of the declaration-site approach is that many interface types must be made invariant. For example, we saw above that <code class="mw-highlight" dir="ltr"><span class="n">IList</span></code> needed to be invariant, because it contained both <code class="mw-highlight" dir="ltr"><span class="n">Insert</span></code> and <code class="mw-highlight" dir="ltr"><span class="n">GetEnumerator</span></code>. In order to expose more variance, the API designer could provide additional interfaces which provide subsets of the available methods (e.g. an "insert-only list" which only provides <code class="mw-highlight" dir="ltr"><span class="n">Insert</span></code>). However this quickly becomes unwieldy.</p>
<p>Use-site variance annotations aim to give users of a class more opportunities for subtyping without requiring the designer of the class to define multiple interfaces with different variance. Instead, each time a class or interface is used in a type declaration, the programmer can indicate that only a subset of the methods will be used. In effect, each definition of a class also makes available interfaces for the covariant and contravariant <i>parts</i> of that class. Therefore, the designer of the class no longer needs to take variance into account, increasing re-usability.</p>
<p>Java provides use-site variance annotations through <a href="https://en.wikipedia.org/wiki/Wildcard_(Java)" title="Wildcard (Java)">wildcards</a>, a restricted form of <a href="https://en.wikipedia.org/wiki/Bounded_quantification" title="Bounded quantification">bounded</a> <a href="https://en.wikipedia.org/wiki/Existential_type" class="mw-redirect" title="Existential type">existential types</a>. A parameterized type can be instantiated by a wildcard <code class="mw-highlight" dir="ltr"><span class="o">?</span></code> together with an upper or lower bound, e.g. <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code> or <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">Animal</span><span class="o">&gt;</span></code>. (A an unbounded wildcard like <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?&gt;</span></code> is equivalent to <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Object</span><span class="o">&gt;</span></code>). Such a type represents <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;</span><span class="n">X</span><span class="o">&gt;</span></code> for some unknown type <code class="mw-highlight" dir="ltr"><span class="n">X</span></code> which satisfies the bound. For example, if <code class="mw-highlight" dir="ltr"><span class="n">l</span></code> has type <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code>, then the typechecker will accept</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="n">Animal</span> <span class="n">a</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</pre></div>
<p>because the type <code class="mw-highlight" dir="ltr"><span class="n">X</span></code> is known to be a subtype of <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code>, but</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="n">l</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Animal</span><span class="o">())</span>
</pre></div>
<p>will be rejected as a type error since an <code class="mw-highlight" dir="ltr"><span class="n">Animal</span></code> is not necessarily an <code class="mw-highlight" dir="ltr"><span class="n">X</span></code>. In general, given some interface <code class="mw-highlight" dir="ltr"><span class="n">I</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span></code>, a reference to a <code class="mw-highlight" dir="ltr"><span class="n">I</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">A</span><span class="o">&gt;</span></code> forbids using methods from the interface where <code class="mw-highlight" dir="ltr"><span class="n">T</span></code> occurs contravariantly in the type of the method. Conversely, if <code class="mw-highlight" dir="ltr"><span class="n">l</span></code> had type <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">Animal</span><span class="o">&gt;</span></code> one could call <code class="mw-highlight" dir="ltr"><span class="n">l</span><span class="o">.</span><span class="na">add</span></code> but not <code class="mw-highlight" dir="ltr"><span class="n">l</span><span class="o">.</span><span class="na">get</span></code>.</p>
<div class="thumb tright">
<div class="thumbinner" style="width:352px;"><a href="https://en.wikipedia.org/wiki/File:Java_wildcard_subtyping.svg" class="image"><img alt="" src="http://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Java_wildcard_subtyping.svg/350px-Java_wildcard_subtyping.svg.png" width="350" height="227" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Java_wildcard_subtyping.svg/525px-Java_wildcard_subtyping.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Java_wildcard_subtyping.svg/700px-Java_wildcard_subtyping.svg.png 2x" data-file-width="664" data-file-height="430" /></a>
<div class="thumbcaption">
<div class="magnify"><a href="https://en.wikipedia.org/wiki/File:Java_wildcard_subtyping.svg" class="internal" title="Enlarge"></a></div>
Wildcard subtyping in Java can be visualized as a cube.</div>
</div>
</div>
<p>While plain generic types in Java are invariant (e.g. there is no subtyping relationship between <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span></code> and <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;</span><span class="n">Animal</span><span class="o">&gt;</span></code>), wildcard types can be made more specific by specifying a tighter bound, for example <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Cat</span><span class="o">&gt;</span></code> is a subtype of <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code>. This shows that wildcard types are <i>covariant in their upper bounds</i> (and also <i>contravariant in their lower bounds</i>). In total, given a wildcard type like <code class="mw-highlight" dir="ltr"><span class="n">C</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">T</span><span class="o">&gt;</span></code>, there are three ways to form a subtype: by specializing the class <code class="mw-highlight" dir="ltr"><span class="n">C</span></code>, by specifying a tighter bound <code class="mw-highlight" dir="ltr"><span class="n">T</span></code>, or by replacing the wildcard <code class="mw-highlight" dir="ltr"><span class="o">?</span></code> by a specific type (see figure).</p>
<p>By combining two steps of subtyping, it is therefore possible to e.g. pass an argument of type <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span></code> to a method expecting a <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code>. This is exactly the kind of programs that covariant interface types allow. The type <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code> acts as an interface type containing only the covariant methods of <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span></code>, but the implementer of <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span></code> did not have to define it ahead of time. This is use-site variance.</p>
<p>In the common case of a generic data structure <code class="mw-highlight" dir="ltr"><span class="n">IList</span></code>, covariant parameters are used for methods getting data out of the structure, and contravariant parameters for methods putting data into the structure. The mnemonic for Producer Extends, Consumer Super (PECS), from the book <i>Effective Java</i> by <a href="https://en.wikipedia.org/wiki/Joshua_Bloch" title="Joshua Bloch">Joshua Bloch</a> gives an easy way to remember when to use covariance and contravariance.</p>
<p>Wildcards are flexible, but there is a drawback. While use-site variance means that API designers need not consider variance of type parameters to interfaces, they must often instead use more complicated method signatures. A common example involves the <code><a rel="nofollow" class="external text" href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html">Comparable</a></code> interface. Suppose we want to write a function that finds the biggest element in a collection. The elements need to implement the <code class="mw-highlight" dir="ltr"><span class="n">compareTo</span></code> method, so a first try might be</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>  <span class="n">T</span> <span class="nf">max</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">coll</span><span class="o">);</span>
</pre></div>
<p>However, this type is not general enough—one can find the max of a <code class="mw-highlight" dir="ltr"><span class="n">Collection</span><span class="o">&lt;</span><span class="n">Calendar</span><span class="o">&gt;</span></code>, but not a <code class="mw-highlight" dir="ltr"><span class="n">Collection</span><span class="o">&lt;</span><span class="n">GregorianCalendar</span><span class="o">&gt;</span></code>. The problem is that <code><a rel="nofollow" class="external text" href="http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html">GregorianCalendar</a></code> does not implement <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">GregorianCalendar</span><span class="o">&gt;</span></code>, but instead the (better) interface <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Calendar</span><span class="o">&gt;</span></code>. In Java, unlike in C#, <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Calendar</span><span class="o">&gt;</span></code> is not considered a subtype of <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">GregorianCalendar</span><span class="o">&gt;</span></code>. Instead the type of <code class="mw-highlight" dir="ltr"><span class="n">max</span></code> has to be modified:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
    <span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Comparable</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">T</span><span class="o">&gt;&gt;</span> <span class="n">T</span> <span class="nf">max</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">coll</span><span class="o">);</span>
</pre></div>
<p>The bounded wildcard <code class="mw-highlight" dir="ltr"><span class="o">?</span> <span class="kd">super</span> <span class="n">T</span></code> conveys the information that <code class="mw-highlight" dir="ltr"><span class="n">max</span></code> calls only contravariant methods from the <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span></code> interface. This particular example is frustrating because <i>all</i> the methods in <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span></code> are contravariant, so that condition is trivially true. A declaration-site system could handle this example with less clutter by annotating only the definition of <code class="mw-highlight" dir="ltr"><span class="n">Comparable</span></code>.</p>
<h3><span class="mw-headline" id="Comparing_declaration-site_and_use-site_annotations">Comparing declaration-site and use-site annotations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=18" title="Edit section: Comparing declaration-site and use-site annotations">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Use-site variance annotations provide additional flexibility, allowing more programs to type-check. However, they have been criticized for the complexity they add to the language, leading to complicated type signatures and error messages.</p>
<p>One way to assess whether the extra flexibility is useful is to see if it is used in existing programs. A survey of a large set of Java libraries<sup id="cite_ref-tamingCombining_11-1" class="reference"><a href="#cite_note-tamingCombining-11">[11]</a></sup> found that 39% of wildcard annotations could have been directly replaced by a declaration-site annotations. Thus the remaining 61% is an indication on places where Java benefits from having the use-site system available.</p>
<p>In a declaration-site language, libraries must either expose less variance, or define more interfaces. For example, the Scala Collections library defines three separate interfaces for classes which employ covariance: a covariant base interface containing common methods, an invariant mutable version which adds side-effecting methods, and a covariant immutable version which may specialize the inherited implementations to exploit structural sharing.<sup id="cite_ref-13" class="reference"><a href="#cite_note-13">[13]</a></sup> This design works well with declaration-site annotations, but the large number of interfaces carry a complexity cost for clients of the library. And modifying the library interface may not be an option—in particular, one goal when adding generics to Java was to maintain binary backwards compatibility.</p>
<p>On the other hand, Java wildcards are themselves complex. In a conference presentation<sup id="cite_ref-14" class="reference"><a href="#cite_note-14">[14]</a></sup> <a href="https://en.wikipedia.org/wiki/Joshua_Bloch" title="Joshua Bloch">Joshua Bloch</a> criticized them as being too hard to understand and use, stating that when adding support for <a href="https://en.wikipedia.org/wiki/Closure_(computer_science)" class="mw-redirect" title="Closure (computer science)">closures</a> "we simply cannot afford another <i>wildcards</i>". Early versions of Scala used use-site variance annotations but programmers found them difficult to use in practice, while declaration-site annotations were found to be very helpful when designing classes.<sup id="cite_ref-15" class="reference"><a href="#cite_note-15">[15]</a></sup> Later versions of Scala added Java-style existential types and wildcards; however, according to <a href="https://en.wikipedia.org/wiki/Martin_Odersky" title="Martin Odersky">Martin Odersky</a>, if there were no need for interoperability with Java then these would probably not have been included.<sup id="cite_ref-16" class="reference"><a href="#cite_note-16">[16]</a></sup></p>
<p>Ross Tate argues<sup id="cite_ref-MixedSiteVariance_17-0" class="reference"><a href="#cite_note-MixedSiteVariance-17">[17]</a></sup> that part of the complexity of Java wildcards is due to the decision to encode use-site variance using a form of existential types. The original proposals<sup id="cite_ref-18" class="reference"><a href="#cite_note-18">[18]</a></sup><sup id="cite_ref-19" class="reference"><a href="#cite_note-19">[19]</a></sup> used special-purpose syntax for variance annotations, writing <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;+</span><span class="n">Animal</span><span class="o">&gt;</span></code> instead of Java's more verbose <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code>.</p>
<p>Since wildcards are a form of existential types they can be used for more things than just variance. A type like <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?&gt;</span></code> ("some type of list") lets objects be passed to methods or stored in fields without exactly specifying their type parameters. This is particularly valuable for classes such as <code><a rel="nofollow" class="external text" href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html">Class</a></code> where most of the methods do not mention the type parameter.</p>
<p>However, <a href="https://en.wikipedia.org/wiki/Type_inference" title="Type inference">type inference</a> for existential types is a difficult problem. For the compiler implementer, Java wildcards raise issues with type checker termination, type argument inference, and ambiguous programs.<sup id="cite_ref-20" class="reference"><a href="#cite_note-20">[20]</a></sup> For the programmer, it leads to complicated type error messages. Java typechecks wildcard types by replacing the wildcards with fresh type variables (so-called <i>capture conversion</i>). This can make error messages harder to read, because they refer to type variables that the programmer did not directly write. For example, trying to add a <code class="mw-highlight" dir="ltr"><span class="n">Cat</span></code> to a <code class="mw-highlight" dir="ltr"><span class="n">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Animal</span><span class="o">&gt;</span></code> will give an error like</p>
<pre>
method List.add(capture#1) is not applicable
  (actual argument Cat cannot be converted to capture#1 by method invocation conversion)
where capture#1 is a fresh type-variable:
  capture#1 extends Animal from capture of ? extends Animal
</pre>
<p>Since both declaration-site and use-site annotations can be useful, some type system provide both.<sup id="cite_ref-tamingCombining_11-2" class="reference"><a href="#cite_note-tamingCombining-11">[11]</a></sup><sup id="cite_ref-MixedSiteVariance_17-1" class="reference"><a href="#cite_note-MixedSiteVariance-17">[17]</a></sup></p>
<h2><span class="mw-headline" id="Origin_of_the_term_covariance">Origin of the term <i>covariance</i></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=19" title="Edit section: Origin of the term covariance">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>These terms come from the notion of <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_of_functors" class="mw-redirect" title="Covariance and contravariance of functors">covariant and contravariant functors</a> in <a href="https://en.wikipedia.org/wiki/Category_theory" title="Category theory">category theory</a>. Consider the category <span><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" >
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.777ex; height:2.176ex;" alt="C" /></span> whose objects are types and whose morphisms represent the subtype relationship ≤. (This is an example of how any partially ordered set can be considered as a category). Then for example the function type constructor takes two types <i>p</i> and <i>r</i> and creates a new type <i>p</i> → <i>r</i>; so it takes objects in <span><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" >
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C^{2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fd6a5946b7e916352b0afc557f992328bac85e8" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.87ex; height:2.676ex;" alt="C^{2}" /></span> to objects in <span><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" >
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.777ex; height:2.176ex;" alt="C" /></span>. By the subtyping rule for function types this operation reverses ≤ for the first argument and preserves it for the second, so it is a contravariant functor in the first argument and a covariant functor in the second.</p>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=20" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)" title="Polymorphism (computer science)">Polymorphism (computer science)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Inheritance_(computer_science)" class="mw-redirect" title="Inheritance (computer science)">Inheritance (computer science)</a></li>
</ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=21" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/bb549151.aspx">Func&lt;T, TResult&gt; Delegate</a> - MSDN Documentation</span></li>
<li id="cite_note-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-2">^</a></b></span> <span class="reference-text"><cite class="citation conference">John C. Reynolds (1981). <a rel="nofollow" class="external text" href="http://www.cs.cmu.edu/~crary/819-f09/Reynolds81.ps"><i>The Essence of Algol</i></a>. Symposium on Algorithmic Languages. North-Holland.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=John+C.+Reynolds&amp;rft.btitle=The+Essence+of+Algol&amp;rft.date=1981&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fwww.cs.cmu.edu%2F~crary%2F819-f09%2FReynolds81.ps&amp;rft.pub=North-Holland&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text"><cite class="citation conference">Luca Cardelli (1984). <a rel="nofollow" class="external text" href="http://lucacardelli.name/Papers/Inheritance (Semantics of Data Types).pdf"><i>A semantics of multiple inheritance</i></a> <span style="font-size:85%;">(PDF)</span>. Semantics of Data Types (International Symposium Sophia-Antipolis, France, June 27 – 29, 1984). Lecture Notes in Computer Science. <b>173</b>. Springer. <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1007%2F3-540-13346-1_2">10.1007/3-540-13346-1_2</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Luca+Cardelli&amp;rft.btitle=A+semantics+of+multiple+inheritance&amp;rft.date=1984&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Flucacardelli.name%2FPapers%2FInheritance%2520%28Semantics%2520of%2520Data%2520Types%29.pdf&amp;rft_id=info%3Adoi%2F10.1007%2F3-540-13346-1_2&amp;rft.pub=Springer&amp;rft.series=Lecture+Notes+in+Computer+Science&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span>(Longer version in Information and Computation, 76(2/3): 138-164, February 1988.)</span></li>
<li id="cite_note-4"><span class="mw-cite-backlink"><b><a href="#cite_ref-4">^</a></b></span> <span class="reference-text"><cite class="citation news">Allison, Chuck. <a rel="nofollow" class="external text" href="http://www.drdobbs.com/184403580">"What's New in Standard C++?"</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=What%27s+New+in+Standard+C%2B%2B%3F&amp;rft.aufirst=Chuck&amp;rft.aulast=Allison&amp;rft.genre=article&amp;rft_id=http%3A%2F%2Fwww.drdobbs.com%2F184403580&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-5"><span class="mw-cite-backlink"><b><a href="#cite_ref-5">^</a></b></span> <span class="reference-text"><cite class="citation conference">Bertrand Meyer (October 1995). <a rel="nofollow" class="external text" href="http://se.ethz.ch/~meyer/publications/acm/typing.pdf">"Static Typing"</a> <span style="font-size:85%;">(PDF)</span>. <i>OOPSLA 95 (Object-Oriented Programming, Systems, Languages and Applications), Atlanta, 1995</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Static+Typing&amp;rft.au=Bertrand+Meyer&amp;rft.btitle=OOPSLA+95+%28Object-Oriented+Programming%2C+Systems%2C+Languages+and+Applications%29%2C+Atlanta%2C+1995.&amp;rft.date=1995-10&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fse.ethz.ch%2F~meyer%2Fpublications%2Facm%2Ftyping.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-competentCompilers-6"><span class="mw-cite-backlink">^ <a href="#cite_ref-competentCompilers_6-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-competentCompilers_6-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><cite class="citation web">Howard, Mark; Bezault, Eric; Meyer, Bertrand; Colnet, Dominique; Stapf, Emmanuel; Arnout, Karine; Keller, Markus (April 2003). <a rel="nofollow" class="external text" href="http://se.ethz.ch/~meyer/ongoing/covariance/recast.pdf">"Type-safe covariance: Competent compilers can catch all catcalls"</a> <span style="font-size:85%;">(PDF)</span><span class="reference-accessdate">. Retrieved <span class="nowrap">23 May</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Arnout%2C+Karine&amp;rft.au=Bezault%2C+Eric&amp;rft.au=Colnet%2C+Dominique&amp;rft.aufirst=Mark&amp;rft.au=Keller%2C+Markus&amp;rft.aulast=Howard&amp;rft.au=Meyer%2C+Bertrand&amp;rft.au=Stapf%2C+Emmanuel&amp;rft.btitle=Type-safe+covariance%3A+Competent+compilers+can+catch+all+catcalls&amp;rft.date=2003-04&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fse.ethz.ch%2F~meyer%2Fongoing%2Fcovariance%2Frecast.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-7"><span class="mw-cite-backlink"><b><a href="#cite_ref-7">^</a></b></span> <span class="reference-text"><cite class="citation conference">Franz Weber (1992). <a rel="nofollow" class="external text" href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.52.7872">"Getting Class Correctness and System Correctness Equivalent - How to Get Covariance Right"</a>. <i>TOOLS 8 (8th conference on Technology of Object-Oriented Languages and Systems), Dortmund, 1992</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Getting+Class+Correctness+and+System+Correctness+Equivalent+-+How+to+Get+Covariance+Right&amp;rft.au=Franz+Weber&amp;rft.btitle=TOOLS+8+%288th+conference+on+Technology+of+Object-Oriented+Languages+and+Systems%29%2C+Dortmund%2C+1992&amp;rft.date=1992&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fciteseerx.ist.psu.edu%2Fviewdoc%2Fsummary%3Fdoi%3D10.1.1.52.7872&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-8"><span class="mw-cite-backlink"><b><a href="#cite_ref-8">^</a></b></span> <span class="reference-text">Giuseppe Castagna, <a rel="nofollow" class="external text" href="http://portal.acm.org/citation.cfm?id=203096&amp;dl=ACM&amp;coll=&amp;CFID=15151515&amp;CFTOKEN=6184618">Covariance and contravariance: conflict without a cause</a>, ACM Transactions on Programming Languages and Systems, Volume 17, Issue 3, May 1995, pages 431-447.</span></li>
<li id="cite_note-9"><span class="mw-cite-backlink"><b><a href="#cite_ref-9">^</a></b></span> <span class="reference-text"><cite class="citation web">Eric Lippert (3 December 2009). <a rel="nofollow" class="external text" href="http://blogs.msdn.com/b/ericlippert/archive/2009/12/03/exact-rules-for-variance-validity.aspx">"Exact rules for variance validity"</a><span class="reference-accessdate">. Retrieved <span class="nowrap">16 August</span> 2016</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Eric+Lippert&amp;rft.btitle=Exact+rules+for+variance+validity&amp;rft.date=2009-12-03&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fblogs.msdn.com%2Fb%2Fericlippert%2Farchive%2F2009%2F12%2F03%2Fexact-rules-for-variance-validity.aspx&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-10"><span class="mw-cite-backlink"><b><a href="#cite_ref-10">^</a></b></span> <span class="reference-text">Section II.9.7 in <cite>ECMA International Standard ECMA-335 Common Language Infrastructure (CLI) 6th edition (June 2012)</cite>; <a rel="nofollow" class="external text" href="http://www.ecma-international.org/publications/standards/Ecma-335.htm">available online</a></span></li>
<li id="cite_note-tamingCombining-11"><span class="mw-cite-backlink">^ <a href="#cite_ref-tamingCombining_11-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-tamingCombining_11-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-tamingCombining_11-2"><sup><i><b>c</b></i></sup></a></span> <span class="reference-text"><cite class="citation conference">John Altidor; Huang Shan Shan; Yannis Smaragdakis (2011). <a rel="nofollow" class="external text" href="http://www.cs.umass.edu/~jaltidor/variance_pldi11.pdf">"Taming the wildcards: combining definition- and use-site variance"</a> <span style="font-size:85%;">(PDF)</span>. <i>Proceedings of the 32nd ACM SIGPLAN conference on Programming language design and implementation (PLDI'11)</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Taming+the+wildcards%3A+combining+definition-+and+use-site+variance&amp;rft.au=Huang+Shan+Shan&amp;rft.au=John+Altidor&amp;rft.au=Yannis+Smaragdakis&amp;rft.btitle=Proceedings+of+the+32nd+ACM+SIGPLAN+conference+on+Programming+language+design+and+implementation+%28PLDI%2711%29&amp;rft.date=2011&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fwww.cs.umass.edu%2F~jaltidor%2Fvariance_pldi11.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-12"><span class="mw-cite-backlink"><b><a href="#cite_ref-12">^</a></b></span> <span class="reference-text"><cite class="citation web">Eric Lippert (October 29, 2007). <a rel="nofollow" class="external text" href="http://blogs.msdn.com/ericlippert/archive/2007/10/29/covariance-and-contravariance-in-c-part-seven-why-do-we-need-a-syntax-at-all.aspx">"Covariance and Contravariance in C# Part Seven: Why Do We Need A Syntax At All?"</a><span class="reference-accessdate">. Retrieved <span class="nowrap">16 August</span> 2016</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Eric+Lippert&amp;rft.btitle=Covariance+and+Contravariance+in+C%23+Part+Seven%3A+Why+Do+We+Need+A+Syntax+At+All%3F&amp;rft.date=2007-10-29&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fblogs.msdn.com%2Fericlippert%2Farchive%2F2007%2F10%2F29%2Fcovariance-and-contravariance-in-c-part-seven-why-do-we-need-a-syntax-at-all.aspx&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-13"><span class="mw-cite-backlink"><b><a href="#cite_ref-13">^</a></b></span> <span class="reference-text"><cite class="citation web">Marin Odersky; Lex Spoon (September 7, 2010). <a rel="nofollow" class="external text" href="http://www.scala-lang.org/docu/files/collections-api/collections.html">"The Scala 2.8 Collections API"</a><span class="reference-accessdate">. Retrieved <span class="nowrap">16 August</span> 2016</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Lex+Spoon&amp;rft.au=Marin+Odersky&amp;rft.btitle=The+Scala+2.8+Collections+API&amp;rft.date=2010-09-07&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fwww.scala-lang.org%2Fdocu%2Ffiles%2Fcollections-api%2Fcollections.html&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-14"><span class="mw-cite-backlink"><b><a href="#cite_ref-14">^</a></b></span> <span class="reference-text"><cite class="citation web">Joshua Bloch (November 2007). <a rel="nofollow" class="external text" href="http://parleys.com/play/514892250364bc17fc56bb15/chapter0/about">"The Closures Controversy [video]"</a>. Presentation at Javapolis'07<span class="reference-accessdate">. Retrieved May 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Joshua+Bloch&amp;rft.btitle=The+Closures+Controversy+%5Bvideo%5D&amp;rft.date=2007-11&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fparleys.com%2Fplay%2F514892250364bc17fc56bb15%2Fchapter0%2Fabout&amp;rft.place=Presentation+at+Javapolis%2707&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span> <span style="font-size:100%" class="error citation-comment">Check date values in: <code style="color:inherit; border:inherit; padding:inherit;">|access-date=</code> (<a href="https://en.wikipedia.org/wiki/Help:CS1_errors#bad_date" title="Help:CS1 errors">help</a>)</span></span></li>
<li id="cite_note-15"><span class="mw-cite-backlink"><b><a href="#cite_ref-15">^</a></b></span> <span class="reference-text"><cite class="citation conference">Martin Odersky; Matthias Zenger (2005). <a rel="nofollow" class="external text" href="http://lampwww.epfl.ch/~odersky/papers/ScalableComponent.pdf">"Scalable component abstractions"</a> <span style="font-size:85%;">(PDF)</span>. <i>Proceedings of the 20th annual ACM SIGPLAN conference on Object-oriented programming, systems, languages, and applications (OOPSLA '05)</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Scalable+component+abstractions&amp;rft.au=Martin+Odersky&amp;rft.au=Matthias+Zenger&amp;rft.btitle=Proceedings+of+the+20th+annual+ACM+SIGPLAN+conference+on+Object-oriented+programming%2C+systems%2C+languages%2C+and+applications+%28OOPSLA+%2705%29&amp;rft.date=2005&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Flampwww.epfl.ch%2F~odersky%2Fpapers%2FScalableComponent.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-16"><span class="mw-cite-backlink"><b><a href="#cite_ref-16">^</a></b></span> <span class="reference-text"><cite class="citation web">Bill Venners and Frank Sommers (May 18, 2009). <a rel="nofollow" class="external text" href="http://www.artima.com/scalazine/articles/scalas_type_system.html">"The Purpose of Scala's Type System: A Conversation with Martin Odersky, Part III"</a><span class="reference-accessdate">. Retrieved <span class="nowrap">16 August</span> 2016</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.au=Bill+Venners+and+Frank+Sommers&amp;rft.btitle=The+Purpose+of+Scala%27s+Type+System%3A+A+Conversation+with+Martin+Odersky%2C+Part+III&amp;rft.date=2009-05-18&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fwww.artima.com%2Fscalazine%2Farticles%2Fscalas_type_system.html&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-MixedSiteVariance-17"><span class="mw-cite-backlink">^ <a href="#cite_ref-MixedSiteVariance_17-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-MixedSiteVariance_17-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><cite class="citation conference">Ross Tate (2013). <a rel="nofollow" class="external text" href="http://www.cs.cornell.edu/~ross/publications/mixedsite/index.html">"Mixed-Site Variance"</a>. <i>FOOL '13: Informal Proceedings of the 20th International Workshop on Foundations of Object-Oriented Languages</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Mixed-Site+Variance&amp;rft.au=Ross+Tate&amp;rft.btitle=FOOL+%2713%3A+Informal+Proceedings+of+the+20th+International+Workshop+on+Foundations+of+Object-Oriented+Languages&amp;rft.date=2013&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fwww.cs.cornell.edu%2F~ross%2Fpublications%2Fmixedsite%2Findex.html&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-18"><span class="mw-cite-backlink"><b><a href="#cite_ref-18">^</a></b></span> <span class="reference-text"><cite class="citation conference">Atsushi Igarashi; Mirko Viroli (2002). <a rel="nofollow" class="external text" href="http://www.sato.kuis.kyoto-u.ac.jp/~igarashi/papers/pdf/variance.ecoop02.pdf">"On Variance-Based Subtyping for Parametric Types"</a> <span style="font-size:85%;">(PDF)</span>. <i>Proceedings of the 16th European Conference on Object-Oriented Programming (ECOOP '02)</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=On+Variance-Based+Subtyping+for+Parametric+Types&amp;rft.au=Atsushi+Igarashi&amp;rft.au=Mirko+Viroli&amp;rft.btitle=Proceedings+of+the+16th+European+Conference+on+Object-Oriented+Programming+%28ECOOP+%2702%29&amp;rft.date=2002&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fwww.sato.kuis.kyoto-u.ac.jp%2F~igarashi%2Fpapers%2Fpdf%2Fvariance.ecoop02.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-19"><span class="mw-cite-backlink"><b><a href="#cite_ref-19">^</a></b></span> <span class="reference-text"><cite class="citation conference">Kresten Krab Thorup; Mads Torgersen (1999). <a rel="nofollow" class="external text" href="http://www.daimi.au.dk/~madst/tool/papers/unifying.pdf">"Unifying Genericity: Combining the Benefits of Virtual Types and Parameterized Classes"</a> <span style="font-size:85%;">(PDF)</span>. <i>Object-Oriented Programming (ECOOP '99)</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Unifying+Genericity%3A+Combining+the+Benefits+of+Virtual+Types+and+Parameterized+Classes&amp;rft.au=Kresten+Krab+Thorup&amp;rft.au=Mads+Torgersen&amp;rft.btitle=Object-Oriented+Programming+%28ECOOP+%2799%29&amp;rft.date=1999&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fwww.daimi.au.dk%2F~madst%2Ftool%2Fpapers%2Funifying.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-20"><span class="mw-cite-backlink"><b><a href="#cite_ref-20">^</a></b></span> <span class="reference-text"><cite class="citation conference">Tate, Ross; Leung, Alan; Lerner, Sorin (2011). <a rel="nofollow" class="external text" href="http://www.cs.cornell.edu/~ross/publications/tamewild/">"Taming wildcards in Java's type system"</a>. <i>Proceedings of the 32nd ACM SIGPLAN conference on Programming language design and implementation (PLDI '11)</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACovariance+and+contravariance+%28computer+science%29&amp;rft.atitle=Taming+wildcards+in+Java%27s+type+system&amp;rft.aufirst=Ross&amp;rft.aulast=Tate&amp;rft.au=Lerner%2C+Sorin&amp;rft.au=Leung%2C+Alan&amp;rft.btitle=Proceedings+of+the+32nd+ACM+SIGPLAN+conference+on+Programming+language+design+and+implementation+%28PLDI+%2711%29&amp;rft.date=2011&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fwww.cs.cornell.edu%2F~ross%2Fpublications%2Ftamewild%2F&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
</ol>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit&amp;section=22" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://blogs.msdn.com/ericlippert/archive/tags/Covariance+and+Contravariance/default.aspx">Fabulous Adventures in Coding</a>: An article series about implementation concerns surrounding co/contravariance in C#</li>
<li><a rel="nofollow" class="external text" href="http://c2.com/cgi/wiki?ContraVsCoVariance">Contra Vs Co Variance</a> (note this article is not updated about C++)</li>
<li><a rel="nofollow" class="external text" href="http://www.javac.info/closures-v05.html">Closures for the Java 7 Programming Language (v0.5)</a></li>
</ul>


<!-- 
NewPP limit report
Parsed by mw1301
Cached time: 20170104063804
Cache expiry: 2592000
Dynamic content: false
CPU time usage: 0.252 seconds
Real time usage: 2.783 seconds
Preprocessor visited node count: 3571/1000000
Preprocessor generated node count: 0/1500000
Post‐expand include size: 48687/2097152 bytes
Template argument size: 1880/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/500
Lua time usage: 0.068/10.000 seconds
Lua memory usage: 2.86 MB/50 MB
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00% 2565.030      1 - -total
 64.66% 1658.623     85 - Template:C_sharp
 17.10%  438.656    106 - Template:Java
  7.61%  195.227     12 - Template:OCaml
  2.75%   70.561     10 - Template:Cite_conference
  0.81%   20.859      6 - Template:Cite_web
  0.18%    4.665      1 - Template:Cite_news
  0.13%    3.362      4 - Template:Javadoc:SE
  0.04%    0.970      3 - Template:Clear
  0.03%    0.851      4 - Template:Javadoc:SE/Home_URL
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:1104704-0!*!0!!en!4!*!math=5 and timestamp 20170104063801 and revision id 753607991
 -->
<noscript><img src="http://en.wikipedia.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;oldid=753607991">https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;oldid=753607991</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://en.wikipedia.org/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="https://en.wikipedia.org/wiki/Category:Object-oriented_programming" title="Category:Object-oriented programming">Object-oriented programming</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Type_theory" title="Category:Type theory">Type theory</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Polymorphism_(computer_science)" title="Category:Polymorphism (computer science)">Polymorphism (computer science)</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="https://en.wikipedia.org/wiki/Category:CS1_errors:_dates" title="Category:CS1 errors: dates">CS1 errors: dates</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Articles_with_example_Java_code" title="Category:Articles with example Java code">Articles with example Java code</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-anonuserpage">Not logged in</li><li id="pt-anontalk"><a href="https://en.wikipedia.org/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="https://en.wikipedia.org/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="https://en.wikipedia.org/w/index.php?title=Special:CreateAccount&amp;returnto=Covariance+and+contravariance+%28computer+science%29" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://en.wikipedia.org/w/index.php?title=Special:UserLogin&amp;returnto=Covariance+and+contravariance+%28computer+science%29" title="You're encouraged to log in; however, it's not mandatory. [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Covariance_and_contravariance_(computer_science).html"  title="View the content page [c]" accesskey="c">Article</a></span></li>
															<li  id="ca-talk"><span><a href="https://en.wikipedia.org/wiki/Talk:Covariance_and_contravariance_(computer_science)"  title="Discussion about the content page [t]" accesskey="t" rel="discussion">Talk</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span><a href="#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Covariance_and_contravariance_(computer_science).html" >Read</a></span></li>
															<li id="ca-edit"><span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=edit"  title="Edit this page [e]" accesskey="e">Edit</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://en.wikipedia.org/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search Wikipedia" title="Search Wikipedia [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search Wikipedia for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="https://en.wikipedia.org/wiki/Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-mainpage-description"><a href="https://en.wikipedia.org/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-contents"><a href="https://en.wikipedia.org/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li><li id="n-featuredcontent"><a href="https://en.wikipedia.org/wiki/Portal:Featured_content" title="Featured content – the best of Wikipedia">Featured content</a></li><li id="n-currentevents"><a href="https://en.wikipedia.org/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li><li id="n-randompage"><a href="https://en.wikipedia.org/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li><li id="n-sitesupport"><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_en.wikipedia.org&amp;uselang=en" title="Support us">Donate to Wikipedia</a></li><li id="n-shoplink"><a href="http://shop.wikimedia.org/" title="Visit the Wikipedia store">Wikipedia store</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-interaction' aria-labelledby='p-interaction-label'>
			<h3 id='p-interaction-label'>Interaction</h3>

			<div class="body">
									<ul>
						<li id="n-help"><a href="https://en.wikipedia.org/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li><li id="n-aboutsite"><a href="https://en.wikipedia.org/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li><li id="n-portal"><a href="https://en.wikipedia.org/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="https://en.wikipedia.org/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-contactpage"><a href="http://en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact page</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="https://en.wikipedia.org/wiki/Special:WhatLinksHere/Covariance_and_contravariance_(computer_science)" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://en.wikipedia.org/wiki/Special:RecentChangesLinked/Covariance_and_contravariance_(computer_science)" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="https://en.wikipedia.org/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="https://en.wikipedia.org/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-permalink"><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;oldid=753607991" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;action=info" title="More information about this page">Page information</a></li><li id="t-wikibase"><a href="https://www.wikidata.org/wiki/Q362031" title="Link to connected data repository item [g]" accesskey="g">Wikidata item</a></li><li id="t-cite"><a href="https://en.wikipedia.org/w/index.php?title=Special:CiteThisPage&amp;page=Covariance_and_contravariance_%28computer_science%29&amp;id=753607991" title="Information on how to cite this page">Cite this page</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-coll-print_export' aria-labelledby='p-coll-print_export-label'>
			<h3 id='p-coll-print_export-label'>Print/export</h3>

			<div class="body">
									<ul>
						<li id="coll-create_a_book"><a href="https://en.wikipedia.org/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Covariance+and+contravariance+%28computer+science%29">Create a book</a></li><li id="coll-download-as-rdf2latex"><a href="https://en.wikipedia.org/w/index.php?title=Special:Book&amp;bookcmd=render_article&amp;arttitle=Covariance+and+contravariance+%28computer+science%29&amp;returnto=Covariance+and+contravariance+%28computer+science%29&amp;oldid=753607991&amp;writer=rdf2latex">Download as PDF</a></li><li id="t-print"><a href="https://en.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-lang' aria-labelledby='p-lang-label'>
			<h3 id='p-lang-label'>Languages</h3>

			<div class="body">
									<ul>
						<li class="interlanguage-link interwiki-ar"><a href="https://ar.wikipedia.org/wiki/لاتباين_وتباين_مرافق_وتباين_معاكس" title="لاتباين وتباين مرافق وتباين معاكس – Arabic" lang="ar" hreflang="ar" class="interlanguage-link-target">العربية</a></li><li class="interlanguage-link interwiki-de"><a href="https://de.wikipedia.org/wiki/Kovarianz_und_Kontravarianz" title="Kovarianz und Kontravarianz – German" lang="de" hreflang="de" class="interlanguage-link-target">Deutsch</a></li><li class="interlanguage-link interwiki-fa"><a href="https://fa.wikipedia.org/wiki/هم‌وردایی_و_پادوردایی_(علوم_رایانه)" title="هم‌وردایی و پادوردایی (علوم رایانه) – Persian" lang="fa" hreflang="fa" class="interlanguage-link-target">فارسی</a></li><li class="interlanguage-link interwiki-ja"><a href="https://ja.wikipedia.org/wiki/共変性と反変性_(計算機科学)" title="共変性と反変性 (計算機科学) – Japanese" lang="ja" hreflang="ja" class="interlanguage-link-target">日本語</a></li><li class="interlanguage-link interwiki-ru"><a href="https://ru.wikipedia.org/wiki/Ковариантность_и_контравариантность_(программирование)" title="Ковариантность и контравариантность (программирование) – Russian" lang="ru" hreflang="ru" class="interlanguage-link-target">Русский</a></li><li class="interlanguage-link interwiki-uk"><a href="https://uk.wikipedia.org/wiki/Коваріантність_і_контраваріантність" title="Коваріантність і контраваріантність – Ukrainian" lang="uk" hreflang="uk" class="interlanguage-link-target">Українська</a></li><li class="interlanguage-link interwiki-zh"><a href="https://zh.wikipedia.org/wiki/协变与逆变" title="协变与逆变 – Chinese" lang="zh" hreflang="zh" class="interlanguage-link-target">中文</a></li><li class="uls-p-lang-dummy"><a href="#"></a></li>					</ul>
				<div class='after-portlet after-portlet-lang'><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Q362031#sitelinks-wikipedia" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>			</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 8 December 2016, at 04:50.</li>
											<li id="footer-info-copyright">Text is available under the <a rel="license" href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License">Creative Commons Attribution-ShareAlike License</a><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/" style="display:none;"></a>;
additional terms may apply.  By using this site, you agree to the <a href="http://wikimediafoundation.org/wiki/Terms_of_Use">Terms of Use</a> and <a href="http://wikimediafoundation.org/wiki/Privacy_policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a href="http://www.wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wikimediafoundation.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://en.wikipedia.org/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
											<li id="footer-places-disclaimer"><a href="https://en.wikipedia.org/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
											<li id="footer-places-contact"><a href="http://en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
											<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
											<li id="footer-places-cookiestatement"><a href="https://wikimediafoundation.org/wiki/Cookie_statement">Cookie statement</a></li>
											<li id="footer-places-mobileview"><a href="http://en.m.wikipedia.org/w/index.php?title=Covariance_and_contravariance_(computer_science)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
							<a href="https://wikimediafoundation.org/"><img src="https://en.wikipedia.org/static/images/wikimedia-button.png" srcset="/static/images/wikimedia-button-1.5x.png 1.5x, /static/images/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation"/></a>						</li>
											<li id="footer-poweredbyico">
							<a href="http://www.mediawiki.org/"><img src="https://en.wikipedia.org/static/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/poweredby_mediawiki_132x47.png 1.5x, /static/images/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":55,"wgHostname":"mw1245"});});</script>
	</body>

Providence Salumu
</html>
