<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from en.wikipedia.org/wiki/Compare-and-swap by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 31 Dec 2016 04:57:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Compare-and-swap - Wikipedia</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Compare-and-swap","wgTitle":"Compare-and-swap","wgCurRevisionId":753300704,"wgRevisionId":753300704,"wgArticleId":632224,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using web citations with no URL","Pages using citations with accessdate and no URL","Wikipedia articles needing clarification from April 2009","Wikipedia external links cleanup from February 2015","Wikipedia spam cleanup from February 2015","Computer arithmetic","Concurrency control"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Compare-and-swap","wgRelevantArticleId":632224,"wgRequestId":"WGajygpAIDUAAHsg1mEAAABF","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgFlaggedRevsParams":{"tags":{}},"wgStableRevisionId":null,"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"preview":false,"publish":false},"wgBetaFeaturesFeatures":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","usePageImages":true,"usePageDescriptions":true},"wgPreferredVariant":"en","wgMFDisplayWikibaseDescriptions":{"search":true,"nearby":true,"watchlist":true,"tagline":false},"wgRelatedArticles":null,"wgRelatedArticlesUseCirrusSearch":true,"wgRelatedArticlesOnlyUseCirrusSearch":false,"wgULSCurrentAutonym":"English","wgNoticeProject":"wikipedia","wgCentralNoticeCookiesToDelete":[],"wgCentralNoticeCategoriesUsingLegacy":["Fundraising","fundraising"],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgWikibaseItemId":"Q128562","wgCentralAuthMobileDomain":false,"wgVisualEditorToolbarScrollOffset":0,"wgEditSubmitButtonLabelPublish":false});mw.loader.state({"ext.globalCssJs.user.styles":"ready","ext.globalCssJs.site.styles":"ready","site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.cite.styles":"ready","ext.pygments":"ready","wikibase.client.init":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.wikimediaBadges":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready","ext.globalCssJs.user":"ready","ext.globalCssJs.site":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1dqfd7l",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["ext.cite.a11y","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.legacy.wikibits","mediawiki.searchSuggest","ext.gadget.teahouse","ext.gadget.ReferenceTooltips","ext.gadget.watchlist-notice","ext.gadget.DRN-wizard","ext.gadget.charinsert","ext.gadget.refToolbar","ext.gadget.extra-toolbar-buttons","ext.gadget.switcher","ext.gadget.featured-articles-links","ext.centralauth.centralautologin","mmv.head","mmv.bootstrap.autostart","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging.subscriber","ext.wikimediaEvents","ext.navigationTiming","ext.uls.eventlogger","ext.uls.init","ext.uls.interface","ext.quicksurveys.init","ext.centralNotice.geoIP","ext.centralNotice.startUp","skins.vector.js"]);});</script>
<link rel="stylesheet" href="https://en.wikipedia.org/w/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector"/>
<script async="" src="https://en.wikipedia.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="https://en.wikipedia.org/w/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.29.0-wmf.6"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<link rel="alternate" href="https://en.wikipedia.org/wiki/android-app://org.wikipedia/http/en.m.wikipedia.org/wiki/Compare-and-swap"/>
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit"/>
<link rel="edit" title="Edit this page" href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit"/>
<link rel="apple-touch-icon" href="https://en.wikipedia.org/static/apple-touch/wikipedia.png"/>
<link rel="shortcut icon" href="https://en.wikipedia.org/static/favicon/wikipedia.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://en.wikipedia.org/w/opensearch_desc.php" title="Wikipedia (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://en.wikipedia.org/w/api.php?action=rsd"/>
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="Compare-and-swap.html"/>
<link rel="dns-prefetch" href="http://login.wikimedia.org/"/>
<link rel="dns-prefetch" href="http://meta.wikimedia.org/" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Compare-and-swap rootpage-Compare-and-swap skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

							<div id="siteNotice"><!-- CentralNotice --></div>
						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Compare-and-swap</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Wikipedia, the free encyclopedia</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>In <a href="https://en.wikipedia.org/wiki/Computer_science" title="Computer science">computer science</a>, <b>compare-and-swap</b> (<b>CAS</b>) is an <a href="https://en.wikipedia.org/wiki/Atomic_(computer_science)" class="mw-redirect" title="Atomic (computer science)">atomic</a> <a href="https://en.wikipedia.org/wiki/Instruction_(computer_science)" class="mw-redirect" title="Instruction (computer science)">instruction</a> used in <a href="https://en.wikipedia.org/wiki/Thread_(computer_science)#Multithreading" class="mw-redirect" title="Thread (computer science)">multithreading</a> to achieve <a href="https://en.wikipedia.org/wiki/Synchronization_(computer_science)" title="Synchronization (computer science)">synchronization</a>. It compares the contents of a memory location to a given value and, only if they are the same, modifies the contents of that memory location to a given new value. This is done as a single atomic operation. The atomicity guarantees that the new value is calculated based on up-to-date information; if the value had been updated by another thread in the meantime, the write would fail. The result of the operation must indicate whether it performed the substitution; this can be done either with a simple <a href="https://en.wikipedia.org/wiki/Boolean_logic" class="mw-redirect" title="Boolean logic">boolean</a> response (this variant is often called <b>compare-and-set</b>), or by returning the value read from the memory location (<i>not</i> the value written to it).</p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Example_application:_atomic_counter"><span class="tocnumber">1.1</span> <span class="toctext">Example application: atomic counter</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#ABA_problem"><span class="tocnumber">1.2</span> <span class="toctext">ABA problem</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Costs_and_benefits"><span class="tocnumber">1.3</span> <span class="toctext">Costs and benefits</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Implementations"><span class="tocnumber">2</span> <span class="toctext">Implementations</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Implementation_in_C"><span class="tocnumber">2.1</span> <span class="toctext">Implementation in C</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Extensions"><span class="tocnumber">3</span> <span class="toctext">Extensions</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#References"><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#External_links"><span class="tocnumber">6</span> <span class="toctext">External links</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Basic_algorithms_implemented_using_CAS"><span class="tocnumber">6.1</span> <span class="toctext">Basic algorithms implemented using CAS</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Implementations_of_CAS"><span class="tocnumber">6.2</span> <span class="toctext">Implementations of CAS</span></a></li>
</ul>
</li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A compare-and-swap operation is an atomic version of the following <a href="https://en.wikipedia.org/wiki/Pseudocode" title="Pseudocode">pseudocode</a>, where <span style="font-family: monospace, monospace;">*</span> denotes <a href="https://en.wikipedia.org/wiki/Indirection" title="Indirection">access through a pointer</a>:<sup id="cite_ref-plan9_1-0" class="reference"><a href="#cite_note-plan9-1">[1]</a></sup></p>
<pre>
function cas(p : pointer to int, old : int, new : int) returns bool {
    if *p ≠ old {
        return false
    }
    *p ← new
    return true
}
</pre>
<p>This operation is used to implement <a href="https://en.wikipedia.org/wiki/Synchronization_(computer_science)#Thread_or_process_synchronization" title="Synchronization (computer science)">synchronization primitives</a> like <a href="https://en.wikipedia.org/wiki/Semaphore_(programming)" title="Semaphore (programming)">semaphores</a> and <a href="https://en.wikipedia.org/wiki/Mutex" class="mw-redirect" title="Mutex">mutexes</a>,<sup id="cite_ref-plan9_1-1" class="reference"><a href="#cite_note-plan9-1">[1]</a></sup> as well as more sophisticated <a href="https://en.wikipedia.org/wiki/Lock-free_and_wait-free_algorithms" class="mw-redirect" title="Lock-free and wait-free algorithms">lock-free and wait-free algorithms</a>. <a href="https://en.wikipedia.org/wiki/Maurice_Herlihy" title="Maurice Herlihy">Maurice Herlihy</a> (1991) proved that CAS can implement more of these algorithms than <a href="https://en.wikipedia.org/wiki/Atomic_operation" class="mw-redirect" title="Atomic operation">atomic</a> read, write, or <a href="https://en.wikipedia.org/wiki/Fetch-and-add" title="Fetch-and-add">fetch-and-add</a>, and assuming a fairly large <sup class="noprint Inline-Template" style="margin-left:0.1em; white-space:nowrap;">[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Please_clarify" title="Wikipedia:Please clarify"><span title="how large is large? (April 2009)">clarification needed</span></a></i>]</sup> amount of memory, that it can implement all of them.<sup id="cite_ref-herlihy91_2-0" class="reference"><a href="#cite_note-herlihy91-2">[2]</a></sup> CAS is equivalent to <a href="https://en.wikipedia.org/wiki/Load-link/store-conditional" title="Load-link/store-conditional">load-link/store-conditional</a>, in the sense that a constant number of invocations of either primitive can be used to implement the other one in a <a href="https://en.wikipedia.org/wiki/Wait-free" class="mw-redirect" title="Wait-free">wait-free</a> manner.<sup id="cite_ref-3" class="reference"><a href="#cite_note-3">[3]</a></sup></p>
<p>Algorithms built around CAS typically read some key memory location and remember the old value. Based on that old value, they compute some new value. Then they try to swap in the new value using CAS, where the comparison checks for the location still being equal to the old value. If CAS indicates that the attempt has failed, it has to be repeated from the beginning: the location is re-read, a new value is re-computed and the CAS is tried again.</p>
<p>Instead of immediately retrying after a CAS fails, researchers have found that total system performance can be improved—in multiprocessor systems where many threads constantly update some particular shared variable—if threads that see their CAS fail use <a href="https://en.wikipedia.org/wiki/Exponential_backoff" title="Exponential backoff">exponential backoff</a>—in other words, wait a little before retrying the CAS.<sup id="cite_ref-dice_4-0" class="reference"><a href="#cite_note-dice-4">[4]</a></sup></p>
<h3><span class="mw-headline" id="Example_application:_atomic_counter">Example application: atomic counter</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=2" title="Edit section: Example application: atomic counter">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>As an example use case of compare-and-swap, here is an algorithm for <a href="https://en.wikipedia.org/wiki/Fetch-and-add" title="Fetch-and-add">atomically incrementing or decrementing an integer</a>. This is useful in a variety of applications that use counters. The function <span style="font-family: monospace, monospace;">add</span> performs the action <span style="font-family: monospace, monospace;">*p ← *p + a</span>, atomically (again denoting pointer indirection by <span style="font-family: monospace, monospace;">*</span>, as in C) and returns the final value stored in the counter. Unlike in the <span style="font-family: monospace, monospace;">cas</span> pseudocode above, there is no requirement that any sequence of operations is atomic except for <span style="font-family: monospace, monospace;">cas</span>.</p>
<pre>
function add(p : pointer to int, a : int) returns int {
    done ← false
    while not done {
        value ← *p  // Even this operation doesn't need to be atomic.
        done ← cas(p, value, value + a)
    }
    return value + a
}
</pre>
<p>In this algorithm, if the value of <span style="font-family: monospace, monospace;">*p</span> changes after (or while!) it is fetched and before the CAS does the store, CAS will notice and report this fact, causing the algorithm to retry.<sup id="cite_ref-5" class="reference"><a href="#cite_note-5">[5]</a></sup></p>
<h3><span class="mw-headline" id="ABA_problem">ABA problem</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=3" title="Edit section: ABA problem">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div role="note" class="hatnote">Main article: <a href="https://en.wikipedia.org/wiki/ABA_problem" title="ABA problem">ABA problem</a></div>
<p>Some CAS-based algorithms are affected by and must handle the problem of a <a href="https://en.wikipedia.org/wiki/Type_I_error#False_negative_vs._false_positive" class="mw-redirect" title="Type I error">false positive</a> match, or the <a href="https://en.wikipedia.org/wiki/ABA_problem" title="ABA problem">ABA problem</a>. It's possible that between the time the old value is read and the time CAS is attempted, some other processors or threads change the memory location two or more times such that it acquires a bit pattern which matches the old value. The problem arises if this new bit pattern, which looks exactly like the old value, has a different meaning: for instance, it could be a recycled address, or a wrapped version counter.</p>
<p>A general solution to this is to use a double-length CAS (e.g. on a 32-bit system, a 64-bit CAS). The second half is used to hold a counter. The compare part of the operation compares the previously read value of the pointer *and* the counter, to the current pointer and counter. If they match, the swap occurs - the new value is written - but the new value has an incremented counter. This means that if ABA has occurred, although the pointer value will be the same, the counter is exceedingly unlikely to be the same (for a 32-bit value, a multiple of 2^32 operations would have to have occurred, causing the counter to wrap and at that moment, the pointer value would have to also by chance be the same).</p>
<p>An alternative form of this (useful on CPUs which lack DCAS) is to use an index into a freelist, rather than a full pointer, e.g. with a 32-bit CAS, use a 16-bit index and a 16-bit counter. However, the reduced counter lengths begin to make ABA - especially at modern CPU speeds - likely.</p>
<p>One simple technique which helps alleviate this problem is to store an ABA counter in each data structure element, rather than using a single ABA counter for the whole data structure.</p>
<p>A more complicated but more effective solution is to implement safe memory reclamation (SMR). This is in effect lock-free garbage collection. The advantage of using SMR is the assurance a given pointer will exist only once at any one time in the data structure, thus the ABA problem is completely solved. (Without SMR, something like a freelist will be in use, to ensure that all data elements can be accessed safely (no memory access violations) even when they are no longer present in the data structure. With SMR, only elements actually currently in the data structure will be accessed).</p>
<h3><span class="mw-headline" id="Costs_and_benefits">Costs and benefits</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=4" title="Edit section: Costs and benefits">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>CAS, and other atomic instructions, are sometimes thought to be unnecessary in uniprocessor systems, because the atomicity of any sequence of instructions can be achieved by disabling interrupts while executing it. However, disabling interrupts has numerous downsides. For example, code that is allowed to do so must be trusted not to be malicious and monopolize the CPU, as well as to be correct and not accidentally hang the machine in an infinite loop or page fault. Further, disabling interrupts is often deemed too expensive to be practical. Thus, even programs only intended to run on uniprocessor machines will benefit from atomic instructions, as in the case of Linux's <a href="https://en.wikipedia.org/wiki/Futex" title="Futex">futexes</a>.</p>
<p>In multiprocessor systems, it is usually impossible to disable interrupts on all processors at the same time. Even if it were possible, two or more processors could be attempting to access the same semaphore's memory at the same time, and thus atomicity would not be achieved. The compare-and-swap instruction allows any processor to atomically test and modify a memory location, preventing such multiple-processor collisions.</p>
<p>On server-grade multi-processor architectures of the 2010s, compare-and-swap is relatively cheap relative to a simple load that is not served from cache. A 2013 paper points out that a CAS is only 1.15 times more expensive that a non-cached load on Intel Xeon (<a href="https://en.wikipedia.org/wiki/Westmere-EX" class="mw-redirect" title="Westmere-EX">Westmere-EX</a>) and 1.35 times on AMD <a href="https://en.wikipedia.org/wiki/Opteron" title="Opteron">Opteron</a> (Magny-Cours).<sup id="cite_ref-6" class="reference"><a href="#cite_note-6">[6]</a></sup></p>
<h2><span class="mw-headline" id="Implementations">Implementations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=5" title="Edit section: Implementations">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Compare-and-swap (and compare-and-swap-double) has been an integral part of the <a href="https://en.wikipedia.org/wiki/System/370" class="mw-redirect" title="System/370">IBM 370</a> (and all successor) architectures since 1970. The operating systems that run on these architectures make extensive use of this instruction to facilitate process (i.e., system and user tasks) and processor (i.e., central processors) <a href="https://en.wikipedia.org/wiki/Parallel_computing" title="Parallel computing">parallelism</a> while eliminating, to the greatest degree possible, the "disabled <a href="https://en.wikipedia.org/wiki/Spinlock" title="Spinlock">spin locks</a>" which had been employed in earlier IBM operating systems. Similarly, the use of <a href="https://en.wikipedia.org/wiki/Test-and-set" title="Test-and-set">test-and-set</a> was also eliminated. In these operating systems, new units of work may be instantiated "globally", into the global service priority list, or "locally", into the local service priority list, by the execution of a single compare-and-swap instruction. This substantially improved the responsiveness of these operating systems.</p>
<p>In the <a href="https://en.wikipedia.org/wiki/X86" title="X86">x86</a> (since <a href="https://en.wikipedia.org/wiki/80486" class="mw-redirect" title="80486">80486</a>) and <a href="https://en.wikipedia.org/wiki/Itanium" title="Itanium">Itanium</a> architectures this is implemented as the <b>compare and exchange</b> (<b>CMPXCHG</b>) instruction (on a multiprocessor the <tt>LOCK</tt> prefix must be used).</p>
<p>As of 2013, most <a href="https://en.wikipedia.org/wiki/Multiprocessor" class="mw-redirect" title="Multiprocessor">multiprocessor</a> architectures support CAS in hardware, and the compare-and-swap operation is the most popular <a href="https://en.wikipedia.org/wiki/Synchronization_primitive" class="mw-redirect" title="Synchronization primitive">synchronization primitive</a> for implementing both lock-based and non-blocking <a href="https://en.wikipedia.org/wiki/Concurrent_data_structure" title="Concurrent data structure">concurrent data structures</a>.<sup id="cite_ref-dice_4-1" class="reference"><a href="#cite_note-dice-4">[4]</a></sup></p>
<p>The atomic counter and atomic bitmask operations in the Linux kernel typically use a compare-and-swap instruction in their implementation. The <a href="https://en.wikipedia.org/wiki/SPARC" title="SPARC">SPARC 32</a> and <a href="https://en.wikipedia.org/wiki/PA-RISC" title="PA-RISC">PA-RISC</a> architectures are two of the very few recent architectures that do not support CAS in hardware; the Linux port to these architectures uses a <a href="https://en.wikipedia.org/wiki/Spinlock" title="Spinlock">spinlock</a>.<sup id="cite_ref-7" class="reference"><a href="#cite_note-7">[7]</a></sup></p>
<h3><span class="mw-headline" id="Implementation_in_C">Implementation in C</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=6" title="Edit section: Implementation in C">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Many C compilers support using compare-and-swap either with the <a href="https://en.wikipedia.org/wiki/C11_(C_standard_revision)" title="C11 (C standard revision)">C11</a> <code>&lt;stdatomic.h&gt;</code> functions,<sup id="cite_ref-8" class="reference"><a href="#cite_note-8">[8]</a></sup> or some non-standard C extension of that particular C compiler,<sup id="cite_ref-9" class="reference"><a href="#cite_note-9">[9]</a></sup> or by calling a function written directly in assembly language using the compare-and-swap instruction.</p>
<p>The following C function shows the basic behavior of a compare-and-swap variant that returns the old value of the specified memory location; however, this version does not provide the crucial guarantees of atomicity that a real compare-and-swap operation would:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="kt">int</span> <span class="nf">compare_and_swap</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">reg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">oldval</span><span class="p">,</span> <span class="kt">int</span> <span class="n">newval</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ATOMIC</span><span class="p">();</span>
  <span class="kt">int</span> <span class="n">old_reg_val</span> <span class="o">=</span> <span class="o">*</span><span class="n">reg</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">old_reg_val</span> <span class="o">==</span> <span class="n">oldval</span><span class="p">)</span>
     <span class="o">*</span><span class="n">reg</span> <span class="o">=</span> <span class="n">newval</span><span class="p">;</span>
  <span class="n">END_ATOMIC</span><span class="p">();</span>
  <span class="k">return</span> <span class="n">old_reg_val</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p><code>old_reg_val</code> is always returned, but it can be tested following the <code>compare_and_swap</code> operation to see if it matches <code>oldval</code>, as it may be different, meaning that another process has managed to succeed in a competing <code>compare_and_swap</code> to change the reg value from <code>oldval</code>.</p>
<p>For example, an election protocol can be implemented such that every process checks the result of <code>compare_and_swap</code> against its own PID (= newval). The winning process finds the <code>compare_and_swap</code> returning the initial non-PID value (e.g., zero). For the losers it will return the winning PID.</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="kt">bool</span> <span class="nf">compare_and_swap</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">accum</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="kt">int</span> <span class="n">newval</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">accum</span> <span class="o">==</span> <span class="o">*</span><span class="n">dest</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">*</span><span class="n">dest</span> <span class="o">=</span> <span class="n">newval</span><span class="p">;</span>
      <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="o">*</span><span class="n">accum</span> <span class="o">=</span> <span class="o">*</span><span class="n">dest</span><span class="p">;</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>This is the logic in the Intel Software Manual Vol 2A.</p>
<h2><span class="mw-headline" id="Extensions">Extensions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=7" title="Edit section: Extensions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since CAS operates on a single <a href="https://en.wikipedia.org/wiki/Pointer_(computer_programming)" title="Pointer (computer programming)">pointer</a>-sized memory location, while most <a href="https://en.wikipedia.org/wiki/Lock-free_and_wait-free_algorithms" class="mw-redirect" title="Lock-free and wait-free algorithms">lock-free and wait-free algorithms</a> need to modify multiple locations, several extensions have been implemented.</p>
<dl>
<dt><a href="https://en.wikipedia.org/wiki/Double_compare-and-swap" title="Double compare-and-swap">Double compare-and-swap</a> (DCAS)&#160;</dt>
<dd>Compares two unrelated memory locations with two expected values, and if they're equal, sets both locations to new values. The generalization of DCAS to multiple (non-adjacent) words is called MCAS or CASN. DCAS and MCAS are of practical interest in the convenient (concurrent) implementation of some data structures like <a href="https://en.wikipedia.org/wiki/Double-ended_queue" title="Double-ended queue">dequeues</a> or <a href="https://en.wikipedia.org/wiki/Binary_search_tree" title="Binary search tree">binary search trees</a>.<sup id="cite_ref-10" class="reference"><a href="#cite_note-10">[10]</a></sup><sup id="cite_ref-Fraser2004_11-0" class="reference"><a href="#cite_note-Fraser2004-11">[11]</a></sup> DCAS and MCAS may be implemented however using the more expressive hardware <a href="https://en.wikipedia.org/wiki/Transactional_memory" title="Transactional memory">transactional memory</a><sup id="cite_ref-12" class="reference"><a href="#cite_note-12">[12]</a></sup> present in some recent processors such as IBM's <a href="https://en.wikipedia.org/wiki/POWER8" title="POWER8">POWER8</a> or (modulo some processor errata) in Intel's <a href="https://en.wikipedia.org/wiki/Broadwell_(microarchitecture)" title="Broadwell (microarchitecture)">Broadwell</a>.</dd>
<dt>Double-wide compare-and-swap&#160;</dt>
<dd>Operates on two adjacent pointer-sized locations (or, equivalently, one location twice as big as a pointer). On later x86 processors, the CMPXCHG8B and CMPXCHG16B instructions<sup id="cite_ref-13" class="reference"><a href="#cite_note-13">[13]</a></sup> serve this role, although early 64-bit AMD CPUs did not support CMPXCHG16B (modern AMD CPUs do). Some Intel motherboards from the <a href="https://en.wikipedia.org/wiki/Core_2" class="mw-redirect" title="Core 2">Core 2</a> era also hamper its use, even though the processors support it. These issues came into the spotlight at the launch of <a href="https://en.wikipedia.org/wiki/Windows_8.1" title="Windows 8.1">Windows 8.1</a> because it required hardware support for CMPXCHG16B.<sup id="cite_ref-14" class="reference"><a href="#cite_note-14">[14]</a></sup></dd>
<dt>Single compare, double swap&#160;</dt>
<dd>Compares one pointer but writes two. The Itanium's cmp8xchg16 instruction implements this,<sup id="cite_ref-15" class="reference"><a href="#cite_note-15">[15]</a></sup> where the two written pointers are adjacent.</dd>
<dt>Multi-word compare-and-swap&#160;</dt>
<dd>Is a generalisation of normal compare-and-swap. It can be used to atomically swap an arbitrary number of arbitrarily located memory locations. Usually, multi-word compare-and-swap is implemented in software using normal double-wide compare-and-swap operations.<sup id="cite_ref-16" class="reference"><a href="#cite_note-16">[16]</a></sup> The drawback of this approach is a lack of scalability.</dd>
</dl>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=8" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Amazon_SimpleDB#Conditional_Put_and_Delete" title="Amazon SimpleDB">Conditional Put and Delete</a></li>
<li><a href="https://en.wikipedia.org/wiki/Fetch-and-add" title="Fetch-and-add">Fetch-and-add</a></li>
<li><a href="https://en.wikipedia.org/wiki/Load-link/store-conditional" title="Load-link/store-conditional">Load-link/store-conditional</a></li>
<li><a href="https://en.wikipedia.org/wiki/Non-blocking_synchronization" class="mw-redirect" title="Non-blocking synchronization">Non-blocking synchronization</a></li>
<li><a href="https://en.wikipedia.org/wiki/Test-and-set" title="Test-and-set">Test-and-set</a></li>
<li><a href="https://en.wikipedia.org/wiki/Transactional_memory" title="Transactional memory">Transactional memory</a></li>
</ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=9" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="reflist columns references-column-width" style="-moz-column-width: 30em; -webkit-column-width: 30em; column-width: 30em; list-style-type: decimal;">
<ol class="references">
<li id="cite_note-plan9-1"><span class="mw-cite-backlink">^ <a href="#cite_ref-plan9_1-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-plan9_1-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><cite class="citation conference">Mullender, Sape; Cox, Russ (2008). <a rel="nofollow" class="external text" href="http://doc.cat-v.org/plan_9/IWP9/2008/iwp9_proceedings08.pdf#page=62"><i>Semaphores in Plan 9</i></a> <span style="font-size:85%;">(PDF)</span>. 3rd International Workshop on <a href="https://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs" title="Plan 9 from Bell Labs">Plan 9</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.au=Cox%2C+Russ&amp;rft.aufirst=Sape&amp;rft.aulast=Mullender&amp;rft.btitle=Semaphores+in+Plan+9&amp;rft.date=2008&amp;rft.genre=conference&amp;rft_id=http%3A%2F%2Fdoc.cat-v.org%2Fplan_9%2FIWP9%2F2008%2Fiwp9_proceedings08.pdf%23page%3D62&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-herlihy91-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-herlihy91_2-0">^</a></b></span> <span class="reference-text"><cite class="citation journal">Herlihy, Maurice (January 1991). <a rel="nofollow" class="external text" href="http://www.cs.brown.edu/~mph/Herlihy91/p124-herlihy.pdf">"Wait-free synchronization"</a> <span style="font-size:85%;">(PDF)</span>. <i>ACM Trans. Program. Lang. Syst</i>. <b>13</b> (1): 124–149. <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F114005.102808">10.1145/114005.102808</a><span class="reference-accessdate">. Retrieved <span class="nowrap">2007-05-20</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.atitle=Wait-free+synchronization&amp;rft.aufirst=Maurice&amp;rft.aulast=Herlihy&amp;rft.date=1991-01&amp;rft.genre=article&amp;rft_id=http%3A%2F%2Fwww.cs.brown.edu%2F~mph%2FHerlihy91%2Fp124-herlihy.pdf&amp;rft_id=info%3Adoi%2F10.1145%2F114005.102808&amp;rft.issue=1&amp;rft.jtitle=ACM+Trans.+Program.+Lang.+Syst.&amp;rft.pages=124-149&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.volume=13" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text">J. H. Anderson and M. Moir. "Universal constructions for multi-object operations". In <i>Proc. 14th Annual ACM Symposium on Principles of Distributed Computing</i>, pages 184–193, 1995. See their Table 1, Figures 1 &amp; 2 and Section 2 in particular.</span></li>
<li id="cite_note-dice-4"><span class="mw-cite-backlink">^ <a href="#cite_ref-dice_4-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-dice_4-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><cite class="citation journal">Dice, Dave; Hendler, Danny; Mirsky, Ilya (2013). "Lightweight Contention Management for Efficient Compare-and-Swap Operations". <a href="https://en.wikipedia.org/wiki/ArXiv" title="ArXiv">arXiv</a>:<span class="plainlinks"><a rel="nofollow" class="external text" href="http://arxiv.org/abs/1305.5800">1305.5800</a><span style="margin-left:0.1em"><img alt="Freely accessible" src="http://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/9px-Lock-green.svg.png" title="Freely accessible" width="9" height="14" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/14px-Lock-green.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/18px-Lock-green.svg.png 2x" data-file-width="512" data-file-height="813" /></span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.atitle=Lightweight+Contention+Management+for+Efficient+Compare-and-Swap+Operations&amp;rft.aufirst=Dave&amp;rft.au=Hendler%2C+Danny&amp;rft.aulast=Dice&amp;rft.au=Mirsky%2C+Ilya&amp;rft.date=2013&amp;rft.genre=article&amp;rft_id=info%3Aarxiv%2F1305.5800&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-5"><span class="mw-cite-backlink"><b><a href="#cite_ref-5">^</a></b></span> <span class="reference-text"><cite class="citation web">Goetz, Brian (23 November 2004). "Java theory and practice: Going atomic". <i>IBM developerWorks</i>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.atitle=Java+theory+and+practice%3A+Going+atomic&amp;rft.aufirst=Brian&amp;rft.aulast=Goetz&amp;rft.date=2004-11-23&amp;rft.genre=unknown&amp;rft.jtitle=IBM+developerWorks&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal" class="Z3988"><span style="display:none;">&#160;</span></span> <span style="display:none;font-size:100%" class="error citation-comment">Missing or empty <code style="color:inherit; border:inherit; padding:inherit;">|url=</code> (<a href="https://en.wikipedia.org/wiki/Help:CS1_errors#cite_web_url" title="Help:CS1 errors">help</a>);</span> <span style="display:none;font-size:100%" class="error citation-comment"><code style="color:inherit; border:inherit; padding:inherit;">|access-date=</code> requires <code style="color:inherit; border:inherit; padding:inherit;">|url=</code> (<a href="https://en.wikipedia.org/wiki/Help:CS1_errors#accessdate_missing_url" title="Help:CS1 errors">help</a>)</span></span></li>
<li id="cite_note-6"><span class="mw-cite-backlink"><b><a href="#cite_ref-6">^</a></b></span> <span class="reference-text">Tudor David, Rachid Guerraoui, and Vasileios Trigonakis. "Everything you always wanted to know about synchronization but were afraid to ask." <i>Proceedings of the Twenty-Fourth ACM Symposium on Operating Systems Principles</i>. ACM, 2013, pp. 33-48. Detail on p. 34</span></li>
<li id="cite_note-7"><span class="mw-cite-backlink"><b><a href="#cite_ref-7">^</a></b></span> <span class="reference-text">David S. Miller. <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/atomic_ops.txt">"Semantics and Behavior of Atomic and Bitmask Operations, for Linux port maintainers"</a>.</span></li>
<li id="cite_note-8"><span class="mw-cite-backlink"><b><a href="#cite_ref-8">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external free" href="http://en.cppreference.com/w/c/atomic/atomic_compare_exchange">http://en.cppreference.com/w/c/atomic/atomic_compare_exchange</a></span></li>
<li id="cite_note-9"><span class="mw-cite-backlink"><b><a href="#cite_ref-9">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="https://gcc.gnu.org/onlinedocs/gcc-4.3.5/gcc/Atomic-Builtins.html">"GNU C Extensions to the C Language Family: Built-in functions for atomic memory access"</a></span></li>
<li id="cite_note-10"><span class="mw-cite-backlink"><b><a href="#cite_ref-10">^</a></b></span> <span class="reference-text">Simon Doherty et al., "<a rel="nofollow" class="external text" href="http://people.csail.mit.edu/shanir/publications/DCAS.pdf">DCAS is not a silver bullet for nonblocking algorithm design</a>". 16th annual ACM symposium on Parallelism in algorithms and architectures, 2004, pp.&#160;216–224. <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F1007912.1007945">10.1145/1007912.1007945</a></span></li>
<li id="cite_note-Fraser2004-11"><span class="mw-cite-backlink"><b><a href="#cite_ref-Fraser2004_11-0">^</a></b></span> <span class="reference-text">Keir Fraser (2004), "Practical lock-freedom" <a rel="nofollow" class="external text" href="http://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-579.pdf">UCAM-CL-TR-579.pdf</a></span></li>
<li id="cite_note-12"><span class="mw-cite-backlink"><b><a href="#cite_ref-12">^</a></b></span> <span class="reference-text">Dave Dice, Yossi Lev, Mark Moir, Dan Nussbaum, and Marek Olszewski. (2009) "Early experience with a commercial hardware transactional memory implementation." Sun Microsystems technical report (60 pp.) SMLI TR-2009-180. A short version appeared at ASPLOS’09 <a href="https://en.wikipedia.org/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F1508244.1508263">10.1145/1508244.1508263</a>. The full-length report discusses how to implement DCAS using HTM in section 5.</span></li>
<li id="cite_note-13"><span class="mw-cite-backlink"><b><a href="#cite_ref-13">^</a></b></span> <span class="reference-text"><cite class="citation web"><a rel="nofollow" class="external text" href="http://www.intel.com/Assets/en_US/PDF/manual/253666.pdf">"Intel 64 and IA-32 Architectures Software Developer's Manual Volume 2A: Instruction Set Reference, A-M"</a> <span style="font-size:85%;">(PDF)</span><span class="reference-accessdate">. Retrieved <span class="nowrap">2007-12-15</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.btitle=Intel+64+and+IA-32+Architectures+Software+Developer%27s+Manual+Volume+2A%3A+Instruction+Set+Reference%2C+A-M&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fwww.intel.com%2FAssets%2Fen_US%2FPDF%2Fmanual%2F253666.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-14"><span class="mw-cite-backlink"><b><a href="#cite_ref-14">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external free" href="http://www.pcworld.com/article/2058683/new-windows-8-1-requirements-strand-some-users-on-windows-8.html">http://www.pcworld.com/article/2058683/new-windows-8-1-requirements-strand-some-users-on-windows-8.html</a></span></li>
<li id="cite_note-15"><span class="mw-cite-backlink"><b><a href="#cite_ref-15">^</a></b></span> <span class="reference-text"><cite class="citation web"><a rel="nofollow" class="external text" href="http://download.intel.com/design/Itanium/manuals/24531905.pdf">"Intel Itanium Architecture Software Developer's Manual Volume 3: Instruction Set Reference"</a> <span style="font-size:85%;">(PDF)</span><span class="reference-accessdate">. Retrieved <span class="nowrap">2007-12-15</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.btitle=Intel+Itanium+Architecture+Software+Developer%99s+Manual+Volume+3%3A+Instruction+Set+Reference&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fdownload.intel.com%2Fdesign%2FItanium%2Fmanuals%2F24531905.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
<li id="cite_note-16"><span class="mw-cite-backlink"><b><a href="#cite_ref-16">^</a></b></span> <span class="reference-text"><cite class="citation web"><a rel="nofollow" class="external text" href="http://www.cl.cam.ac.uk/research/srg/netos/papers/2002-casn.pdf">"A Practical Multi-Word Compare-and-Swap Operation"</a> <span style="font-size:85%;">(PDF)</span><span class="reference-accessdate">. Retrieved <span class="nowrap">2009-08-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.btitle=A+Practical+Multi-Word+Compare-and-Swap+Operation&amp;rft.genre=unknown&amp;rft_id=http%3A%2F%2Fwww.cl.cam.ac.uk%2Fresearch%2Fsrg%2Fnetos%2Fpapers%2F2002-casn.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">&#160;</span></span></span></li>
</ol>
</div>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=10" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table class="plainlinks metadata ambox ambox-style ambox-external_links" role="presentation">
<tr>
<td class="mbox-image">
<div style="width:52px"><img alt="" src="http://upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/40px-Edit-clear.svg.png" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/60px-Edit-clear.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/80px-Edit-clear.svg.png 2x" data-file-width="48" data-file-height="48" /></div>
</td>
<td class="mbox-text"><span class="mbox-text-span">This article's <b>use of <a href="https://en.wikipedia.org/wiki/Wikipedia:External_links" title="Wikipedia:External links">external links</a> may not follow Wikipedia's policies or guidelines</b>. <span class="hide-when-compact">Please <a class="external text" href="http://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit">improve this article</a> by removing <a href="https://en.wikipedia.org/wiki/Wikipedia:What_Wikipedia_is_not#Wikipedia_is_not_a_mirror_or_a_repository_of_links.2C_images.2C_or_media_files" title="Wikipedia:What Wikipedia is not">excessive</a> or <a href="https://en.wikipedia.org/wiki/Wikipedia:External_links" title="Wikipedia:External links">inappropriate</a> external links, and converting useful links where appropriate into <a href="https://en.wikipedia.org/wiki/Wikipedia:Citing_sources" title="Wikipedia:Citing sources">footnote references</a>.</span> <small><i>(February 2015)</i></small> <small class="hide-when-compact"><i>(<a href="https://en.wikipedia.org/wiki/Help:Maintenance_template_removal" title="Help:Maintenance template removal">Learn how and when to remove this template message</a>)</i></small></span></td>
</tr>
</table>
<h3><span class="mw-headline" id="Basic_algorithms_implemented_using_CAS">Basic algorithms implemented using CAS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=11" title="Edit section: Basic algorithms implemented using CAS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li><cite class="citation journal">Sundell, Håkan; Tsigas, Philippas. <a rel="nofollow" class="external text" href="http://www.non-blocking.com/download/SunT04_Deque_TR.pdf">"Lock-Free and Practical Deques using Single-Word Compare-And-Swap"</a> <span style="font-size:85%;">(PDF)</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.atitle=Lock-Free+and+Practical+Deques+using+Single-Word+Compare-And-Swap&amp;rft.aufirst=H%C3%A5kan&amp;rft.aulast=Sundell&amp;rft.au=Tsigas%2C+Philippas&amp;rft.genre=article&amp;rft_id=http%3A%2F%2Fwww.non-blocking.com%2Fdownload%2FSunT04_Deque_TR.pdf&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal" class="Z3988"><span style="display:none;">&#160;</span></span></li>
<li><cite class="citation journal"><a href="https://en.wikipedia.org/w/index.php?title=John_D._Valois&amp;action=edit&amp;redlink=1" class="new" title="John D. Valois (page does not exist)">Valois, John D.</a> "Lock-Free Linked Lists Using Compare-and-Swap". <a href="https://en.wikipedia.org/wiki/CiteSeerX" title="CiteSeerX">CiteSeerX</a>&#160;<span class="plainlinks"><a rel="nofollow" class="external text" href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.41.9506">10.1.1.41.9506</a><span style="margin-left:0.1em"><img alt="Freely accessible" src="http://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/9px-Lock-green.svg.png" title="Freely accessible" width="9" height="14" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/14px-Lock-green.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/18px-Lock-green.svg.png 2x" data-file-width="512" data-file-height="813" /></span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.atitle=Lock-Free+Linked+Lists+Using+Compare-and-Swap&amp;rft.aufirst=John+D.&amp;rft.aulast=Valois&amp;rft.genre=article&amp;rft_id=%2F%2Fciteseerx.ist.psu.edu%2Fviewdoc%2Fsummary%3Fdoi%3D10.1.1.41.9506&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal" class="Z3988"><span style="display:none;">&#160;</span></span></li>
<li><cite class="citation journal">Prakash, S.; Lee, Yann Hang; Johnson, T. <a rel="nofollow" class="external text" href="http://csdl.computer.org/comp/trans/tc/1994/05/t0548abs.htm">"A Nonblocking Algorithm for Shared Queues Using Compare-and-Swap"</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACompare-and-swap&amp;rft.atitle=A+Nonblocking+Algorithm+for+Shared+Queues+Using+Compare-and-Swap&amp;rft.aufirst=S.&amp;rft.au=Johnson%2C+T.&amp;rft.aulast=Prakash&amp;rft.au=Lee%2C+Yann+Hang&amp;rft.genre=article&amp;rft_id=http%3A%2F%2Fcsdl.computer.org%2Fcomp%2Ftrans%2Ftc%2F1994%2F05%2Ft0548abs.htm&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal" class="Z3988"><span style="display:none;">&#160;</span></span></li>
<li>2003 discussion "<a rel="nofollow" class="external text" href="https://software.intel.com/fr-fr/forums/topic/311067">Lock-Free using cmpxchg8b...</a>" on Intel x86 with pointers to various papers and source code</li>
</ul>
<h3><span class="mw-headline" id="Implementations_of_CAS">Implementations of CAS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit&amp;section=12" title="Edit section: Implementations of CAS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="http://pic.dhe.ibm.com/infocenter/aix/v7r1/topic/com.ibm.aix.kerneltechref/doc/ktechrf1/compare_and_swap.htm">AIX compare_and_swap Kernel Service</a></li>
<li>Java package <code><a rel="nofollow" class="external text" href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html">java.util.concurrent.atomic</a></code> implements `compareAndSet` in various classes</li>
<li>.NET Class methods <a rel="nofollow" class="external text" href="https://msdn.microsoft.com/en-us/library/system.threading.interlocked.aspx">Interlocked::CompareExchange</a></li>
<li>Windows API <a rel="nofollow" class="external text" href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms683560.aspx">InterlockedCompareExchange</a></li>
</ul>


<!-- 
NewPP limit report
Parsed by mw1183
Cached time: 20161230181330
Cache expiry: 2592000
Dynamic content: false
CPU time usage: 0.152 seconds
Real time usage: 0.203 seconds
Preprocessor visited node count: 961/1000000
Preprocessor generated node count: 0/1500000
Post‐expand include size: 24714/2097152 bytes
Template argument size: 979/2097152 bytes
Highest expansion depth: 11/40
Expensive parser function count: 3/500
Lua time usage: 0.068/10.000 seconds
Lua memory usage: 3.24 MB/50 MB
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  173.490      1 - -total
 43.83%   76.047      1 - Template:Reflist
 27.41%   47.556      1 - Template:Clarify
 19.89%   34.509      1 - Template:Fix-span
 16.78%   29.117      1 - Template:Cite_conference
 12.44%   21.586      2 - Template:Category_handler
 10.21%   17.712      5 - Template:Cite_journal
  8.26%   14.330      4 - Template:Cite_web
  7.52%   13.040      1 - Template:External_links
  6.04%   10.484      1 - Template:Ambox
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:632224-0!*!0!!en!4!* and timestamp 20161230181330 and revision id 753300704
 -->
<noscript><img src="http://en.wikipedia.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;oldid=753300704">https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;oldid=753300704</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://en.wikipedia.org/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="https://en.wikipedia.org/wiki/Category:Computer_arithmetic" title="Category:Computer arithmetic">Computer arithmetic</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Concurrency_control" title="Category:Concurrency control">Concurrency control</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="https://en.wikipedia.org/wiki/Category:Pages_using_web_citations_with_no_URL" title="Category:Pages using web citations with no URL">Pages using web citations with no URL</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Pages_using_citations_with_accessdate_and_no_URL" title="Category:Pages using citations with accessdate and no URL">Pages using citations with accessdate and no URL</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Wikipedia_articles_needing_clarification_from_April_2009" title="Category:Wikipedia articles needing clarification from April 2009">Wikipedia articles needing clarification from April 2009</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Wikipedia_external_links_cleanup_from_February_2015" title="Category:Wikipedia external links cleanup from February 2015">Wikipedia external links cleanup from February 2015</a></li><li><a href="https://en.wikipedia.org/wiki/Category:Wikipedia_spam_cleanup_from_February_2015" title="Category:Wikipedia spam cleanup from February 2015">Wikipedia spam cleanup from February 2015</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-anonuserpage">Not logged in</li><li id="pt-anontalk"><a href="https://en.wikipedia.org/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="https://en.wikipedia.org/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="https://en.wikipedia.org/w/index.php?title=Special:CreateAccount&amp;returnto=Compare-and-swap" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://en.wikipedia.org/w/index.php?title=Special:UserLogin&amp;returnto=Compare-and-swap" title="You're encouraged to log in; however, it's not mandatory. [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Compare-and-swap.html"  title="View the content page [c]" accesskey="c">Article</a></span></li>
															<li  id="ca-talk"><span><a href="https://en.wikipedia.org/wiki/Talk:Compare-and-swap"  title="Discussion about the content page [t]" accesskey="t" rel="discussion">Talk</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span><a href="#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Compare-and-swap.html" >Read</a></span></li>
															<li id="ca-edit"><span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=edit"  title="Edit this page [e]" accesskey="e">Edit</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://en.wikipedia.org/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search Wikipedia" title="Search Wikipedia [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search Wikipedia for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="https://en.wikipedia.org/wiki/Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-mainpage-description"><a href="https://en.wikipedia.org/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-contents"><a href="https://en.wikipedia.org/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li><li id="n-featuredcontent"><a href="https://en.wikipedia.org/wiki/Portal:Featured_content" title="Featured content – the best of Wikipedia">Featured content</a></li><li id="n-currentevents"><a href="https://en.wikipedia.org/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li><li id="n-randompage"><a href="https://en.wikipedia.org/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li><li id="n-sitesupport"><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_en.wikipedia.org&amp;uselang=en" title="Support us">Donate to Wikipedia</a></li><li id="n-shoplink"><a href="http://shop.wikimedia.org/" title="Visit the Wikipedia store">Wikipedia store</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-interaction' aria-labelledby='p-interaction-label'>
			<h3 id='p-interaction-label'>Interaction</h3>

			<div class="body">
									<ul>
						<li id="n-help"><a href="https://en.wikipedia.org/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li><li id="n-aboutsite"><a href="https://en.wikipedia.org/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li><li id="n-portal"><a href="https://en.wikipedia.org/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="https://en.wikipedia.org/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-contactpage"><a href="http://en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact page</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="https://en.wikipedia.org/wiki/Special:WhatLinksHere/Compare-and-swap" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://en.wikipedia.org/wiki/Special:RecentChangesLinked/Compare-and-swap" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="https://en.wikipedia.org/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="https://en.wikipedia.org/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-permalink"><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;oldid=753300704" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;action=info" title="More information about this page">Page information</a></li><li id="t-wikibase"><a href="https://www.wikidata.org/wiki/Q128562" title="Link to connected data repository item [g]" accesskey="g">Wikidata item</a></li><li id="t-cite"><a href="https://en.wikipedia.org/w/index.php?title=Special:CiteThisPage&amp;page=Compare-and-swap&amp;id=753300704" title="Information on how to cite this page">Cite this page</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-coll-print_export' aria-labelledby='p-coll-print_export-label'>
			<h3 id='p-coll-print_export-label'>Print/export</h3>

			<div class="body">
									<ul>
						<li id="coll-create_a_book"><a href="https://en.wikipedia.org/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Compare-and-swap">Create a book</a></li><li id="coll-download-as-rdf2latex"><a href="https://en.wikipedia.org/w/index.php?title=Special:Book&amp;bookcmd=render_article&amp;arttitle=Compare-and-swap&amp;returnto=Compare-and-swap&amp;oldid=753300704&amp;writer=rdf2latex">Download as PDF</a></li><li id="t-print"><a href="https://en.wikipedia.org/w/index.php?title=Compare-and-swap&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-lang' aria-labelledby='p-lang-label'>
			<h3 id='p-lang-label'>Languages</h3>

			<div class="body">
									<ul>
						<li class="interlanguage-link interwiki-de"><a href="https://de.wikipedia.org/wiki/Compare-and-swap" title="Compare-and-swap – German" lang="de" hreflang="de" class="interlanguage-link-target">Deutsch</a></li><li class="interlanguage-link interwiki-fr"><a href="https://fr.wikipedia.org/wiki/Compare-and-swap" title="Compare-and-swap – French" lang="fr" hreflang="fr" class="interlanguage-link-target">Français</a></li><li class="interlanguage-link interwiki-ja"><a href="https://ja.wikipedia.org/wiki/コンペア・アンド・スワップ" title="コンペア・アンド・スワップ – Japanese" lang="ja" hreflang="ja" class="interlanguage-link-target">日本語</a></li><li class="interlanguage-link interwiki-pl"><a href="https://pl.wikipedia.org/wiki/Compare-and-swap" title="Compare-and-swap – Polish" lang="pl" hreflang="pl" class="interlanguage-link-target">Polski</a></li><li class="interlanguage-link interwiki-ru"><a href="https://ru.wikipedia.org/wiki/Сравнение_с_обменом" title="Сравнение с обменом – Russian" lang="ru" hreflang="ru" class="interlanguage-link-target">Русский</a></li><li class="interlanguage-link interwiki-sv"><a href="https://sv.wikipedia.org/wiki/Compare-and-swap" title="Compare-and-swap – Swedish" lang="sv" hreflang="sv" class="interlanguage-link-target">Svenska</a></li><li class="interlanguage-link interwiki-uk"><a href="https://uk.wikipedia.org/wiki/Compare-and-swap" title="Compare-and-swap – Ukrainian" lang="uk" hreflang="uk" class="interlanguage-link-target">Українська</a></li><li class="interlanguage-link interwiki-zh"><a href="https://zh.wikipedia.org/wiki/比较并交换" title="比较并交换 – Chinese" lang="zh" hreflang="zh" class="interlanguage-link-target">中文</a></li><li class="uls-p-lang-dummy"><a href="#"></a></li>					</ul>
				<div class='after-portlet after-portlet-lang'><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Q128562#sitelinks-wikipedia" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>			</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 6 December 2016, at 10:14.</li>
											<li id="footer-info-copyright">Text is available under the <a rel="license" href="http://en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License">Creative Commons Attribution-ShareAlike License</a><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/" style="display:none;"></a>;
additional terms may apply.  By using this site, you agree to the <a href="http://wikimediafoundation.org/wiki/Terms_of_Use">Terms of Use</a> and <a href="http://wikimediafoundation.org/wiki/Privacy_policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a href="http://www.wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wikimediafoundation.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://en.wikipedia.org/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
											<li id="footer-places-disclaimer"><a href="https://en.wikipedia.org/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
											<li id="footer-places-contact"><a href="http://en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
											<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
											<li id="footer-places-cookiestatement"><a href="https://wikimediafoundation.org/wiki/Cookie_statement">Cookie statement</a></li>
											<li id="footer-places-mobileview"><a href="http://en.m.wikipedia.org/w/index.php?title=Compare-and-swap&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
							<a href="https://wikimediafoundation.org/"><img src="https://en.wikipedia.org/static/images/wikimedia-button.png" srcset="/static/images/wikimedia-button-1.5x.png 1.5x, /static/images/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation"/></a>						</li>
											<li id="footer-poweredbyico">
							<a href="http://www.mediawiki.org/"><img src="https://en.wikipedia.org/static/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/poweredby_mediawiki_132x47.png 1.5x, /static/images/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":280,"wgHostname":"mw1183"});});</script>
	</body>

<!-- Mirrored from en.wikipedia.org/wiki/Compare-and-swap by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 31 Dec 2016 04:57:47 GMT -->
</html>
